// Automatically generated file.  Do not edit!

var b,h={g:{}};h.g.D=function(a){this.qF=a};h.g.D.prototype.toString=function(){return this.qF};h.g.D.Ap=new h.g.D("animate");h.g.D.zu=new h.g.D("circle");h.g.D.Au=new h.g.D("clipPath");h.g.D.Hu=new h.g.D("defs");h.g.D.Pp=new h.g.D("feComposite");h.g.D.aA=new h.g.D("feComponentTransfer");h.g.D.bA=new h.g.D("feFlood");h.g.D.cA=new h.g.D("feFuncA");h.g.D.dA=new h.g.D("feGaussianBlur");h.g.D.eA=new h.g.D("fePointLight");h.g.D.fA=new h.g.D("feSpecularLighting");h.g.D.Ou=new h.g.D("filter");h.g.D.EG=new h.g.D("foreignObject");
h.g.D.Sc=new h.g.D("g");h.g.D.Ek=new h.g.D("image");h.g.D.Ik=new h.g.D("line");h.g.D.Ke=new h.g.D("path");h.g.D.yv=new h.g.D("pattern");h.g.D.aB=new h.g.D("polygon");h.g.D.Mb=new h.g.D("rect");h.g.D.jj=new h.g.D("svg");h.g.D.Jv=new h.g.D("text");h.g.D.Lv=new h.g.D("tspan");
h.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();h.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}h.g.userAgent.raw=a;var d=h.g.userAgent.raw.toUpperCase();h.g.userAgent.ae=c("Trident")||c("MSIE");h.g.userAgent.Eh=c("Edge");h.g.userAgent.DA=c("JavaFX");h.g.userAgent.VF=(c("Chrome")||c("CriOS"))&&!h.g.userAgent.Eh;h.g.userAgent.Qv=c("WebKit")&&!h.g.userAgent.Eh;h.g.userAgent.pA=c("Gecko")&&!h.g.userAgent.Qv&&!h.g.userAgent.ae&&!h.g.userAgent.Eh;h.g.userAgent.Tm=c("Android");a=h.g.global.navigator&&h.g.global.navigator.maxTouchPoints;h.g.userAgent.Fk=
c("iPad")||c("Macintosh")&&0<a;h.g.userAgent.$u=c("iPod");h.g.userAgent.Zu=c("iPhone")&&!h.g.userAgent.Fk&&!h.g.userAgent.$u;h.g.userAgent.IA=c("Macintosh");h.g.userAgent.uB=h.g.userAgent.Fk||h.g.userAgent.Tm&&!c("Mobile")||c("Silk");h.g.userAgent.yH=!h.g.userAgent.uB&&(h.g.userAgent.$u||h.g.userAgent.Zu||h.g.userAgent.Tm||c("IEMobile"))})(h.g.global.navigator&&h.g.global.navigator.userAgent||"");h.g.j={};h.g.j.Cn="http://www.w3.org/2000/svg";h.g.j.Up="http://www.w3.org/1999/xhtml";h.g.j.ld="http://www.w3.org/1999/xlink";h.g.j.sg={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};h.g.j.ie=null;h.g.j.Vq=0;h.g.j.Pn=null;h.g.j.J=function(a,c,d){a=document.createElementNS(h.g.j.Cn,String(a));for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
h.g.j.Nb=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};h.g.j.mK=function(a,c){c=c.split(" ");for(var d=0;d<c.length;d++)h.g.j.fd(a,c[d])};h.g.j.fd=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};
h.g.j.os=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};h.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};h.g.j.Qj=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};h.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&h.g.j.sg.DOCUMENT_POSITION_CONTAINED_BY)};
h.g.j.rm=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};h.g.j.Am=function(){h.g.j.Vq++;h.g.j.ie||(h.g.j.ie=Object.create(null))};h.g.j.Bm=function(){h.g.j.Vq--;h.g.j.Vq||(h.g.j.ie=null)};h.g.j.SJ=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(h.g.j.ie&&(d=h.g.j.ie[c]))return d;try{d=h.g.userAgent.ae||h.g.userAgent.Eh?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}h.g.j.ie&&(h.g.j.ie[c]=d);return d};
h.g.j.bs=function(a,c,d,e){return h.g.j.jD(a,c+"pt",d,e)};h.g.j.jD=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(h.g.j.ie&&(g=h.g.j.ie[a]))return g;h.g.j.Pn||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),h.g.j.Pn=g.getContext("2d"));h.g.j.Pn.font=d+" "+c+" "+e;g=h.g.j.Pn.measureText(f).width;h.g.j.ie&&(h.g.j.ie[a]=g);return g};
h.g.j.XD=function(a,c,d){var e=document.createElement("span");e.style.font=c+" "+a+" "+d;e.textContent="Hg";a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(e);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.ge=a.offsetTop-e.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(c)}return d};h.g.Md={};h.g.Md.au=function(a){return a*Math.PI/180};h.g.Md.tF=function(a){return 180*a/Math.PI};h.g.Md.al=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};h.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};h.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};h.g.T=function(a,c){this.x=a;this.y=c};h.g.T.Nf=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};h.g.T.Er=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};h.g.T.VD=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};h.g.T.ql=function(a,c){return new h.g.T(a.x-c.x,a.y-c.y)};h.g.T.sum=function(a,c){return new h.g.T(a.x+c.x,a.y+c.y)};h.g.T.prototype.clone=function(){return new h.g.T(this.x,this.y)};h.g.T.prototype.scale=function(a){this.x*=a;this.y*=a;return this};
h.g.T.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};h.g.Uc=function(a,c){this.width=a;this.height=c};h.g.Uc.Nf=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};h.g.style={};h.g.style.Pf=function(a){if("none"!=h.g.style.nx(a,"display"))return h.g.style.lx(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new h.g.Uc(g,a)};h.g.style.lx=function(a){return new h.g.Uc(a.offsetWidth,a.offsetHeight)};h.g.style.nx=function(a,c){return h.g.style.getComputedStyle(a,c)||h.g.style.bD(a,c)||a.style&&a.style[c]};
h.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};h.g.style.bD=function(a,c){return a.currentStyle?a.currentStyle[c]:null};h.g.style.bi=function(a){var c=new h.g.T(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new h.g.T(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
h.g.style.rD=function(){var a=document.body,c=document.documentElement;return new h.g.T(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};h.g.style.vK=function(a,c){a.style.display=c?"":"none"};h.g.style.aK=function(a){return"rtl"==h.g.style.nx(a,"direction")};
h.g.style.ZC=function(a){var c=h.g.style.getComputedStyle(a,"borderLeftWidth"),d=h.g.style.getComputedStyle(a,"borderRightWidth"),e=h.g.style.getComputedStyle(a,"borderTopWidth");a=h.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};h.g.style.aF=function(a,c){a=h.g.style.eD(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
h.g.style.eD=function(a,c){var d=h.g.style.bi(a),e=h.g.style.bi(c),f=h.g.style.ZC(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=h.g.style.lx(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new h.g.T(f,k)};
h.C=function(){};h.C.Sq=null;h.C.Qd=null;h.C.Ay=null;h.C.Vm=16;h.C.wu=1;h.C.su=12;h.C.wv=16;h.C.Bp=.25;h.C.Kq=null;h.C.Di=null;h.C.ve="";h.C.Ae="";
h.C.Wa=function(){if(!h.C.Fe){var a=document.createElement("div");a.className="blocklyDropDownDiv";(h.cp||document.body).appendChild(a);h.C.Fe=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);h.C.Jf=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);h.C.Cd=c;h.C.Fe.style.opacity=0;h.C.Fe.style.transition="transform "+h.C.Bp+"s, opacity "+h.C.Bp+"s";a.addEventListener("focusin",function(){h.g.j.Nb(a,"blocklyFocused")});a.addEventListener("focusout",
function(){h.g.j.fd(a,"blocklyFocused")})}};h.C.bF=function(a){h.C.Sq=a};h.C.fD=function(){return h.C.Jf};h.C.iC=function(){h.C.Jf.textContent="";h.C.Jf.style.width=""};h.C.we=function(a,c){h.C.Fe.style.backgroundColor=a;h.C.Fe.style.borderColor=c};h.C.yK=function(a,c,d,e){return h.C.My(h.C.ix(c),a,d,e)};h.C.hF=function(a,c){h.C.Ay=!0;h.C.My(h.C.jx(a),a,c,void 0)};
h.C.ix=function(a){var c=a.pa(),d=c.getBBox(),e=a.B.scale;a=d.height*e;d=d.width*e;c=h.g.style.bi(c);return new h.g.Rect(c.y,c.y+a,c.x,c.x+d)};
h.C.jx=function(a){if(a.Pb)c=a.Pb.getBoundingClientRect(),a=h.g.style.bi(a.Pb),e=c.width,c=c.height;else{var c=r(a.L);var d=a.L.B.scale;a=h.g.style.bi(aa(a));var e=c.width*d;c=c.height*d;h.g.userAgent.pA?(a.x+=1.5*d,a.y+=1.5*d):h.g.userAgent.Eh||h.g.userAgent.ae||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}d=new h.g.Rect(a.y,a.y+c,a.x,a.x+e);return new h.g.Rect(d.top,d.bottom,d.left,d.right)};
h.C.My=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.$();for(var k=e.B;k.options.ed;)k=k.options.ed;h.C.bF(t(k).parentNode);return h.C.show(c,e.I,f,g,f,a,d)};h.C.show=function(a,c,d,e,f,g,k){h.C.Qd=a;h.C.Di=k||null;a=h.C.Fe;a.style.direction=c?"rtl":"ltr";c=h.Lg();h.C.ve=c.ob.ne();h.C.Ae=c.Qf().ne();h.g.j.Nb(a,h.C.ve);h.g.j.Nb(a,h.C.Ae);return h.C.jm(d,e,f,g)};
h.C.$C=function(){var a=h.g.style.bi(h.C.Sq),c=h.g.style.Pf(h.C.Sq);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};h.C.kD=function(a,c,d,e){var f=h.C.$C(),g=h.g.style.Pf(h.C.Fe);return c+g.height<f.bottom?h.C.hx(a,c,f,g):e-g.height>f.top?h.C.gx(d,e,f,g):c+g.height<document.documentElement.clientHeight?h.C.hx(a,c,f,g):e-g.height>document.documentElement.clientTop?h.C.gx(d,e,f,g):h.C.lD(a,f,g)};
h.C.hx=function(a,c,d,e){a=h.C.hs(a,d.left,d.right,e.width);return{ts:a.Ej,us:c,Rr:a.Ej,Sr:c+h.C.wv,qj:a.qj,Mq:-(h.C.Vm/2+h.C.wu),Mn:!0,Lq:!0}};h.C.gx=function(a,c,d,e){a=h.C.hs(a,d.left,d.right,e.width);return{ts:a.Ej,us:c-e.height,Rr:a.Ej,Sr:c-e.height-h.C.wv,qj:a.qj,Mq:e.height-2*h.C.wu-h.C.Vm/2,Mn:!1,Lq:!0}};h.C.lD=function(a,c,d){a=h.C.hs(a,c.left,c.right,d.width);return{ts:a.Ej,us:0,Rr:a.Ej,Sr:0,Mn:null,qj:null,Mq:null,Lq:!1}};
h.C.hs=function(a,c,d,e){var f=a;a=h.g.Md.al(c,a-e/2,d-e);f-=h.C.Vm/2;c=h.g.Md.al(h.C.su,f-a,e-h.C.su-h.C.Vm);return{qj:c,Ej:a}};h.C.isVisible=function(){return!!h.C.Qd};h.C.Ll=function(a,c){h.C.Qd===a&&(c?h.C.wo():h.C.ab())};h.C.ab=function(){var a=h.C.Fe;a.style.transform="translate(0, 0)";a.style.opacity=0;h.C.Kq=setTimeout(function(){h.C.wo()},1E3*h.C.Bp);h.C.Di&&(h.C.Di(),h.C.Di=null)};
h.C.wo=function(){if(h.C.isVisible()){h.C.Kq&&clearTimeout(h.C.Kq);var a=h.C.Fe;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";h.C.Di&&(h.C.Di(),h.C.Di=null);h.C.iC();h.C.Qd=null;h.C.ve&&(h.g.j.fd(a,h.C.ve),h.C.ve="");h.C.Ae&&(h.g.j.fd(a,h.C.Ae),h.C.Ae="");ba(h.Lg())}};
h.C.jm=function(a,c,d,e){a=h.C.kD(a,c,d,e);a.Lq?(h.C.Cd.style.display="",h.C.Cd.style.transform="translate("+a.qj+"px,"+a.Mq+"px) rotate(45deg)",h.C.Cd.setAttribute("class",a.Mn?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):h.C.Cd.style.display="none";c=Math.floor(a.ts);d=Math.floor(a.us);e=Math.floor(a.Rr);var f=Math.floor(a.Sr),g=h.C.Fe;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return!!a.Mn};h.C.oK=function(){if(h.C.Qd){var a=h.C.Qd,c=a.$();a=h.C.Ay?h.C.jx(a):h.C.ix(c);c=a.left+(a.right-a.left)/2;h.C.jm(c,a.bottom,c,a.top)}else h.C.ab()};
h.X={Zb:1,Tc:2,$b:3,kd:4};
h.lb={};h.cv=40;h.xv=125;h.Pz=5;h.lA=10;h.oc=28;h.Du=h.oc;h.Dz=8;h.Ep=250;h.Fp=10;h.zz=30;h.HA=750;h.oB=100;h.Qz=!0;h.uA=.45;h.vA=.65;h.hj={width:96,height:124,url:"sprites.png"};h.lb.Yd={Hb:-1,Zm:0,Gc:1};h.fG=0;h.gG=1;h.dG=1;h.eG=2;h.ej=[];h.ej[h.X.Zb]=h.X.Tc;h.ej[h.X.Tc]=h.X.Zb;h.ej[h.X.$b]=h.X.kd;h.ej[h.X.kd]=h.X.$b;h.Ph="VARIABLE";h.zB="VARIABLE_DYNAMIC";h.lq="PROCEDURE";h.FI="RENAME_VARIABLE_ID";h.cG="DELETE_VARIABLE_ID";h.lb.an="_TEMP_COLLAPSED_INPUT";h.lb.$m="_TEMP_COLLAPSED_FIELD";
h.M={};h.g.global.Blockly||(h.g.global.Blockly={});h.g.global.Blockly.Msg||(h.g.global.Blockly.Msg=h.M);h.g.tb={};h.g.tb.parse=function(a){a=String(a).toLowerCase().trim();var c=h.g.tb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?h.g.tb.Jt(a,c,d):null};
h.g.tb.Jt=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};h.g.tb.xx=function(a){a=h.g.tb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
h.g.tb.Cx=function(a){var c=h.uA,d=255*h.vA,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=m;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=c,g=a}}return h.g.tb.Jt(Math.floor(e),Math.floor(f),Math.floor(g))};
h.g.tb.Oq=function(a,c,d){a=h.g.tb.parse(a);if(!a)return null;c=h.g.tb.parse(c);if(!c)return null;a=h.g.tb.xx(a);c=h.g.tb.xx(c);return h.g.tb.Jt(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};h.g.tb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};h.g.Ra={};h.g.Ra.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};h.g.Ra.Tt=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};h.g.Ra.nw=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Ra.Tt(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
h.g.Ra.ow=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Ra.Tt(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};h.g.Ra.iz=function(a,c){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=h.g.Ra.FF(a[d],c);return a.join("\n")};
h.g.Ra.FF=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=h.g.Ra.jz(d,a,c);e=h.g.Ra.mu(d,a,c);a=h.g.Ra.GF(d,a);f++}while(e>g);return k};
h.g.Ra.mu=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
h.g.Ra.jz=function(a,c,d){for(var e=h.g.Ra.mu(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=h.g.Ra.mu(a,k,d);l>e&&(e=l,f=k)}return f?h.g.Ra.jz(a,f,d):c};h.g.Ra.GF=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};
h.g.iE=function(a){a.preventDefault();a.stopPropagation()};h.g.Ho=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.cK};
h.g.qe=function(a){var c=new h.g.T(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(h.g.qe.AB))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(h.g.qe.BB))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
h.g.Fl=function(a){for(var c=0,d=0;a;){var e=h.g.qe(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new h.g.T(c,d)};h.g.qe.AB=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;h.g.qe.BB=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;h.g.Tl=function(a){return a.ctrlKey&&h.g.userAgent.IA?!0:2==a.button};
h.g.cm=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};h.g.kx=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*h.cv,y:a.deltaY*h.cv};case 2:return{x:a.deltaX*h.xv,y:a.deltaY*h.xv}}};h.g.uF=function(a){return h.g.bu(a,!0)};h.g.gd=function(a){if("string"!=typeof a)return a;a=h.g.bu(a,!1);return a.length?String(a[0]):""};
h.g.iw=function(a){for(var c=h.M,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+d[e]+" in "+a)};
h.g.bu=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=h.g.Ra.startsWith(l,"BKY_")?
l.substring(4):null)&&l in h.M?(f=h.M[l],"string"==typeof f?Array.prototype.push.apply(d,h.g.bu(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};h.g.Xe=function(){for(var a=h.g.Xe.Ny.length,c=[],d=0;20>d;d++)c[d]=h.g.Xe.Ny.charAt(Math.random()*a);return c.join("")};
h.g.Xe.Ny="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
h.g.li=function(){if(void 0!==h.g.li.Yq)return h.g.li.Yq;if(!h.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=h.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
h.g.li.Yq="none"!==c;return h.g.li.Yq};h.g.Hy=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};h.g.qD=function(){var a=h.g.style.rD();return new h.g.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};
h.g.Xk=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};h.g.iD=function(){var a=document.documentElement,c=window;return h.g.userAgent.ae&&c.pageYOffset!=a.scrollTop?new h.g.T(a.scrollLeft,a.scrollTop):new h.g.T(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};h.g.Wr=function(a,c){var d=Object.create(null),e=v(a,!0);c&&(a=w(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;c=e[a];a++)d[c.type]?d[c.type]++:d[c.type]=1;return d};
h.g.sK=function(a,c){var d=c.x;c=c.y;var e=ca(a).getBoundingClientRect();d=new h.g.T(d-e.left,c-e.top);c=h.g.Fl(a.xb);return h.g.T.ql(d,c).scale(1/a.scale)};h.g.ep=function(a){var c="string"==typeof a?h.g.gd(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{CD:d,Kl:h.g.tb.Cx(d)};if(d=h.g.tb.parse(c))return{CD:null,Kl:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};h.Touch={};h.Touch.Kv="ontouchstart"in h.g.global||!!(h.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!h.g.global.navigator||!h.g.global.navigator.maxTouchPoints&&!h.g.global.navigator.msMaxTouchPoints);h.Touch.Jm=null;h.Touch.Le={};
h.g.global.PointerEvent?h.Touch.Le={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:h.Touch.Kv&&(h.Touch.Le={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});h.No=0;
h.UD=function(a,c){h.Yg();a.changedTouches&&1!=a.changedTouches.length||(h.No=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&da(c,a)},h.HA))};h.Yg=function(){h.No&&(clearTimeout(h.No),h.No=0)};h.Touch.Sn=function(){h.Touch.Jm=null};h.Touch.Vt=function(a){return!h.Touch.ND(a)||h.Touch.hC(a)};
h.Touch.to=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};h.Touch.hC=function(a){var c=h.Touch.to(a);return void 0!==h.Touch.Jm&&null!==h.Touch.Jm?h.Touch.Jm==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(h.Touch.Jm=c,!0):!1};
h.Touch.cF=function(a){if(h.g.Ra.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};h.Touch.ND=function(a){return h.g.Ra.startsWith(a.type,"touch")||h.g.Ra.startsWith(a.type,"mouse")||h.g.Ra.startsWith(a.type,"pointer")};h.Touch.Jo=function(a){return h.g.Ra.startsWith(a.type,"touch")||h.g.Ra.startsWith(a.type,"pointer")};
h.Touch.kF=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};h.N={};h.N.Ba=function(a,c,d,e,f,g){function k(u){var H=!f;u=h.Touch.kF(u);for(var L=0,I;I=u[L];L++)if(!H||h.Touch.Vt(I))h.Touch.cF(I),d?e.call(d,I):e(I),l=!0}var l=!1,m=[];if(h.g.global.PointerEvent&&c in h.Touch.Le)for(var n=0,q;q=h.Touch.Le[c][n];n++)a.addEventListener(q,k,!1),m.push([a,q,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in h.Touch.Le){var p=function(u){k(u);var H=!g;l&&H&&u.preventDefault()};for(n=0;q=h.Touch.Le[c][n];n++)a.addEventListener(q,p,!1),m.push([a,q,p])}return m};
h.N.bind=function(a,c,d,e){function f(n){d?e.call(d,n):e(n)}var g=[];if(h.g.global.PointerEvent&&c in h.Touch.Le)for(var k=0,l;l=h.Touch.Le[c][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(c,f,!1),g.push([a,c,f]),c in h.Touch.Le){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var q=n.changedTouches[0];n.clientX=q.clientX;n.clientY=q.clientY}f(n);n.preventDefault()};for(k=0;l=h.Touch.Le[c][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
h.N.yb=function(a){for(;a.length;){var c=a.pop(),d=c[2];c[0].removeEventListener(c[1],d,!1)}return d};h.u={};h.u.lk=Object.create(null);h.u.Zi="default";h.u.R=function(a){this.dm=a};h.u.R.prototype.toString=function(){return this.dm};h.u.R.Eu=new h.u.R("connectionChecker");h.u.R.xk=new h.u.R("cursor");h.u.R.Gb=new h.u.R("event");h.u.R.Dc=new h.u.R("field");h.u.R.RENDERER=new h.u.R("renderer");h.u.R.vB=new h.u.R("toolbox");h.u.R.xq=new h.u.R("theme");h.u.R.ZI=new h.u.R("toolboxItem");h.u.R.Tp=new h.u.R("flyoutsVerticalToolbox");h.u.R.Pu=new h.u.R("flyoutsHorizontalToolbox");h.u.R.jv=new h.u.R("metricsManager");
h.u.R.vu=new h.u.R("blockDragger");
h.u.register=function(a,c,d,e){if(!(a instanceof h.u.R)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof c||""==c.trim())throw Error('Invalid name "'+c+'". The name must be a non-empty string.');c=c.toLowerCase();if(!d)throw Error("Can not register a null value");var f=h.u.lk[a];f||(f=h.u.lk[a]=Object.create(null));h.u.CF(a,d);if(!e&&f[c])throw Error('Name "'+
c+'" with type "'+a+'" already registered.');f[c]=d};h.u.CF=function(a,c){switch(a){case String(h.u.R.Dc):if("function"!=typeof c.ba)throw Error('Type "'+a+'" must have a fromJson function');}};h.u.unregister=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=h.u.lk[a];d&&d[c]?delete h.u.lk[a][c]:console.warn("Unable to unregister ["+c+"]["+a+"] from the registry.")};
h.u.bx=function(a,c,d){a=String(a).toLowerCase();c=c.toLowerCase();var e=h.u.lk[a];if(!e||!e[c]){c="Unable to find ["+c+"]["+a+"] in the registry.";if(d)throw Error(c+" You must require or register a "+a+" plugin.");console.warn(c);return null}return e[c]};h.u.TJ=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();return(a=h.u.lk[a])?!!a[c]:!1};h.u.Yr=function(a,c,d){return h.u.bx(a,c,d)};h.u.gs=function(a,c){return h.u.bx(a,c,void 0)};
h.u.Of=function(a,c,d){c=c.plugins[a.toString()]||h.u.Zi;return"function"==typeof c?c:h.u.Yr(a,c,d)};h.h={};h.h.sx="";h.h.Oa=!0;h.h.Ar=0;h.h.wk="create";h.h.xh=h.h.wk;h.h.Dh="delete";h.h.Cp=h.h.Dh;h.h.rk="change";h.h.wh=h.h.rk;h.h.Kk="move";h.h.yh=h.h.Kk;h.h.Rk="var_create";h.h.Gn="var_delete";h.h.Eq="var_rename";h.h.Cq="ui";h.h.Wm="drag";h.h.gj="selected";h.h.tk="click";h.h.cq="marker_move";h.h.xu="bubble_open";h.h.Aq="trashcan_open";h.h.$I="toolbox_item_select";h.h.yq="theme_change";h.h.Sk="viewport_change";h.h.cn="comment_create";h.h.Cu="comment_delete";h.h.Bu="comment_change";h.h.vk="comment_move";
h.h.Sp="finished_loading";h.h.yz=[h.h.xh,h.h.yh,h.h.cn,h.h.vk];h.h.Bk=[];h.h.Ha=function(a){h.h.isEnabled()&&(h.h.Bk.length||setTimeout(h.h.TC,0),h.h.Bk.push(a))};h.h.TC=function(){for(var a=h.h.filter(h.h.Bk,!0),c=h.h.Bk.length=0,d;d=a[c];c++)if(d.Yb){var e=h.rb.Cl(d.Yb);if(e){var f=d;if(f.Oa)for(e.Pi.push(f),e.nm.length=0;e.Pi.length>e.gv&&0<=e.gv;)e.Pi.shift();for(var g=0;d=e.Nc[g];g++)d(f)}}};
h.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.Vj()){var k=[g.As?h.h.Cq:g.type,g.hb,g.Yb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==h.h.Kk&&l.index==f-1)m.Bi=g.Bi,m.Ai=g.Ai,m.ah=g.ah,l.index=f;else if(g.type==h.h.rk&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type==h.h.Sk)m.Xd=g.Xd,m.Wd=g.Wd,m.scale=g.scale,m.em=g.em;else if(g.type!=h.h.tk||m.type!=h.h.xu)e[k]={event:g,
index:f},d.push(g)}a=d.filter(function(n){return!n.Vj()});c||a.reverse();for(f=1;g=a[f];f++)g.type==h.h.rk&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};h.h.jC=function(){for(var a=0,c;c=h.h.Bk[a];a++)c.Oa=!1};h.h.disable=function(){h.h.Ar++};h.h.enable=function(){h.h.Ar--};h.h.isEnabled=function(){return 0==h.h.Ar};h.h.Wb=function(){return h.h.sx};h.h.ua=function(a){h.h.sx="boolean"==typeof a?a?h.g.Xe():"":a};
h.h.Zw=function(a){var c=[];a=v(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};h.h.ba=function(a){var c=h.h.get(a.type);if(!c)throw Error("Unknown event type.");c=new c;c.ba(a);c.Yb=(void 0).id;return c};h.h.get=function(a){return h.u.Yr(h.u.R.Gb,a)};
h.h.FJ=function(a){if((a.type==h.h.Kk||a.type==h.h.wk)&&a.Yb){var c=h.rb.Cl(a.Yb),d=c.Lc(a.hb);if(d){a=h.h.Oa;try{h.h.Oa=!1;var e=d.getParent();if(e&&e.isEnabled()){var f=v(d,!1);c=0;for(var g;g=f[c];c++)g.jf(!0)}else if((d.S||d.aa)&&!c.bd()){do d.jf(!1),d=w(d);while(d)}}finally{h.h.Oa=a}}}};
h.h.Abstract=function(){this.rd=null;this.Yb=void 0;this.group=h.h.Wb();this.Oa=h.h.Oa};b=h.h.Abstract.prototype;b.As=!1;b.ra=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};b.ba=function(a){this.rd=!1;this.group=a.group};b.Vj=function(){return!1};b.run=function(){};function x(a){if(a.Yb)var c=h.rb.Cl(a.Yb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};h.g.object={};h.g.object.V=function(a,c){a.v=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};h.g.object.$g=function(a,c){for(var d in c)a[d]=c[d]};h.g.object.Bj=function(a,c){for(var d in c)a[d]=null!=c[d]&&"object"===typeof c[d]?h.g.object.Bj(a[d]||Object.create(null),c[d]):c[d];return a};h.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};h.g.xml={};h.g.xml.QA="https://developers.google.com/blockly/xml";h.g.xml.document=function(){return document};h.g.xml.createElement=function(a){return h.g.xml.document().createElementNS(h.g.xml.QA,a)};h.g.xml.createTextNode=function(a){return h.g.xml.document().createTextNode(a)};h.g.xml.rF=function(a){return(new DOMParser).parseFromString(a,"text/xml")};h.g.xml.Hd=function(a){return(new XMLSerializer).serializeToString(a)};h.Ia={Ne:h.X.Zb,pc:h.X.$b,Ge:5};h.K={};h.K.hz=function(a){var c=y,d=h.g.xml.createElement("xml"),e=h.K.DF(h.na.Iq(c));e.hasChildNodes()&&d.appendChild(e);var f=[].concat(c.tp);1<f.length&&(c.kf.offset=Math.sin(h.g.Md.au(h.rb.Bv)),c.I&&(c.kf.offset*=-1),f.sort(c.kf));e=0;for(var g;g=f[e];e++)d.appendChild(g.Uy(a));c=c.vb(!0);for(e=0;f=c[e];e++)d.appendChild(h.K.Qq(f,a));return d};
h.K.DF=function(a){for(var c=h.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=h.g.xml.createElement("variable");f.appendChild(h.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.hc();c.appendChild(f)}return c};h.K.Qq=function(a,c){if(a.sd()&&(a=z(a,!1)[0],!a))return new DocumentFragment;var d;a.B.I&&(d=a.B.Hl());c=h.K.Df(a,c);var e=a.$a();c.setAttribute("x",Math.round(a.B.I?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
h.K.RC=function(a){var c=!1;a.name&&(a.Cv?c=!0:a.yk&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=h.g.xml.createElement("field"),c.setAttribute("name",a.name||""),c.textContent=a.getValue(),c):null};h.K.JB=function(a,c){for(var d=0,e;e=a.U[d];d++)for(var f=0,g;g=e.fb[f];f++)(g=h.K.RC(g))&&c.appendChild(g)};
h.K.Df=function(a,c){if(a.sd())return(a=z(a,!1)[0])?h.K.Df(a):new DocumentFragment;var d=h.g.xml.createElement(a.Ma?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.Od){var e=a.Od();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}h.K.JB(a,d);if(e=a.je.text){var f=a.je.size,g=a.je.uy,k=h.g.xml.createElement("comment");k.appendChild(h.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&
(e=h.g.xml.createElement("data"),e.appendChild(h.g.xml.createTextNode(a.data)),d.appendChild(e));for(e=0;f=a.U[e];e++){var l;g=!0;if(f.type!=h.Ia.Ge){var m=f.connection.sa();f.type==h.Ia.Ne?l=h.g.xml.createElement("value"):f.type==h.Ia.pc&&(l=h.g.xml.createElement("statement"));k=f.connection.Kj();!k||m&&m.Ma||l.appendChild(h.K.mw(k,c));m&&(k=h.K.Df(m,c),k.nodeType==h.g.j.sg.ELEMENT_NODE&&(l.appendChild(k),g=!1));l.setAttribute("name",f.name);g||d.appendChild(l)}}void 0!=a.Rf&&a.Rf!=a.JD&&d.setAttribute("inline",
a.Rf);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.cf()||a.Ma||d.setAttribute("deletable",!1);a.wc()||a.Ma||d.setAttribute("movable",!1);a.Ld()||d.setAttribute("editable",!1);if(e=w(a))k=h.K.Df(e,c),k.nodeType==h.g.j.sg.ELEMENT_NODE&&(l=h.g.xml.createElement("next"),l.appendChild(k),d.appendChild(l));k=a.ea&&a.ea.Kj();!k||e&&e.Ma||l.appendChild(h.K.mw(k,c));return d};
h.K.mw=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==h.g.j.sg.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&h.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==h.g.j.sg.TEXT_NODE&&""==e.data.trim()&&h.g.j.removeNode(e))}return a};h.K.Hd=function(a){return h.g.xml.Hd(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};
h.K.GJ=function(a){a=h.K.Hd(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};h.K.ze=function(a){var c=h.g.xml.rF(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};
h.K.uJ=function(a,c){c.ac(!1);c.clear();a=h.K.Xh(a,c);c.ac(!0);return a};
h.K.Xh=function(a,c){if(a instanceof h.rb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.I&&(e=c.Hl());d=[];h.g.j.Am();var f=h.h.Wb();f||h.h.ua(!0);c.ac&&c.ac(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!h.h.Oa){var q=h.K.Fj(n,c);d.push(q.id);var p=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,u=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(p)||
isNaN(u)||q.moveBy(c.I?e-p:p,u);g=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.va?h.oj?h.oj.Al(n):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):h.Uv?h.Uv.Al(n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(g)h.K.JC(n,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||h.h.ua(!1),h.g.j.Bm()}c.ac&&c.ac(!0);h.h.Ha(new (h.h.get(h.h.Sp))(c));return d};h.K.mJ=function(a,c){var d;Object.prototype.hasOwnProperty.call(c,"scale")&&(d=ea(c));a=h.K.Xh(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.I?d.right:d.left;var g=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var m=c.Lc(a[d]).$a();m.y<l&&(l=m.y);m.x<g&&(g=m.x);m.x>k&&(k=m.x)}e=e-l+10;f=c.I?f-k:f-g;for(d=0;d<a.length;d++)c.Lc(a[d]).moveBy(f,e)}return a};
h.K.Fj=function(a,c){if(a instanceof h.rb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}h.h.disable();d=c.$h();try{var e=h.K.Gr(a,c),f=v(e,!1);if(c.va){fa(e,!1);for(var g=f.length-1;0<=g;g--)f[g].Pj();for(g=f.length-1;0<=g;g--)f[g].Ka(!1);setTimeout(function(){e.Ue||fa(e,!0)},1);ha(e);ia(c)}else for(g=f.length-1;0<=g;g--);}finally{h.h.enable()}if(h.h.isEnabled()){a=h.na.Vw(c,d);for(g=0;g<a.length;g++)c=a[g],h.h.Ha(new (h.h.get(h.h.Rk))(c));h.h.Ha(new (h.h.get(h.h.wk))(e))}return e};
h.K.JC=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==h.g.j.sg.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.ke(e.textContent,f,g)}};
h.K.WD=function(a){for(var c={Yx:[],Uh:[],data:[],Hj:[],input:[],next:[]},d=0,e;e=a.childNodes[d];d++)if(e.nodeType!=h.g.j.sg.TEXT_NODE)switch(e.nodeName.toLowerCase()){case "mutation":c.Yx.push(e);break;case "comment":if(!h.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}c.Uh.push(e);break;case "data":c.data.push(e);break;case "title":case "field":c.Hj.push(e);break;case "value":case "statement":c.input.push(e);break;case "next":c.next.push(e);break;default:console.warn("Ignoring unknown tag: "+
e.nodeName)}return c};h.K.OB=function(a,c){for(var d=!1,e=0,f;f=a[e];e++)c.Lf&&(c.Lf(f),c.Pj&&(d=!0));return d};h.K.KB=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.textContent,g="true"==e.getAttribute("pinned"),k=parseInt(e.getAttribute("w"),10);e=parseInt(e.getAttribute("h"),10);c.ck(f);c.je.uy=g;isNaN(k)||isNaN(e)||(c.je.size=new h.g.Uc(k,e));g&&c.cD&&!c.cd&&setTimeout(function(){c.Fd.Jb(!0)},1)}};h.K.LB=function(a,c){for(var d=0,e;e=a[d];d++)c.data=e.textContent};
h.K.MB=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.getAttribute("name");h.K.IC(c,f,e)}};h.K.Qw=function(a){for(var c={Zk:null,$k:null},d=0,e;e=a.childNodes[d];d++)e.nodeType==h.g.j.sg.ELEMENT_NODE&&("block"==e.nodeName.toLowerCase()?c.Zk=e:"shadow"==e.nodeName.toLowerCase()&&(c.$k=e));return c};
h.K.NB=function(a,c,d,e){for(var f=0,g;g=a[f];f++){var k=g.getAttribute("name"),l=ja(d,k);if(!l){console.warn("Ignoring non-existent input "+k+" in block "+e);break}g=h.K.Qw(g);if(g.Zk){if(!l.connection)throw TypeError("Input connection does not exist.");h.K.Gr(g.Zk,c,l.connection,!1)}g.$k&&l.connection.tm(g.$k)}};
h.K.PB=function(a,c,d){for(var e=0,f;f=a[e];e++){f=h.K.Qw(f);if(f.Zk){if(!d.ea)throw TypeError("Next statement does not exist.");if(d.ea.isConnected())throw TypeError("Next statement is already connected.");h.K.Gr(f.Zk,c,d.ea,!0)}f.$k&&d.ea&&d.ea.tm(f.$k)}};
h.K.Gr=function(a,c,d,e){var f=a.getAttribute("type");if(!f)throw TypeError("Block type unspecified: "+a.outerHTML);var g=a.getAttribute("id");g=c.Us(f,g);var k=h.K.WD(a),l=h.K.OB(k.Yx,g);h.K.KB(k.Uh,g);h.K.LB(k.data,g);if(d)if(e)if(g.aa)d.connect(g.aa);else throw TypeError("Next block does not have previous statement.");else if(g.S)d.connect(g.S);else if(g.aa)d.connect(g.aa);else throw TypeError("Child block does not have output or previous statement.");h.K.MB(k.Hj,g);h.K.NB(k.input,c,g,f);h.K.PB(k.next,
c,g);l&&g.Pj();(c=a.getAttribute("inline"))&&g.Ji("true"==c);(c=a.getAttribute("disabled"))&&g.jf("true"!=c&&"disabled"!=c);if(c=a.getAttribute("deletable"))g.Fw="true"==c;(c=a.getAttribute("movable"))&&g.Ot("true"==c);(c=a.getAttribute("editable"))&&g.Nt("true"==c);(c=a.getAttribute("collapsed"))&&g.Hi("true"==c);if("shadow"==a.nodeName.toLowerCase()){a=z(g,!1);for(c=0;d=a[c];c++)if(!d.Ma)throw TypeError("Shadow block not allowed non-shadow child.");if(ka(g).length)throw TypeError("Shadow blocks cannot have variable references.");
g.Rt(!0)}return g};h.K.IC=function(a,c,d){var e=la(a,c);e?e.Al(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};h.K.CC=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};h.h.De=function(a){h.h.De.v.constructor.call(this);this.hb=(this.rd="undefined"==typeof a)?"":a.id;this.Yb=this.rd?"":a.B.id};h.g.object.V(h.h.De,h.h.Abstract);h.h.De.prototype.ra=function(){var a=h.h.De.v.ra.call(this);a.blockId=this.hb;return a};h.h.De.prototype.ba=function(a){h.h.De.v.ba.call(this,a);this.hb=a.blockId};
h.h.Ah=function(a,c,d,e,f){h.h.Iz.v.constructor.call(this,a);a&&(this.element="undefined"==typeof c?"":c,this.name="undefined"==typeof d?"":d,this.oldValue="undefined"==typeof e?"":e,this.newValue="undefined"==typeof f?"":f)};h.g.object.V(h.h.Ah,h.h.De);h.h.Iz=h.h.Ah;b=h.h.Ah.prototype;b.type=h.h.rk;b.ra=function(){var a=h.h.Ah.v.ra.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};
b.ba=function(a){h.h.Ah.v.ba.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};b.Vj=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=x(this).Lc(this.hb);if(c)switch(c.ue&&c.ue.Jb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=la(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.ck(a||null);break;case "collapsed":c.Hi(!!a);break;case "disabled":c.jf(!a);break;case "inline":c.Ji(!!a);break;case "mutation":var d="";c.Od&&(d=(d=c.Od())&&h.K.Hd(d));if(c.Lf){var e=h.K.ze(a||"<mutation/>");c.Lf(e)}h.h.Ha(new h.h.Ah(c,"mutation",null,d,
a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.hb)};h.h.Ee=function(a){h.h.Ee.v.constructor.call(this,a);a&&(a.Ma&&(this.Oa=!1),this.xml=a.B.va?h.K.Qq(a):h.K.Df(a),this.ji=h.h.Zw(a))};h.g.object.V(h.h.Ee,h.h.De);h.h.PF=h.h.Ee;h.h.Ee.prototype.type=h.h.wk;h.h.Ee.prototype.ra=function(){var a=h.h.Ee.v.ra.call(this);a.xml=h.K.Hd(this.xml);a.ids=this.ji;this.Oa||(a.recordUndo=this.Oa);return a};
h.h.Ee.prototype.ba=function(a){h.h.Ee.v.ba.call(this,a);this.xml=h.K.ze(a.xml);this.ji=a.ids;void 0!==a.recordUndo&&(this.Oa=a.recordUndo)};h.h.Ee.prototype.run=function(a){var c=x(this);if(a)a=h.g.xml.createElement("xml"),a.appendChild(this.xml),h.K.Xh(a,c);else{a=0;for(var d;d=this.ji[a];a++){var e=c.Lc(d);e?e.H(!1):d==this.hb&&console.warn("Can't uncreate non-existent block: "+d)}}};
h.h.He=function(a){h.h.He.v.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.Ma&&(this.Oa=!1);this.Yj=a.B.va?h.K.Qq(a):h.K.Df(a);this.ji=h.h.Zw(a)}};h.g.object.V(h.h.He,h.h.De);h.h.QF=h.h.He;h.h.He.prototype.type=h.h.Dh;h.h.He.prototype.ra=function(){var a=h.h.He.v.ra.call(this);a.oldXml=h.K.Hd(this.Yj);a.ids=this.ji;this.Oa||(a.recordUndo=this.Oa);return a};
h.h.He.prototype.ba=function(a){h.h.He.v.ba.call(this,a);this.Yj=h.K.ze(a.oldXml);this.ji=a.ids;void 0!==a.recordUndo&&(this.Oa=a.recordUndo)};h.h.He.prototype.run=function(a){var c=x(this);if(a){a=0;for(var d;d=this.ji[a];a++){var e=c.Lc(d);e?e.H(!1):d==this.hb&&console.warn("Can't delete non-existent block: "+d)}}else a=h.g.xml.createElement("xml"),a.appendChild(this.Yj),h.K.Xh(a,c)};
h.h.Jh=function(a){h.h.Jh.v.constructor.call(this,a);a&&(a.Ma&&(this.Oa=!1),a=ma(this),this.jy=a.qy,this.ey=a.Ex,this.Ys=a.Aw)};h.g.object.V(h.h.Jh,h.h.De);h.h.RF=h.h.Jh;b=h.h.Jh.prototype;b.type=h.h.Kk;b.ra=function(){var a=h.h.Jh.v.ra.call(this);this.Bi&&(a.newParentId=this.Bi);this.Ai&&(a.newInputName=this.Ai);this.ah&&(a.newCoordinate=Math.round(this.ah.x)+","+Math.round(this.ah.y));this.Oa||(a.recordUndo=this.Oa);return a};
b.ba=function(a){h.h.Jh.v.ba.call(this,a);this.Bi=a.newParentId;this.Ai=a.newInputName;if(a.newCoordinate){var c=a.newCoordinate.split(",");this.ah=new h.g.T(Number(c[0]),Number(c[1]))}void 0!==a.recordUndo&&(this.Oa=a.recordUndo)};b.Ei=function(){var a=ma(this);this.Bi=a.qy;this.Ai=a.Ex;this.ah=a.Aw};function ma(a){var c=x(a).Lc(a.hb);a={};var d=c.getParent();if(d){if(a.qy=d.id,c=na(d,c))a.Ex=c.name}else a.Aw=c.$a();return a}
b.Vj=function(){return this.jy==this.Bi&&this.ey==this.Ai&&h.g.T.Nf(this.Ys,this.ah)};
b.run=function(a){var c=x(this),d=c.Lc(this.hb);if(d){var e=a?this.Bi:this.jy,f=a?this.Ai:this.ey,g=a?this.ah:this.Ys;a=null;if(e&&(a=c.Lc(e),!a)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&A(d);if(g)f=d.$a(),d.moveBy(g.x-f.x,g.y-f.y);else{d=d.S||d.aa;c=d.type;if(f){if(a=ja(a,f))var k=a.connection}else c==h.X.kd&&(k=a.ea);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.hb)};
h.u.register(h.u.R.Gb,h.h.wk,h.h.Ee);h.u.register(h.u.R.Gb,h.h.Dh,h.h.He);h.u.register(h.u.R.Gb,h.h.rk,h.h.Ah);h.u.register(h.u.R.Gb,h.h.Kk,h.h.Jh);h.cb={};h.cb.Cr=0;h.cb.io=null;h.cb.GC=function(a){var c=a.B,d=a.pa();c.Yc.play("delete");a=oa(c,d);d=d.cloneNode(!0);d.xF=a.x;d.yF=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");t(c).appendChild(d);d.cw=d.getBBox();h.cb.Lw(d,c.I,new Date,c.scale)};h.cb.Lw=function(a,c,d,e){var f=(new Date-d)/150;1<f?h.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.xF+(c?-1:1)*a.cw.width*e/2*f)+","+(a.yF+a.cw.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(h.cb.Lw,10,a,c,d,e))};
h.cb.rC=function(a){var c=a.B,d=c.scale;c.Yc.play("click");if(!(1>d)){var e=oa(c,a.pa());a.S?(e.x+=(a.I?3:-3)*d,e.y+=13*d):a.aa&&(e.x+=(a.I?-23:23)*d,e.y+=3*d);a=h.g.j.J(h.g.D.zu,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t(c));h.cb.uw(a,new Date,d)}};h.cb.uw=function(a,c,d){var e=(new Date-c)/150;1<e?h.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,h.cb.Cr=setTimeout(h.cb.uw,10,a,c,d))};
h.cb.FC=function(a){a.B.Yc.play("disconnect");if(!(1>a.B.scale)){var c=r(a).height;c=Math.atan(10/c)/Math.PI*180;a.I||(c*=-1);h.cb.Kw(a.pa(),c,new Date)}};h.cb.Kw=function(a,c,d){var e=(new Date-d)/200;1<e?a.ym="":(a.ym="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",h.cb.io=a,h.cb.Cr=setTimeout(h.cb.Kw,10,a,c,d));a.setAttribute("transform",a.Km+a.ym)};h.cb.Dr=function(){if(h.cb.io){clearTimeout(h.cb.Cr);var a=h.cb.io;a.ym="";a.setAttribute("transform",a.Km);h.cb.io=null}};h.h.fe=function(a){h.h.fe.v.constructor.call(this);this.rd="undefined"==typeof a;this.Yb=a?a:"";this.Oa=!1};h.g.object.V(h.h.fe,h.h.Abstract);h.h.fe.prototype.As=!0;h.h.yg=function(a,c,d,e){h.h.yg.v.constructor.call(this,a?a.B.id:void 0);this.hb=a?a.id:null;this.element="undefined"==typeof c?"":c;this.oldValue="undefined"==typeof d?"":d;this.newValue="undefined"==typeof e?"":e};h.g.object.V(h.h.yg,h.h.fe);h.h.yg.prototype.type=h.h.Cq;
h.h.yg.prototype.ra=function(){var a=h.h.yg.v.ra.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.hb&&(a.blockId=this.hb);return a};h.h.yg.prototype.ba=function(a){h.h.yg.v.ba.call(this,a);this.element=a.element;this.newValue=a.newValue;this.hb=a.blockId};h.u.register(h.u.R.Gb,h.h.Cq,h.h.yg);h.h.fg=function(a,c,d){h.h.fg.v.constructor.call(this,a?a.B.id:void 0);this.hb=a?a.id:null;this.Kx=c;this.dw=d};h.g.object.V(h.h.fg,h.h.fe);h.h.fg.prototype.type=h.h.Wm;h.h.fg.prototype.ra=function(){var a=h.h.fg.v.ra.call(this);a.isStart=this.Kx;a.blockId=this.hb;a.blocks=this.dw;return a};h.h.fg.prototype.ba=function(a){h.h.fg.v.ba.call(this,a);this.Kx=a.isStart;this.hb=a.blockId;this.dw=a.blocks};h.u.register(h.u.R.Gb,h.h.Wm,h.h.fg);h.QG=function(){};h.Fb=function(){this.Eg=Object.create(null);this.uj=Object.create(null)};function pa(a,c){var d=c.bl.id;if(a.Eg[d])throw Error('Plugin "'+d+'" with capabilities "'+a.Eg[d].Cg+'" already added.');a.Eg[d]=c;for(var e=[],f=0;f<c.Cg.length;f++){var g=String(c.Cg[f]).toLowerCase();e.push(g);void 0===a.uj[g]?a.uj[g]=[d]:a.uj[g].push(d)}a.Eg[d].Cg=e}
function qa(a,c){var d=a.Eg[c];if(d){for(var e=0;e<d.Cg.length;e++){var f=String(d.Cg[e]).toLowerCase();a.uj[f].splice(a.uj[f].indexOf(c),1)}delete a.Eg[c]}}function ra(a,c){var d=h.Fb.Tb.Lp;d=String(d).toLowerCase();return-1!==a.Eg[c].Cg.indexOf(d)}function sa(a,c){c=String(c).toLowerCase();c=a.uj[c];if(!c)return[];var d=[],e=[],f=a.Eg;c.forEach(function(g){e.push(f[g])});e.sort(function(g,k){return g.weight-k.weight});e.forEach(function(g){d.push(g.bl)});return d}h.Fb.Tb=function(a){this.dm=a};
h.Fb.Tb.prototype.toString=function(){return this.dm};h.Fb.Tb.zv=new h.Fb.Tb("positionable");h.Fb.Tb.Op=new h.Fb.Tb("drag_target");h.Fb.Tb.Lp=new h.Fb.Tb("delete_area");h.Fb.Tb.tu=new h.Fb.Tb("autohideable");
h.Ec=function(a){this.rh=h.selected=a;this.m=a.B;this.Wg=this.Bs=null;this.yl=ta(this,this.rh);this.xc=this.Bb=null;this.Be=!1;this.wl=this.rs=this.wi=null;this.Nn=ua(this)};h.Ec.fj={Wp:0,zA:1,Av:2};h.Ec.Ju="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.";h.Ec.prototype.H=function(){this.Nn.length=0;h.h.disable();try{this.yl&&this.yl.H(),this.Wg&&this.Wg.H()}finally{h.h.enable()}};
h.Ec.prototype.update=function(a,c){var d=this.Bb&&this.xc?h.Du:h.oc;for(var e=null,f=null,g=0;g<this.Nn.length;g++){var k=this.Nn[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.ip)}d={closest:e,local:f,ip:d};if((this.Be=this.Ut(d,c))||va(this,d,a)){h.h.disable();d.closest?(a=this.Bb!=d.closest,c=this.xc!=d.local,this.Bb&&this.xc&&(a||c||this.Be)&&wa(this)):wa(this);this.xc=this.Bb=this.wi=null;if(!this.Be&&(a=d.closest,c=d.local,a))if(a==this.Bb||a.$().sd())console.log("Trying to connect to an insertion marker");
else{this.Bb=a;this.xc=c;a=this.Bb;c=this.xc;d=this.rh;c.type==h.X.Tc||c.type==h.X.kd?((e=!a.isConnected())||(e=a.sa(),e=!!h.wa.Yw(d,c.type===h.X.Tc?e.S:e.aa)),c=e?h.Ec.fj.Wp:h.Ec.fj.Av):c=h.Ec.fj.Wp;switch(c){case h.Ec.fj.zA:this.rs=this.Bb.$();break;case h.Ec.fj.Wp:e=this.xc;c=this.Bb;d=this.Bs&&e==this.Bs?this.Wg:this.yl;e=d.ds(e.$(),e);if(e==this.wi)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");d.Ka();d.va=!0;d.pa().setAttribute("visibility","visible");e&&
c&&(e.type!=h.X.$b&&e.type!=h.X.Zb||d.moveBy(c.x-e.x,c.y-e.y));c&&e.connect(c);this.wi=e;break;case h.Ec.fj.Av:this.wl=this.Bb.sa(),B(this.wl.wb,"blocklyReplaceable",!0)}a&&(d=a.L.B.ob.ka(),c=xa(d,a),a.type==h.X.Zb||a.type==h.X.Tc?(d=d.lj,c=h.g.A.moveBy(0,-d)+h.g.A.Y("v",d)+c.Rd+h.g.A.Y("v",d)):(d=d.Nk-d.qb,c=h.g.A.moveBy(-d,0)+h.g.A.Y("h",d)+c.hh+h.g.A.Y("h",d)),d=a.L.$a(),h.wa.Ax=h.g.j.J(h.g.D.Ke,{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-d.y)+")"+
(a.L.I?" scale(-1 1)":"")},a.L.pa()))}h.h.enable()}};
function ta(a,c){var d=c.type;h.h.disable();try{var e=a.m.Us(d);e.Ky(!0);if(c.Od){var f=c.Od();f&&e.Lf(f)}for(a=0;a<c.U.length;a++){var g=c.U[a];if(g.name!=h.lb.an){var k=e.U[a];if(!k)throw Error(h.Ec.Ju.replace("%1","an input"));for(d=0;d<g.fb.length;d++){var l=g.fb[d],m=k.fb[d];if(!m)throw Error(h.Ec.Ju.replace("%1","a field"));m.setValue(l.getValue())}}}e.Hi(c.isCollapsed());e.Ji(ya(c));e.Pj();e.pa().setAttribute("visibility","hidden")}finally{h.h.enable()}return e}
function ua(a){var c=a.rh.oe(!1),d=a.rh.Ko(!0);if(d&&d!=a.rh.ea){c.push(d);a.Bs=d;if(a.Wg){h.h.disable();try{a.Wg.H()}finally{h.h.enable()}}a.Wg=ta(a,d.$())}return c}
function va(a,c,d){var e=c.local,f=c.closest;c=c.ip;if(e&&f){if(a.xc&&a.Bb){if(a.Bb==f&&a.xc==e)return!1;e=a.xc.x+d.x-a.Bb.x;a=a.xc.y+d.y-a.Bb.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-h.Dz)}if(a.xc||a.Bb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.xc||!a.Bb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
h.Ec.prototype.Ut=function(a,c){return c&&ra(this.m.Hf,c.id)?za(c,this.rh,a&&!!a.closest):!1};
function wa(a){a.Bb&&a.Bb.sa()&&(h.g.j.removeNode(h.wa.Ax),delete h.wa.Ax);if(a.wl)B(a.wl.wb,"blocklyReplaceable",!1),a.wl=null;else if(a.rs)a.rs=null;else if(a.wi)if(a.wi){var c=a.wi,d=c.$(),e=d.ea,f=d.aa,g=d.S;g=c.type==h.X.Zb&&!(g&&g.ya);!(c!=e||f&&f.ya)||g?A(c.sa(),!1):c.type==h.X.$b&&c!=e?(e=c.ya,A(e.$(),!1),f=f?f.ya:null,A(d,!0),f&&f.connect(e)):A(d,!0);if(c.ya)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.wi=null;(a=d.pa())&&a.setAttribute("visibility",
"hidden")}else console.log("No insertion marker connection to disconnect")}h.Ec.prototype.Ij=function(){var a=[];this.yl&&a.push(this.yl);this.Wg&&a.push(this.Wg);return a};h.pk=function(a,c){this.mb=a;this.m=c;this.We=new h.Ec(this.mb);this.fc=null;this.Be=!1;this.lf=this.mb.$a();this.mo=h.pk.GD(a)};h.pk.prototype.H=function(){this.mo.length=0;this.We&&this.We.H()};h.pk.GD=function(a){var c=[];a=v(a,!1);for(var d=0,e;e=a[d];d++){e=Aa(e);for(var f=0;f<e.length;f++){var g={location:e[f].OJ(),icon:e[f]};c.push(g)}}return c};b=h.pk.prototype;
b.zm=function(a,c){h.h.Wb()||h.h.ua(!0);var d=new (h.h.get(h.h.Wm))(this.mb,!0,v(this.mb,!1));h.h.Ha(d);this.m.Go&&Ba(this.mb);h.g.j.Am();this.m.ac(!1);h.cb.Dr();if(this.mb.getParent()||c&&this.mb.ea&&this.mb.ea.sa())A(this.mb,c),a=this.Zj(a),a=h.g.T.sum(this.lf,a),this.mb.translate(a.x,a.y),h.cb.FC(this.mb),a=this.We,a.Nn=ua(a);this.mb.mh(!0);a=this.mb;a.Pm&&(c=a.$a(),a.pa().removeAttribute("transform"),a.B.md.Oi(c.x,c.y),(c=a.pa())&&Ca(a.B.md,c))};
b.Mf=function(a,c){c=this.Zj(c);var d=h.g.T.sum(this.lf,c);this.mb.Ts(d);for(d=0;d<this.mo.length;d++){var e=this.mo[d];e.icon.wK(h.g.T.sum(e.location,c))}d=this.fc;this.fc=Da(this.m,a);this.We.update(c,this.fc);a=this.Be;this.Be=this.We.Be;a!=this.Be&&this.mb.Mt(this.Be);this.fc!==d&&d&&d.at();this.fc&&this.fc.bt()};
b.ul=function(a,c){this.Mf(a,c);this.mo=[];a=new (h.h.get(h.h.Wm))(this.mb,!1,v(this.mb,!1));h.h.Ha(a);h.g.j.Bm();h.cb.Dr();c=this.Zj(c);a=h.g.T.sum(this.lf,c);var d=this.mb;d.Pm&&(d.translate(a.x,a.y),d.B.md.Rn(d.B.xb));this.fc&&this.fc.ct();this.Be?(this.xl(),this.mb.H(!1,!0),h.Gj=[],a=!0):a=!1;a||(this.mb.mh(!1),c?(Ea(this.mb,c.x,c.y),this.xl(),this.We.Bb?(c=this.We,c.Bb&&(h.h.disable(),wa(c),h.h.enable(),c.xc.connect(c.Bb),c.rh.va&&(h.cb.rC((Fa(c.xc)?c.Bb:c.xc).$()),Ba(c.rh.re())))):this.mb.Ka(),
Ga(this.mb)):h.Uq(this.mb.B,this.m.dd.ci(!0),this.mb));this.m.ac(!0);h.h.ua(!1)};b.xl=function(){var a=new (h.h.get(h.h.yh))(this.mb);a.Ys=this.lf;a.Ei();h.h.Ha(a)};b.Zj=function(a){a=new h.g.T(a.x/this.m.scale,a.y/this.m.scale);this.m.Go&&a.scale(1/this.m.options.ed.scale);return a};b.Ij=function(){return this.We&&this.We.Ij?this.We.Ij():[]};h.u.register(h.u.R.vu,h.u.Zi,h.pk);h.WG=function(){};h.YG=function(){};h.aH=function(){};h.TG=function(){};h.g.zH=function(){};
h.wq=function(a,c,d,e,f){this.m=a;c=void 0===c?!0:c;d=void 0===d?!0:d;var g=c&&d;c&&(this.jb=new h.La(a,!0,g,e,f));d&&(this.Va=new h.La(a,!1,g,e,f));g&&(this.il=h.g.j.J(h.g.D.Mb,{height:h.La.jc,width:h.La.jc,"class":"blocklyScrollbarBackground"},null),h.g.j.Qj(this.il,a.$f));this.Xa=null};b=h.wq.prototype;b.H=function(){h.g.j.removeNode(this.il);this.Xa=this.m=this.il=null;this.jb&&(this.jb.H(),this.jb=null);this.Va&&(this.Va.H(),this.Va=null)};
b.resize=function(){var a=this.m.pe();if(a){var c=!1,d=!1;this.Xa&&this.Xa.Bc==a.Bc&&this.Xa.Qc==a.Qc&&this.Xa.Xc==a.Xc&&this.Xa.Ic==a.Ic?(this.Xa&&this.Xa.scrollWidth==a.scrollWidth&&this.Xa.Wd==a.Wd&&this.Xa.scrollLeft==a.scrollLeft||(c=!0),this.Xa&&this.Xa.scrollHeight==a.scrollHeight&&this.Xa.Xd==a.Xd&&this.Xa.scrollTop==a.scrollTop||(d=!0)):d=c=!0;if(c||d){try{h.h.disable(),this.jb&&c&&this.jb.resize(a),this.Va&&d&&this.Va.resize(a)}finally{h.h.enable()}Ha(this.m)}this.jb&&this.Va&&(this.Xa&&
this.Xa.Bc==a.Bc&&this.Xa.Ic==a.Ic||this.il.setAttribute("x",this.Va.position.x),this.Xa&&this.Xa.Qc==a.Qc&&this.Xa.Xc==a.Xc||this.il.setAttribute("y",this.jb.position.y));this.Xa=a}};b.lp=function(a,c){this.jb&&this.jb.lp(a,c);this.Va&&this.Va.lp(a,c)};b.set=function(a,c,d){this.jb&&this.jb.set(a,!1);this.Va&&this.Va.set(c,!1);if(d||void 0===d)a={},this.jb&&(a.x=Ia(this.jb)),this.Va&&(a.y=Ia(this.Va)),this.m.sm(a)};b.Ii=function(a){this.jb&&this.jb.Ii(a);this.Va&&this.Va.Ii(a)};
b.isVisible=function(){var a=!1;this.jb&&(a=this.jb.isVisible());this.Va&&(a=a||this.Va.isVisible());return a};
h.La=function(a,c,d,e,f){this.m=a;this.gh=d||!1;this.ii=c;this.ui=void 0!==f?f:h.La.Mz;this.ratio=this.Xa=null;this.jl(e);this.position=new h.g.T(0,0);a=h.La.jc;c?(this.kc.setAttribute("height",a),this.ff.setAttribute("height",a),this.wd.setAttribute("height",a-5),this.wd.setAttribute("y",2.5),this.Mo="width",this.vy="x"):(this.kc.setAttribute("width",a),this.ff.setAttribute("width",a),this.wd.setAttribute("width",a-5),this.wd.setAttribute("x",2.5),this.Mo="height",this.vy="y");this.ny=h.N.Ba(this.kc,
"mousedown",this,this.lE);this.oy=h.N.Ba(this.wd,"mousedown",this,this.mE)};b=h.La.prototype;b.kt=new h.g.T(0,0);b.Qy=0;b.Td=0;b.Og=0;b.Il=0;b.Uf=!0;b.Vh=!0;h.La.jc=15;h.Touch.Kv&&(h.La.jc=25);h.La.Mz=.5;h.La.YD=function(a,c){return a.Bc==c.Bc&&a.Qc==c.Qc&&a.Wd==c.Wd&&a.Xd==c.Xd&&a.Xc==c.Xc&&a.Ic==c.Ic&&a.scrollWidth==c.scrollWidth&&a.scrollHeight==c.scrollHeight&&a.scrollLeft==c.scrollLeft&&a.scrollTop==c.scrollTop};b=h.La.prototype;
b.H=function(){Ja();h.N.yb(this.ny);this.ny=null;h.N.yb(this.oy);this.oy=null;h.g.j.removeNode(this.ff);this.kc=this.O=this.ff=null;this.wd&&(this.m.mc.unsubscribe(this.wd),this.wd=null);this.m=null};function Ka(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Td)}function La(a,c){a.Og=c;a.wd.setAttribute(a.Mo,a.Og)}function Ma(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Td-a.Og)}function Na(a,c){a.Il=c;a.wd.setAttribute(a.vy,a.Il)}
function Oa(a,c){a.Td=c;a.ff.setAttribute(a.Mo,a.Td);a.kc.setAttribute(a.Mo,a.Td)}b.setPosition=function(a,c){this.position.x=a;this.position.y=c;h.g.j.rm(this.ff,"translate("+(this.position.x+this.kt.x)+"px,"+(this.position.y+this.kt.y)+"px)")};b.resize=function(a){if(!a&&(a=this.m.pe(),!a))return;if(!this.Xa||!h.La.YD(a,this.Xa)){if(this.ii){var c=a;Pa(this,c)?Qa(this,c):Ra(this,c)}else c=a,Pa(this,c)?Sa(this,c):Ta(this,c);this.Xa=a;Ua(this)}};
function Pa(a,c){return a.Xa?a.Xa.Bc!==c.Bc||a.Xa.Qc!==c.Qc||a.Xa.Ic!==c.Ic||a.Xa.Xc!==c.Xc:!0}function Qa(a,c){var d=c.Bc-2*a.ui;a.gh&&(d-=h.La.jc);Oa(a,Math.max(0,d));d=c.Ic+a.ui;a.gh&&a.m.I&&(d+=h.La.jc);a.setPosition(d,c.Xc+c.Qc-h.La.jc-a.ui);Ra(a,c)}function Ra(a,c){if(c.Bc>=c.scrollWidth)La(a,a.Td),Na(a,0),a.gh||a.Jb(!1);else{a.gh||a.Jb(!0);var d=a.Td*c.Bc/c.scrollWidth;d=Ka(a,d);La(a,d);d=c.scrollWidth-c.Bc;var e=a.Td-a.Og;c=(c.Wd-c.scrollLeft)/d*e;c=Ma(a,c);Na(a,c);a.ratio=e/d}}
function Sa(a,c){var d=c.Qc-2*a.ui;a.gh&&(d-=h.La.jc);Oa(a,Math.max(0,d));a.setPosition(a.m.I?c.Ic+a.ui:c.Ic+c.Bc-h.La.jc-a.ui,c.Xc+a.ui);Ta(a,c)}function Ta(a,c){if(c.Qc>=c.scrollHeight)La(a,a.Td),Na(a,0),a.gh||a.Jb(!1);else{a.gh||a.Jb(!0);var d=a.Td*c.Qc/c.scrollHeight;d=Ka(a,d);La(a,d);d=c.scrollHeight-c.Qc;var e=a.Td-a.Og;c=(c.Xd-c.scrollTop)/d*e;c=Ma(a,c);Na(a,c);a.ratio=e/d}}
b.jl=function(a){var c="blocklyScrollbar"+(this.ii?"Horizontal":"Vertical");a&&(c+=" "+a);this.ff=h.g.j.J(h.g.D.jj,{"class":c},null);this.O=h.g.j.J(h.g.D.Sc,{},this.ff);this.kc=h.g.j.J(h.g.D.Mb,{"class":"blocklyScrollbarBackground"},this.O);a=Math.floor((h.La.jc-5)/2);this.wd=h.g.j.J(h.g.D.Mb,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.O);this.m.mc.subscribe(this.wd,"scrollbarColour","fill");this.m.mc.subscribe(this.wd,"scrollbarOpacity","fill-opacity");h.g.j.Qj(this.ff,t(this.m))};
b.isVisible=function(){return this.Uf};b.Ii=function(a){var c=a!=this.Vh;this.Vh=a;c&&this.Mm()};b.Jb=function(a){var c=a!=this.isVisible();if(this.gh)throw Error("Unable to toggle visibility of paired scrollbars.");this.Uf=a;c&&this.Mm()};b.Mm=function(){this.Vh&&this.isVisible()?this.ff.setAttribute("display","block"):this.ff.setAttribute("display","none")};
b.lE=function(a){ba(this.m);h.Touch.Sn();Ja();if(h.g.Tl(a))a.stopPropagation();else{var c=h.g.cm(a,t(this.m),Va(this.m));c=this.ii?c.x:c.y;var d=h.g.Fl(this.wd);d=this.ii?d.x:d.y;var e=this.Il,f=.95*this.Og;c<=d?e-=f:c>=d+this.Og&&(e+=f);Na(this,Ma(this,e));Ua(this);a.stopPropagation();a.preventDefault()}};
b.mE=function(a){ba(this.m);Ja();h.g.Tl(a)?a.stopPropagation():(this.lF=this.Il,Wa(this.m),this.Qy=this.ii?a.clientX:a.clientY,h.La.eh=h.N.Ba(document,"mouseup",this,this.qE),h.La.dh=h.N.Ba(document,"mousemove",this,this.nE),a.stopPropagation(),a.preventDefault())};b.nE=function(a){Na(this,Ma(this,this.lF+((this.ii?a.clientX:a.clientY)-this.Qy)));Ua(this)};b.qE=function(){Xa(this.m);h.Touch.Sn();Ja()};
function Ja(){h.ic(!0);h.La.eh&&(h.N.yb(h.La.eh),h.La.eh=null);h.La.dh&&(h.N.yb(h.La.dh),h.La.dh=null)}function Ia(a){a=a.Il/(a.Td-a.Og);isNaN(a)&&(a=0);return a}function Ua(a){var c=Ia(a),d={};a.ii?d.x=c:d.y=c;a.m.sm(d)}b.set=function(a,c){Na(this,Ma(this,a*this.ratio));(c||void 0===c)&&Ua(this)};b.lp=function(a,c){this.kt=new h.g.T(a,c)};h.MG=function(){};h.NG=function(){};h.OG=function(){};h.cH=function(){};h.g.Dj={};h.g.Dj.warn=function(a,c,d,e){a=a+" was deprecated on "+c+" and will be deleted on "+d+".";e&&(a+="\nUse "+e+" instead.");console.warn(a)};h.wa=function(a,c){this.L=a;this.type=c};h.wa.Ym=0;h.wa.gB=1;h.wa.jB=2;h.wa.iB=3;h.wa.dB=4;h.wa.eB=5;h.wa.hB=6;h.wa.fB=7;b=h.wa.prototype;b.ya=null;b.Ue=!1;b.vj=null;b.op=null;b.x=0;b.y=0;
b.Wn=function(a){var c=this.$(),d=a.$();a.isConnected()&&a.disconnect();if(this.isConnected()){var e=this.Kj(!0);this.op=null;var f=this.sa();if(f.Ma)f.H(!1);else{this.disconnect();var g=f}this.op=e}var k;h.h.isEnabled()&&(k=new (h.h.get(h.h.yh))(d));h.wa.qC(this,a);d.mp(c);k&&(k.Ei(),h.h.Ha(k));g&&(a=this.type===h.X.Zb?g.S:g.aa,(d=h.wa.Yw(d,a))?a.connect(d):a.dt(this))};b.H=function(){if(this.isConnected()){this.tm(null);var a=this.sa();a&&A(a)}this.Ue=!0};b.$=function(){return this.L};
function Fa(a){return a.type==h.X.Zb||a.type==h.X.$b}b.isConnected=function(){return!!this.ya};b.Zq=function(a){h.g.Dj.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker");return this.L.B.If.Zq(this,a,!1)};b.dt=function(){};b.connect=function(a){if(this.ya!=a&&Ya(this.L.B.If,this,a,!1)){var c=h.h.Wb();c||h.h.ua(!0);Fa(this)?this.Wn(a):a.Wn(this);c||h.h.ua(!1)}};
h.wa.qC=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.ya=c;c.ya=a};h.wa.nD=function(a,c){var d=null;c=c.S;for(var e=c.L.B.If,f=0,g;g=a.U[f];f++)if((g=g.connection)&&Ya(e,c,g,!1)){if(d)return null;d=g}return d};h.wa.dD=function(a,c){for(var d;d=h.wa.nD(a,c);)if(a=d.sa(),!a||a.Ma)return d;return null};h.wa.Yw=function(a,c){if(c.type===h.X.Tc)return h.wa.dD(a,c.$());a=a.Ko(!0);var d=c.L.B.If;return a&&Ya(d,c,a,!1)?a:null};b=h.wa.prototype;
b.disconnect=function(){var a=this.ya;if(!a)throw Error("Source connection not connected.");if(a.ya!=this)throw Error("Target connection not connected to source connection.");if(Fa(this)){var c=this.L;var d=a.$();a=this}else c=a.$(),d=this.L;var e=h.h.Wb();e||h.h.ua(!0);this.Br(c,d);d.Ma||a.pm();e||h.h.ua(!1)};b.Br=function(a,c){var d;h.h.isEnabled()&&(d=new (h.h.get(h.h.yh))(c));this.ya=this.ya.ya=null;c.mp(null);d&&(d.Ei(),h.h.Ha(d))};
b.pm=function(){var a=this.$(),c=this.Kj();if(a.B&&c)if(a=h.K.Fj(c,a.B),a.S)this.connect(a.S);else if(a.aa)this.connect(a.aa);else throw Error("Child block does not have output or previous statement.");};b.sa=function(){return this.isConnected()?this.ya.$():null};b.ly=function(){!this.isConnected()||this.ya&&Ya(this.L.B.If,this,this.ya,!1)||A(Fa(this)?this.sa():this.L)};b.bk=function(a){a?(Array.isArray(a)||(a=[a]),this.vj=a,this.ly()):this.vj=null};
b.tm=function(a){this.op=a;a=this.sa();a?a.Ma&&(a.H(!1),this.pm()):this.pm()};b.Kj=function(a){return a&&this.sa().Ma?h.K.Df(this.sa()):this.op};b.Zx=function(){return[]};b.Ye=function(){for(var a=null,c=this.L.U,d=0;d<c.length;d++)if(c[d].connection===this){a=c[d];break}return a};
b.toString=function(){var a=this.L;if(!a)return"Orphan Connection";if(a.S==this)var c="Output Connection of ";else if(a.aa==this)c="Previous Connection of ";else if(a.ea==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.U[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};h.VG=function(){};h.Gu=function(){};function Ya(a,c,d,e,f){return a.Zq(c,d,e,f)==h.wa.Ym}h.Gu.prototype.Zq=function(a,c,d,e){if(a&&c){if(Fa(a)){var f=a.$();var g=c.$()}else g=a.$(),f=c.$();f=f==g?h.wa.gB:c.type!=h.ej[a.type]?h.wa.jB:f.B!==g.B?h.wa.eB:f.Ma&&!g.Ma?h.wa.hB:h.wa.Ym}else f=h.wa.iB;if(f!=h.wa.Ym)a=f;else{a:if(f=a.vj,g=c.vj,f&&g){for(var k=0;k<f.length;k++)if(-1!=g.indexOf(f[k])){f=!0;break a}f=!1}else f=!0;a=f?d&&!Za(a,c,e||0)?h.wa.fB:h.wa.Ym:h.wa.dB}return a};
function Za(a,c,d){if($a(a,c)>d||c.$().sd())return!1;switch(c.type){case h.X.kd:return a.ya||-1!=h.Gj.indexOf(c)?a=!1:c.ya?(a=c.sa(),a=a.sd()?!(a.aa&&a.aa.sa()):!1):a=!0,a;case h.X.Tc:if(c.isConnected()&&!c.sa().sd()||a.isConnected())return!1;break;case h.X.Zb:if(c.isConnected()&&!c.sa().wc()&&!c.sa().Ma)return!1;break;case h.X.$b:if(c.isConnected()&&!a.$().ea&&!c.sa().Ma&&c.sa().ea)return!1;break;default:return!1}return-1!=h.Gj.indexOf(c)?!1:!0}h.u.register(h.u.R.Eu,h.u.Zi,h.Gu);h.Nh=function(a,c,d,e){this.name=a;this.Ag=c||Object.create(null);this.$q=d||Object.create(null);this.pw=e||Object.create(null);this.fontStyle=Object.create(null);this.Xt=null;h.u.register(h.u.R.xq,a,this)};h.Nh.prototype.ne=function(){return this.name+"-theme"};function ab(a,c){return(c=a.pw[c])&&"string"==typeof c&&ab(a,c)?ab(a,c):c?String(c):null}
h.Nh.BC=function(a,c){var d=new h.Nh(a),e=c.base;e&&("string"==typeof e&&(e=h.u.gs(h.u.R.xq,e)),e instanceof h.Nh&&(h.g.object.Bj(d,e),d.name=a));h.g.object.Bj(d.Ag,c.blockStyles);h.g.object.Bj(d.$q,c.categoryStyles);h.g.object.Bj(d.pw,c.componentStyles);h.g.object.Bj(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.Xt=c.startHats);return d};h.xf={};h.xf.gg={};h.xf.gg.AC={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
h.xf.gg.$q={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};h.xf.gg=new h.Nh("classic",h.xf.gg.AC,h.xf.gg.$q);h.g.Gk={};h.g.Gk.hE=0;h.g.Gk.ex=function(){return"blockly-"+(h.g.Gk.hE++).toString(36)};h.g.W={};h.g.W.Hp="categoryToolbox";h.g.W.Qu="flyoutToolbox";h.g.W.Qa={ee:0,eg:1,Hb:2,Gc:3};h.g.W.zw=function(a){if(!a)return null;if(a instanceof Element||"string"==typeof a)a=h.g.W.qt(a),a=h.g.W.tC(a);h.g.W.BF(a);return a};h.g.W.BF=function(a){var c=a.kind;a=a.contents;if(c&&c!=h.g.W.Qu&&c!=h.g.W.Hp)throw Error("Invalid toolbox kind "+c+". Please supply either "+h.g.W.Qu+" or "+h.g.W.Hp);if(!a)throw Error("Toolbox must have a contents attribute.");};
h.g.W.yw=function(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:h.g.W.nu(a):[]};h.g.W.Jl=function(a){if(!a)return!1;var c=a.kind;return c?c==h.g.W.Hp:!!a.contents.filter(function(d){return"CATEGORY"==d.kind.toUpperCase()}).length};h.g.W.VJ=function(a){return a&&a.contents?!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length:!1};h.g.W.tC=function(a){var c={contents:h.g.W.nu(a)};a instanceof Node&&h.g.W.Yv(a,c);return c};
h.g.W.nu=function(a){var c=[],d=a.childNodes;d||(d=a);a=0;for(var e;e=d[a];a++)if(e.tagName){var f={},g=e.tagName.toUpperCase();f.kind=g;"BLOCK"==g?f.blockxml=e:e.childNodes&&0<e.childNodes.length&&(f.contents=h.g.W.nu(e));h.g.W.Yv(e,f);c.push(f)}return c};h.g.W.Yv=function(a,c){for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d];-1<e.nodeName.indexOf("css-")?(c.cssconfig=c.cssconfig||{},c.cssconfig[e.nodeName.replace("css-","")]=e.value):c[e.nodeName]=e.value}};
h.g.W.qt=function(a){if(a){if("string"!=typeof a&&(h.g.userAgent.ae&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=h.K.ze(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};h.jd=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else{d=h.g.W.zw(a.toolbox);e=h.g.W.Jl(d);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;g=a.collapse;void 0===g&&(g=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var q=!!a.rtl,p=a.horizontalLayout;void 0===p&&(p=!1);var u=a.toolboxPosition;u="end"!==u;u=p?u?h.g.W.Qa.ee:h.g.W.Qa.eg:u==q?h.g.W.Qa.Gc:h.g.W.Qa.Hb;var H=a.css;void 0===H&&
(H=!0);var L="https://blockly-demo.appspot.com/static/media/";a.media?L=a.media:a.path&&(L=a.path+"media/");var I=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,Jb=a.renderer||"geras",se=a.plugins||{};this.I=q;this.bp=I;this.collapse=g;this.lC=k;this.disable=l;this.readOnly=c;this.Qs=a.maxBlocks||Infinity;this.Ro=a.maxInstances;this.hp=L;this.Jl=e;this.yc=h.jd.tE(a,e);this.vx=f;this.So=n;this.BD=m;this.zD=H;this.Kd=p;this.si=d;this.qx=h.jd.sE(a);this.zb=h.jd.vE(a);this.Pc=u;this.sF=h.jd.uE(a);this.Ft=
Jb;this.Gt=a.rendererOverrides;this.ns=null;this.ed=a.parentWorkspace;this.plugins=se};h.SF=function(){};
h.jd.tE=function(a,c){var d=a.move||{},e={};void 0===d.scrollbars&&void 0===a.scrollbars?e.scrollbars=c:"object"==typeof d.scrollbars?(e.scrollbars={},e.scrollbars.Nl=!!d.scrollbars.horizontal,e.scrollbars.vertical=!!d.scrollbars.vertical,e.scrollbars.Nl&&e.scrollbars.vertical?e.scrollbars=!0:e.scrollbars.Nl||e.scrollbars.vertical||(e.scrollbars=!1)):e.scrollbars=!!d.scrollbars||!!a.scrollbars;e.mk=e.scrollbars&&void 0!==d.wheel?!!d.wheel:"object"==typeof e.scrollbars;e.Mf=e.scrollbars?void 0===d.drag?
!0:!!d.drag:!1;return e};h.jd.vE=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.mk=void 0===a.wheel?!1:!!a.wheel;c.nF=void 0===a.startScale?1:Number(a.startScale);c.Zl=void 0===a.maxScale?3:Number(a.maxScale);c.bm=void 0===a.minScale?.3:Number(a.minScale);c.$E=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.ty=void 0===a.pinch?c.mk||c.controls:!!a.pinch;return c};
h.jd.sE=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.tb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.zK=0<c.spacing&&!!a.snap;return c};h.jd.uE=function(a){a=a.theme||h.xf.gg;return"string"==typeof a?h.u.gs(h.u.R.xq,a):a instanceof h.Nh?a:h.Nh.BC(a.name||"builtin"+h.g.Gk.ex(),a)};h.jd.qt=function(a){h.g.Dj.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree");return h.g.W.qt(a)};h.h.yf=function(a){h.h.yf.v.constructor.call(this);this.sh=(this.rd="undefined"==typeof a)?"":a.hc();this.Yb=this.rd?"":a.B.id};h.g.object.V(h.h.yf,h.h.Abstract);h.h.yf.prototype.ra=function(){var a=h.h.yf.v.ra.call(this);a.varId=this.sh;return a};h.h.yf.prototype.ba=function(a){h.h.yf.v.ra.call(this);this.sh=a.varId};h.h.zf=function(a){h.h.zf.v.constructor.call(this,a);a&&(this.Ri=a.type,this.Qi=a.name)};h.g.object.V(h.h.zf,h.h.yf);h.h.zf.prototype.type=h.h.Rk;
h.h.zf.prototype.ra=function(){var a=h.h.zf.v.ra.call(this);a.varType=this.Ri;a.varName=this.Qi;return a};h.h.zf.prototype.ba=function(a){h.h.zf.v.ba.call(this,a);this.Ri=a.varType;this.Qi=a.varName};h.h.zf.prototype.run=function(a){var c=x(this);a?c.ke(this.Qi,this.Ri,this.sh):c.Cj(this.sh)};h.h.Af=function(a){h.h.Af.v.constructor.call(this,a);a&&(this.Ri=a.type,this.Qi=a.name)};h.g.object.V(h.h.Af,h.h.yf);h.h.Af.prototype.type=h.h.Gn;
h.h.Af.prototype.ra=function(){var a=h.h.Af.v.ra.call(this);a.varType=this.Ri;a.varName=this.Qi;return a};h.h.Af.prototype.ba=function(a){h.h.Af.v.ba.call(this,a);this.Ri=a.varType;this.Qi=a.varName};h.h.Af.prototype.run=function(a){var c=x(this);a?c.Cj(this.sh):c.ke(this.Qi,this.Ri,this.sh)};h.h.Bf=function(a,c){h.h.Bf.v.constructor.call(this,a);a&&(this.Zs=a.name,this.Vs="undefined"==typeof c?"":c)};h.g.object.V(h.h.Bf,h.h.yf);h.h.Bf.prototype.type=h.h.Eq;
h.h.Bf.prototype.ra=function(){var a=h.h.Bf.v.ra.call(this);a.oldName=this.Zs;a.newName=this.Vs;return a};h.h.Bf.prototype.ba=function(a){h.h.Bf.v.ba.call(this,a);this.Zs=a.oldName;this.Vs=a.newName};h.h.Bf.prototype.run=function(a){var c=x(this);a?c.Fi(this.sh,this.Vs):c.Fi(this.sh,this.Zs)};h.u.register(h.u.R.Gb,h.h.Rk,h.h.zf);h.u.register(h.u.R.Gb,h.h.Gn,h.h.Af);h.u.register(h.u.R.Gb,h.h.Eq,h.h.Bf);h.Fq=function(a){this.Pa=Object.create(null);this.B=a};b=h.Fq.prototype;b.clear=function(){this.Pa=Object.create(null)};b.Dy=function(a,c){var d=this.Mg(c,a.type),e=C(this.B,!1);h.h.ua(!0);try{if(d&&d.hc()!=a.hc()){var f=a.type;c!=d.name&&bb(d,c,e);for(c=0;c<e.length;c++){d=void 0;for(var g=0;d=e[c].U[g];g++)for(var k=0;d.fb[k];k++);}h.h.Ha(new (h.h.get(h.h.Gn))(a));this.Pa[f].splice(this.uo(f).indexOf(a),1)}else bb(a,c,e)}finally{h.h.ua(!1)}};
b.Fi=function(a,c){var d=this.Ng(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.Dy(d,c)};function bb(a,c,d){h.h.Ha(new (h.h.get(h.h.Eq))(a,c));a.name=c;for(a=0;a<d.length;a++)for(var e=d[a],f=0;c=e.U[f];f++)for(var g=0;c.fb[g];g++);}
b.ke=function(a,c,d){var e=this.Mg(a,c);if(e){if(d&&e.hc()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.hc()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Ng(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||h.g.Xe();c=c||"";e=new h.Hn(this.B,a,c,e);a=this.Pa[c]||[];a.push(e);delete this.Pa[c];this.Pa[c]=a;return e};
b.Cj=function(a){var c=this.Ng(a);if(c){var d=c.name,e=this.ls(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=cb(f,"NAME");d=h.M.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);h.alert(d);return}var g=this;1<e.length?(d=h.M.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),h.confirm(d,function(k){k&&c&&db(g,c,e)})):db(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function db(a,c,d){var e=h.h.Wb();e||h.h.ua(!0);try{for(var f=0;f<d.length;f++)d[f].H(!0);var g=a.Pa[c.type];a=0;for(var k;k=g[a];a++)if(k.hc()==c.hc()){g.splice(a,1);h.h.Ha(new (h.h.get(h.h.Gn))(c));break}}finally{e||h.h.ua(!1)}}b.Mg=function(a,c){if(c=this.Pa[c||""])for(var d=0,e;e=c[d];d++)if(h.Bd.Nf(e.name,a))return e;return null};b.Ng=function(a){for(var c=Object.keys(this.Pa),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Pa[e][f];f++)if(g.hc()==a)return g;return null};
b.uo=function(a){return(a=this.Pa[a||""])?a.slice():[]};b.$h=function(){var a=[],c;for(c in this.Pa)a=a.concat(this.Pa[c]);return a};b.Vr=function(){var a=[],c;for(c in this.Pa)for(var d=this.Pa[c],e=0,f;f=d[e];e++)a.push(f.name);return a};b.ls=function(a){for(var c=[],d=C(this.B,!1),e=0;e<d.length;e++){var f=ka(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].hc()==a&&c.push(d[e])}return c};h.rb=function(a){this.id=h.g.Xe();h.rb.Uk[this.id]=this;this.options=a||new h.jd({});this.I=!!this.options.I;this.Kd=!!this.options.Kd;this.Pc=this.options.Pc;this.If=new (h.u.Of(h.u.R.Eu,this.options,!0))(this);this.Hm=[];this.tp=[];this.Vn=Object.create(null);this.Nc=[];this.Pi=[];this.nm=[];this.Pq=Object.create(null);this.dg=Object.create(null);this.Pa=new h.Fq(this);this.$j=null};b=h.rb.prototype;b.va=!1;b.ys=!1;b.gv=1024;b.Yn=null;b.H=function(){this.Nc.length=0;this.clear();delete h.rb.Uk[this.id]};
h.rb.Bv=3;b=h.rb.prototype;b.kf=function(a,c){a=a.$a();c=c.$a();return a.y+h.rb.prototype.kf.offset*a.x-(c.y+h.rb.prototype.kf.offset*c.x)};b.Kn=function(a){this.Hm.push(a)};b.jp=function(a){if(!h.g.Xk(this.Hm,a))throw Error("Block not present in workspace's list of top-most blocks.");};b.vb=function(a){var c=[].concat(this.Hm);a&&1<c.length&&(this.kf.offset=Math.sin(h.g.Md.au(h.rb.Bv)),this.I&&(this.kf.offset*=-1),c.sort(this.kf));return c};function eb(a,c){return a.dg[c]?a.dg[c].slice(0):[]}
function C(a,c){if(c){a=a.vb(!0);c=[];for(var d=0;d<a.length;d++)c.push.apply(c,v(a[d],!0))}else for(c=a.vb(!1),d=0;d<c.length;d++)c.push.apply(c,z(c[d],!1));return c.filter(function(e){return!e.sd()})}b.clear=function(){this.ys=!0;try{var a=h.h.Wb();for(a||h.h.ua(!0);this.Hm.length;)this.Hm[0].H(!1);for(;this.tp.length;)this.tp[this.tp.length-1].H(!1);a||h.h.ua(!1);this.Pa.clear();this.$j&&this.$j.clear()}finally{this.ys=!1}};b.Fi=function(a,c){this.Pa.Fi(a,c)};
b.ke=function(a,c,d){return this.Pa.ke(a,c,d)};b.ls=function(a){return this.Pa.ls(a)};b.Cj=function(a){this.Pa.Cj(a)};b.Mg=function(a,c){return this.Pa.Mg(a,c)};b.Ng=function(a){return this.Pa.Ng(a)};b.uo=function(a){return this.Pa.uo(a)};b.$h=function(){return this.Pa.$h()};b.Vr=function(){return this.Pa.Vr()};b.Hl=function(){return 0};b.Us=function(a,c){return new h.Vi(this,a,c)};function fb(a){return isNaN(a.options.Qs)?Infinity:a.options.Qs-C(a,!1).length}
function gb(a,c){if(!hb(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.Ro?(void 0!==a.options.Ro[e]?a.options.Ro[e]:Infinity)-eb(a,e).length:Infinity))return!1;d+=c[e]}return d>fb(a)?!1:!0}function hb(a){return Infinity!=a.options.Qs||!!a.options.Ro}
function ib(a,c){var d=c?a.nm:a.Pi;a=c?a.Pi:a.nm;var e=d.pop();if(e){for(var f=[e];d.length&&e.group&&e.group==d[d.length-1].group;)f.push(d.pop());for(d=0;e=f[d];d++)a.push(e);f=h.h.filter(f,c);h.h.Oa=!1;try{for(d=0;e=f[d];d++)e.run(c)}finally{h.h.Oa=!0}}}function D(a,c){a.Nc.push(c)}function jb(a,c){h.g.Xk(a.Nc,c)}b.Lc=function(a){return this.Pq[a]||null};b.St=function(a){this.Pa=a};h.rb.Uk=Object.create(null);h.rb.Cl=function(a){return h.rb.Uk[a]||null};
h.rb.getAll=function(){var a=[],c;for(c in h.rb.Uk)a.push(h.rb.Uk[c]);return a};h.xa=function(a,c,d,e,f,g){this.m=a;this.Jf=c;this.gF=d;this.gt=this.ft=this.Xx=this.Gy=null;this.Ue=!1;d=h.xa.rz;this.m.I&&(d=-d);this.RB=h.g.Md.au(d);a.$f.appendChild(this.jl(c,!(!f||!g)));this.Ob=e;this.Ey&&kb(this);f&&g||(a=this.Jf.getBBox(),f=a.width+2*h.xa.Ce,g=a.height+2*h.xa.Ce);lb(this,f,g);kb(this);mb(this);this.Ey=!0};h.xa.Ce=6;h.xa.sz=5;h.xa.rz=20;h.xa.qu=4;h.xa.oz=8;h.xa.eh=null;h.xa.dh=null;
h.xa.fu=function(){h.xa.eh&&(h.N.yb(h.xa.eh),h.xa.eh=null);h.xa.dh&&(h.N.yb(h.xa.dh),h.xa.dh=null)};h.xa.XB=function(){h.Touch.Sn();h.xa.fu()};b=h.xa.prototype;b.Ey=!1;b.Ob=null;b.hf=0;b.kh=0;b.kb=0;b.vc=0;b.Nq=!0;
b.jl=function(a,c){this.Dd=h.g.j.J(h.g.D.Sc,{},null);var d={filter:"url(#"+this.m.ob.ka().no+")"};h.g.userAgent.DA&&(d={});d=h.g.j.J(h.g.D.Sc,d,this.Dd);this.ew=h.g.j.J(h.g.D.Ke,{},d);this.On=h.g.j.J(h.g.D.Mb,{"class":"blocklyDraggable",x:0,y:0,rx:h.xa.Ce,ry:h.xa.Ce},d);c?(this.Yf=h.g.j.J(h.g.D.Sc,{"class":this.m.I?"blocklyResizeSW":"blocklyResizeSE"},this.Dd),c=2*h.xa.Ce,h.g.j.J(h.g.D.aB,{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Yf),h.g.j.J(h.g.D.Ik,{"class":"blocklyResizeLine",x1:c/
3,y1:c-1,x2:c-1,y2:c/3},this.Yf),h.g.j.J(h.g.D.Ik,{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Yf)):this.Yf=null;this.m.options.readOnly||(this.ft=h.N.Ba(this.On,"mousedown",this,this.WB),this.Yf&&(this.gt=h.N.Ba(this.Yf,"mousedown",this,this.VE)));this.Dd.appendChild(a);return this.Dd};b.pa=function(){return this.Dd};
b.WB=function(a){var c=this.m.Kg(a);if(c){if(c.ei)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.vd||(c.vd=this);c.Nd=a}};b.vm=function(){};b.cf=function(){return!1};b.Mt=function(){};
b.VE=function(a){var c=this.Dd.parentNode;c.lastChild!==this.Dd&&c.appendChild(this.Dd);h.xa.fu();h.g.Tl(a)||(this.m.zm(a,new h.g.T(this.m.I?-this.kb:this.kb,this.vc)),h.xa.eh=h.N.Ba(document,"mouseup",this,h.xa.XB),h.xa.dh=h.N.Ba(document,"mousemove",this,this.WE),h.ic());a.stopPropagation()};b.WE=function(a){this.Nq=!1;var c=this.m;a=h.g.cm(a,t(c),Va(c));a.x/=c.scale;a.y/=c.scale;c=h.g.T.sum(c.Mw,a);lb(this,this.m.I?-c.x:c.x,c.y);this.m.I&&kb(this)};
function nb(a,c,d){var e=a.m.I?a.Ob.x-c.x-a.kb:c.x+a.Ob.x;c=c.y+a.Ob.y;return Math.max(0,Math.min(1,(Math.min(e+a.kb,d.left+d.width)-Math.max(e,d.left))*(Math.min(c+a.vc,d.top+d.height)-Math.max(c,d.top))/(a.kb*a.vc)))}function kb(a){var c=a.Ob.x;c=a.m.I?c-(a.hf+a.kb):c+a.hf;a.moveTo(c,a.kh+a.Ob.y)}b.moveTo=function(a,c){this.Dd.setAttribute("transform","translate("+a+","+c+")")};b.mh=function(a){!a&&this.Xx&&this.Xx()};
function lb(a,c,d){var e=2*h.xa.Ce;c=Math.max(c,e+45);d=Math.max(d,e+20);a.kb=c;a.vc=d;a.On.setAttribute("width",c);a.On.setAttribute("height",d);a.Yf&&(a.m.I?a.Yf.setAttribute("transform","translate("+2*h.xa.Ce+","+(d-e)+") scale(-1 1)"):a.Yf.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.Nq){c=ob(a.m.dd,!0);d=-a.kb/4;if(!(a.kb>c.width)){if(a.m.I){e=a.Ob.x-d;var f=e-a.kb;var g=c.left+c.width,k=c.left+h.La.jc/a.m.scale}else f=d+a.Ob.x,e=f+a.kb,k=c.left,g=c.left+c.width-h.La.jc/a.m.scale;
a.m.I?f<k?d=-(k-a.Ob.x+a.kb):e>g&&(d=-(g-a.Ob.x)):f<k?d=k-a.Ob.x:e>g&&(d=g-a.Ob.x-a.kb)}f=d;d=-a.vc/4;if(!(a.vc>c.height)){e=a.Ob.y+d;g=e+a.vc;k=c.top;var l=c.top+c.height-h.La.jc/a.m.scale,m=a.Ob.y;e<k?d=k-m:g>l&&(d=l-m-a.vc)}k=d;g=a.gF.getBBox();d={x:f,y:-a.vc-a.m.ob.ka().Jk};e={x:-a.kb-30,y:k};k={x:g.width,y:k};l={x:f,y:g.height};f=g.width<g.height?k:l;g=g.width<g.height?l:k;k=nb(a,d,c);l=nb(a,e,c);m=nb(a,f,c);c=Math.max(k,l,m,nb(a,g,c));k==c?(a.hf=d.x,a.kh=d.y):l==c?(a.hf=e.x,a.kh=e.y):m==c?(a.hf=
f.x,a.kh=f.y):(a.hf=g.x,a.kh=g.y)}kb(a);mb(a);a.Gy&&a.Gy()}
function mb(a){var c=[],d=a.kb/2,e=a.vc/2,f=-a.hf,g=-a.kh;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.m.I&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),q=Math.cos(m),p=new h.g.Uc(a.kb,a.vc);m=(p.width+p.height)/h.xa.sz;m=Math.min(m,p.width,p.height)/4;p=1-h.xa.oz/k;f=d+p*f;g=e+p*g;p=d+m*q;var u=e+m*n;d-=m*q;e-=m*n;n=l+a.RB;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/h.xa.qu;k=Math.cos(n)*k/h.xa.qu;c.push("M"+
p+","+u);c.push("C"+(p+k)+","+(u+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.ew.setAttribute("d",c.join(" "))}b.we=function(a){this.On.setAttribute("fill",a);this.ew.setAttribute("fill",a)};b.H=function(){this.ft&&h.N.yb(this.ft);this.gt&&h.N.yb(this.gt);h.xa.fu();h.g.j.removeNode(this.Dd);this.Ue=!0};b.Ts=function(a,c){a?a.Oi(c.x,c.y):this.moveTo(c.x,c.y);this.hf=this.m.I?this.Ob.x-c.x-this.kb:c.x-this.Ob.x;this.kh=c.y-this.Ob.y;mb(this)};
b.$a=function(){return new h.g.T(this.m.I?-this.hf+this.Ob.x-this.kb:this.Ob.x+this.hf,this.Ob.y+this.kh)};h.xa.ze=function(a){var c=h.g.j.J(h.g.D.Jv,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:h.xa.Ce},null);a=a.split("\n");for(var d=0;d<a.length;d++){var e=h.g.j.J(h.g.D.Lv,{dy:"1em",x:h.xa.Ce},c),f=document.createTextNode(a[d]);e.appendChild(f)}return c};
h.xa.CJ=function(a,c,d){d=new h.xa(c.B,a,c.wb.Eb,d,null,null);d.Dd.dataset&&(d.Dd.dataset.blockId=c.id);if(c.I){c=a.getBBox().width;for(var e=0,f;f=a.childNodes[e];e++)f.setAttribute("text-anchor","end"),f.setAttribute("x",c+h.xa.Ce)}return d};h.h.qf=function(a){this.Pe=(this.rd="undefined"==typeof a)?"":a.id;this.Yb=this.rd?"":a.B.id;this.group=h.h.Wb();this.Oa=h.h.Oa};h.g.object.V(h.h.qf,h.h.Abstract);h.h.qf.prototype.ra=function(){var a=h.h.qf.v.ra.call(this);this.Pe&&(a.commentId=this.Pe);return a};h.h.qf.prototype.ba=function(a){h.h.qf.v.ba.call(this,a);this.Pe=a.commentId};h.h.Wi=function(a,c,d){h.h.Wi.v.constructor.call(this,a);a&&(this.Yo="undefined"==typeof c?"":c,this.Xo="undefined"==typeof d?"":d)};h.g.object.V(h.h.Wi,h.h.qf);
b=h.h.Wi.prototype;b.type=h.h.Bu;b.ra=function(){var a=h.h.Wi.v.ra.call(this);a.oldContents=this.Yo;a.newContents=this.Xo;return a};b.ba=function(a){h.h.Wi.v.ba.call(this,a);this.Yo=a.oldContents;this.Xo=a.newContents};b.Vj=function(){return this.Yo==this.Xo};b.run=function(a){var c;(c=x(this).Vn[this.Pe]||null)?c.uK(a?this.Xo:this.Yo):console.warn("Can't change non-existent comment: "+this.Pe)};h.h.rf=function(a){h.h.rf.v.constructor.call(this,a);a&&(this.xml=a.Uy())};h.g.object.V(h.h.rf,h.h.qf);
h.h.rf.prototype.type=h.h.cn;h.h.rf.prototype.ra=function(){var a=h.h.rf.v.ra.call(this);a.xml=h.K.Hd(this.xml);return a};h.h.rf.prototype.ba=function(a){h.h.rf.v.ba.call(this,a);this.xml=h.K.ze(a.xml)};h.h.rf.prototype.run=function(a){h.h.Fu(this,a)};h.h.Fu=function(a,c){var d=x(a);c?(c=h.g.xml.createElement("xml"),c.appendChild(a.xml),h.K.Xh(c,d)):(d=d.Vn[a.Pe]||null)?d.H(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.Pe)};
h.h.sf=function(a){h.h.sf.v.constructor.call(this,a);a&&(this.xml=a.Uy())};h.g.object.V(h.h.sf,h.h.qf);h.h.sf.prototype.type=h.h.Cu;h.h.sf.prototype.ra=function(){return h.h.sf.v.ra.call(this)};h.h.sf.prototype.ba=function(a){h.h.sf.v.ba.call(this,a)};h.h.sf.prototype.run=function(a){h.h.Fu(this,!a)};h.h.Xi=function(a){h.h.Xi.v.constructor.call(this,a);a&&(this.ir=a,this.Ci=a.px(),this.zi=null)};h.g.object.V(h.h.Xi,h.h.qf);b=h.h.Xi.prototype;
b.Ei=function(){if(!this.ir)throw Error("Tried to record the new position of a comment on the same event twice.");this.zi=this.ir.px();this.ir=null};b.type=h.h.vk;b.ra=function(){var a=h.h.Xi.v.ra.call(this);this.Ci&&(a.oldCoordinate=Math.round(this.Ci.x)+","+Math.round(this.Ci.y));this.zi&&(a.newCoordinate=Math.round(this.zi.x)+","+Math.round(this.zi.y));return a};
b.ba=function(a){h.h.Xi.v.ba.call(this,a);if(a.oldCoordinate){var c=a.oldCoordinate.split(",");this.Ci=new h.g.T(Number(c[0]),Number(c[1]))}a.newCoordinate&&(c=a.newCoordinate.split(","),this.zi=new h.g.T(Number(c[0]),Number(c[1])))};b.Vj=function(){return h.g.T.Nf(this.Ci,this.zi)};b.run=function(a){var c;if(c=x(this).Vn[this.Pe]||null){a=a?this.zi:this.Ci;var d=c.px();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.Pe)};h.u.register(h.u.R.Gb,h.h.cn,h.h.rf);
h.u.register(h.u.R.Gb,h.h.Bu,h.h.Wi);h.u.register(h.u.R.Gb,h.h.vk,h.h.Xi);h.u.register(h.u.R.Gb,h.h.Cu,h.h.sf);h.qk=function(a,c){this.uc=a;this.m=c;this.fc=null;this.Qm=!1;this.lf=this.uc.$a();this.Yh=h.g.li()&&c.md?c.md:null};h.qk.prototype.H=function(){this.Yh=this.m=this.uc=null};function pb(a,c,d){d=a.Zj(d);d=h.g.T.sum(a.lf,d);a.uc.Ts(a.Yh,d);d=a.fc;a.fc=Da(a.m,c);c=a.Qm;a.Qm=a.Ut(a.fc);c!=a.Qm&&a.uc.Mt(a.Qm);a.fc!==d&&d&&d.at();a.fc&&a.fc.bt()}h.qk.prototype.Ut=function(a){return a&&ra(this.m.Hf,a.id)?za(a,this.uc,!1):!1};
function qb(a,c,d){pb(a,c,d);c=a.Zj(d);c=h.g.T.sum(a.lf,c);a.uc.moveTo(c.x,c.y);a.fc&&a.fc.ct();a.Qm?(a.xl(),a.uc.H(!1,!0)):(a.Yh&&a.Yh.Rn(a.m.$f),a.uc.mh&&a.uc.mh(!1),a.xl());a.m.ac(!0);h.h.ua(!1)}h.qk.prototype.xl=function(){if(this.uc.WJ){var a=new (h.h.get(h.h.vk))(this.uc);a.Ci=this.lf;a.Ei();h.h.Ha(a)}};h.qk.prototype.Zj=function(a){a=new h.g.T(a.x/this.m.scale,a.y/this.m.scale);this.m.Go&&a.scale(1/this.m.options.ed.scale);return a};h.h.hg=function(a,c,d){h.h.hg.v.constructor.call(this,a?a.B.id:c);this.hb=a?a.id:null;this.Sy=d};h.g.object.V(h.h.hg,h.h.fe);h.h.hg.prototype.type=h.h.tk;h.h.hg.prototype.ra=function(){var a=h.h.hg.v.ra.call(this);a.targetType=this.Sy;this.hb&&(a.blockId=this.hb);return a};h.h.hg.prototype.ba=function(a){h.h.hg.v.ba.call(this,a);this.Sy=a.targetType;this.hb=a.blockId};h.u.register(h.u.R.Gb,h.h.tk,h.h.hg);h.G={};h.G.visible=!1;h.G.tj=!1;h.G.FA=50;h.G.Vx=0;h.G.xm=0;h.G.Ds=0;h.G.Es=0;h.G.eb=null;h.G.im=null;h.G.mv=0;h.G.nv=10;h.G.cB=10;h.G.tA=750;h.G.bq=5;h.G.bb=null;h.G.pD=function(){var a=h.G.ox(h.G.eb);if(a){for(a=a.Vd;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");return a}return""};h.G.ox=function(a){for(;a&&a.Vd;){if("string"==typeof a.Vd||"function"==typeof a.Vd)return a;a=a.Vd}return null};
h.G.Wa=function(){h.G.bb||(h.G.bb=document.createElement("div"),h.G.bb.className="blocklyTooltipDiv",(h.cp||document.body).appendChild(h.G.bb))};h.G.sj=function(a){a.aE=h.N.bind(a,"mouseover",null,h.G.pE);a.ZD=h.N.bind(a,"mouseout",null,h.G.oE);a.addEventListener("mousemove",h.G.py,!1)};h.G.gu=function(a){a&&(h.N.yb(a.aE),h.N.yb(a.ZD),a.removeEventListener("mousemove",h.G.py))};h.G.pE=function(a){h.G.tj||(a=h.G.ox(a.currentTarget),h.G.eb!=a&&(h.G.ab(),h.G.im=null,h.G.eb=a),clearTimeout(h.G.Vx))};
h.G.oE=function(){h.G.tj||(h.G.Vx=setTimeout(function(){h.G.eb=null;h.G.im=null;h.G.ab()},1),clearTimeout(h.G.xm))};h.G.py=function(a){if(h.G.eb&&h.G.eb.Vd&&!h.G.tj)if(h.G.visible){var c=h.G.Ds-a.pageX;a=h.G.Es-a.pageY;Math.sqrt(c*c+a*a)>h.G.cB&&h.G.ab()}else h.G.im!=h.G.eb&&(clearTimeout(h.G.xm),h.G.Ds=a.pageX,h.G.Es=a.pageY,h.G.xm=setTimeout(h.G.iF,h.G.tA))};h.G.H=function(){h.G.eb=null;h.G.im=null;h.G.ab()};
h.G.ab=function(){h.G.visible&&(h.G.visible=!1,h.G.bb&&(h.G.bb.style.display="none"));h.G.xm&&clearTimeout(h.G.xm)};h.G.block=function(){h.G.ab();h.G.tj=!0};h.G.AF=function(){h.G.tj=!1};
h.G.iF=function(){if(!h.G.tj&&(h.G.im=h.G.eb,h.G.bb)){h.G.bb.textContent="";var a=h.G.pD();a=h.g.Ra.iz(a,h.G.FA);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));h.G.bb.appendChild(d)}a=h.G.eb.I;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h.G.bb.style.direction=a?"rtl":"ltr";h.G.bb.style.display="block";h.G.visible=!0;var e=h.G.Ds;e=a?e-(h.G.mv+h.G.bb.offsetWidth):e+h.G.mv;var f=h.G.Es+h.G.nv;
f+h.G.bb.offsetHeight>d+window.scrollY&&(f-=h.G.bb.offsetHeight+2*h.G.nv);a?e=Math.max(h.G.bq-window.scrollX,e):e+h.G.bb.offsetWidth>c+window.scrollX-2*h.G.bq&&(e=c-h.G.bb.offsetWidth-2*h.G.bq);h.G.bb.style.top=f+"px";h.G.bb.style.left=e+"px"}};h.Vk=function(a){this.m=a;this.Bx=rb(this.m);this.ez=sb(this.m);this.oF=new h.g.T(a.scrollX,a.scrollY)};h.Vk.prototype.H=function(){this.m=null};h.Vk.prototype.zm=function(){h.selected&&tb(h.selected);Wa(this.m)};h.Vk.prototype.ul=function(a){this.Mf(a);Xa(this.m)};
h.Vk.prototype.Mf=function(a){a=h.g.T.sum(this.oF,a);if(this.Bx&&this.ez)this.m.scroll(a.x,a.y);else if(this.Bx)this.m.scroll(a.x,this.m.scrollY);else if(this.ez)this.m.scroll(this.m.scrollX,a.y);else throw new TypeError("Invalid state.");};h.Ie=function(a,c){this.Ux=null;this.Jc=new h.g.T(0,0);this.Kb=this.lc=this.gk=this.hk=this.vd=null;this.mr=c;this.Pl=this.ni=this.Ql=this.di=!1;this.Nd=a;this.za=this.Ti=this.Oe=this.Bg=this.ap=this.$o=null;this.Co=this.ei=this.gw=!1;this.wx=!h.Qz};b=h.Ie.prototype;b.H=function(){h.Touch.Sn();h.G.AF();this.mr.tc=null;this.$o&&h.N.yb(this.$o);this.ap&&h.N.yb(this.ap);this.Oe&&this.Oe.H();this.Ti&&this.Ti.H();this.Bg&&this.Bg.H()};
function ub(a,c){a.Jc=h.g.T.ql(new h.g.T(c.clientX,c.clientY),a.Ux);if(a.di)var d=!1;else a.di=h.g.T.VD(a.Jc)>(a.za?h.lA:h.Pz),d=a.di;if(d){if(a.gw)throw Error("updateIsDragging_ should only be called once per gesture.");a.gw=!0;a.vd?(a.Pl=!0,a.Bg=new h.qk(a.vd,a.Kb),d=a.Bg,h.h.Wb()||h.h.ua(!0),d.m.ac(!1),d.uc.Nq=!1,d.Yh&&(d.uc.moveTo(0,0),d.Yh.Oi(d.lf.x,d.lf.y),Ca(d.Yh,d.uc.pa())),d.uc.mh&&d.uc.mh(!0),pb(a.Bg,a.Nd,a.Jc),d=!0):d=!1;if(!d){if(a.lc){if(a.za){if(a.lc&&a.lc.isEnabled()){if(!(d=!vb(a.za))){d=
a.Jc;d=Math.atan2(d.y,d.x)/Math.PI*180;var e=a.za.KC;d=d<e&&d>-e||d<-180+e||d>180-e?!0:!1}d?(a.Kb=a.za.Ea,wb(a.Kb),h.h.Wb()||h.h.ua(!0),a.gk=null,a.lc=xb(a.za,a.lc),a.lc.select(),d=!0):d=!1}else d=!1;a.ni=d}else a.lc.wc()&&(a.ni=!0);a.ni?(a.Oe=new (h.u.Of(h.u.R.vu,a.mr.options,!0))(a.lc,a.Kb),a.Oe.zm(a.Jc,a.wx),a.Oe.Mf(a.Nd,a.Jc),d=!0):d=!1}else d=!1;if(d=!d)if(a.za)d=vb(a.za);else if(d=a.Kb)d=a.Kb,d=d.options.yc&&d.options.yc.Mf;d&&(a.Ti=new h.Vk(a.Kb),a.Ql=!0,a.Ti.zm())}h.Yg()}a.Nd=c}
b.Fr=function(a){h.g.Ho(a)?this.cancel():(this.ei=!0,h.cb.Dr(),wb(this.Kb),this.Kb.Go&&this.Kb.resize(),h.ic(!!this.za),ba(this.Kb),this.Nd=a,h.G.block(),this.lc&&this.lc.select(),h.g.Tl(a)?da(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||h.UD(a,this),this.Ux=new h.g.T(a.clientX,a.clientY),this.wx=a.altKey||a.ctrlKey||a.metaKey,this.sj(a)))};
b.sj=function(a){this.$o=h.N.Ba(document,"mousemove",null,this.Mj.bind(this));this.ap=h.N.Ba(document,"mouseup",null,this.vo.bind(this));a.preventDefault();a.stopPropagation()};b.Mj=function(a){ub(this,a);this.Ql?this.Ti.Mf(this.Jc):this.ni?this.Oe.Mf(this.Nd,this.Jc):this.Pl&&pb(this.Bg,this.Nd,this.Jc);a.preventDefault();a.stopPropagation()};
b.vo=function(a){ub(this,a);h.Yg();if(this.Co)console.log("Trying to end a gesture recursively.");else{this.Co=!0;if(this.Pl)qb(this.Bg,a,this.Jc);else if(this.ni)this.Oe.ul(a,this.Jc);else if(this.Ql)this.Ti.ul(this.Jc);else if(this.vd&&!this.di)this.vd.dF&&this.vd.dF(),this.vd.select&&this.vd.select();else if(yb(this)){var c=this.hk,d=this.Nd;zb(c)&&c.pp(d);Ab(this)}else!this.gk||this.di||yb(this)?this.gk||this.vd||this.hk||this.di||(c=this.mr,h.selected&&tb(h.selected),c=this.Kb||c,h.h.Ha(new (h.h.get(h.h.tk))(null,
c.id,"workspace"))):(this.za&&this.za.Qh?this.lc.isEnabled()&&(h.h.Wb()||h.h.ua(!0),Ga(xb(this.za,this.lc))):(c=new (h.h.get(h.h.tk))(this.gk,this.Kb.id,"block"),h.h.Ha(c)),Ab(this),h.h.ua(!1));a.preventDefault();a.stopPropagation();this.H()}};b.cancel=function(){this.Co||(h.Yg(),this.Pl?qb(this.Bg,this.Nd,this.Jc):this.ni?this.Oe.ul(this.Nd,this.Jc):this.Ql&&this.Ti.ul(this.Jc),this.H())};
function da(a,c){a.lc?(Ab(a),h.ic(!!a.za),a.lc.vm(c)):a.vd?a.vd.vm(c):a.Kb&&!a.za&&(h.ic(),a.Kb.vm(c));c.preventDefault();c.stopPropagation();a.H()}function Bb(a,c,d){if(a.ei)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Kb||(a.Kb=d);a.Nd=c;a.Fr(c)}function Cb(a,c,d){if(a.ei)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.za||(a.za=d);Bb(a,c,d.m)}function Ab(a){a.lc&&!a.za&&Ba(a.lc)}
function Db(a,c){a.gk||a.vd||(a.gk=c,c.cd&&c!=c.re()?Eb(a,c.re()):Eb(a,c))}function Eb(a,c){c.Ma?Eb(a,c.getParent()):a.lc=c}function yb(a){return(a.hk?zb(a.hk):!1)&&!a.di&&(!a.za||!a.za.Qh)}b.bd=function(){return this.Ql||this.ni||this.Pl};b.Ij=function(){return this.Oe?this.Oe.Ij():[]};h.Ie.ki=function(){for(var a=h.rb.getAll(),c=0,d;d=a[c];c++)if(d.tc)return!0;return!1};h.jH=function(){};h.F=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.Lm=a;this.Da=c;this.lz=null;(a=d||null)&&a.kz&&(this.lz=a.kz)};h.F.types={Dc:"field",Sb:"block",zd:"input",Kh:"output",rg:"next",tg:"previous",Mh:"stack",Wc:"workspace"};h.F.qg=!1;h.F.Lz=-20;h.F.XJ=function(a){switch(a){case h.F.types.tg:case h.F.types.rg:case h.F.types.zd:case h.F.types.Kh:return!0}return!1};h.F.kl=function(a){return a?new h.F(h.F.types.Dc,a):null};
h.F.Ig=function(a){if(!a)return null;var c=a.type;return c==h.X.Zb||c==h.X.$b&&a.Ye()?h.F.Wh(a.Ye()):c==h.X.$b?new h.F(h.F.types.rg,a):c==h.X.Tc?new h.F(h.F.types.Kh,a):c==h.X.kd?new h.F(h.F.types.tg,a):null};h.F.Wh=function(a){return a&&a.connection?new h.F(h.F.types.zd,a.connection):null};h.F.Hg=function(a){return a?new h.F(h.F.types.Sb,a):null};h.F.$n=function(a){return a?new h.F(h.F.types.Mh,a):null};h.F.yC=function(a,c){return c&&a?new h.F(h.F.types.Wc,a,{kz:c}):null};
h.F.DJ=function(a){var c=a.aa||a.S;return c?h.F.Ig(c):h.F.Hg(a)};b=h.F.prototype;b.getType=function(){return this.Lm};function Fb(a,c){a=a.Da;a instanceof h.Vi||(a=a.$());if(!a||!a.B)return null;var d=a.re();a=d.B.vb(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:h.F.$n(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}
function Gb(a){if(!a)return null;do var c=a.aa&&a.aa.sa();while(c&&w(c)==a&&(a=c));return(c=a.aa||a.S)&&c.ya&&c.ya.Ye()?h.F.Wh(c.ya.Ye()):h.F.$n(a)}b.$=function(){return this.getType()===h.F.types.Sb?this.Da:this.getType()===h.F.types.Mh?this.Da:this.getType()===h.F.types.Wc?null:this.Da.$()};
b.next=function(){switch(this.Lm){case h.F.types.Mh:return Fb(this,!0);case h.F.types.Kh:var a=this.Da;return h.F.Hg(a.$());case h.F.types.Dc:a:{var c=this.Da,d=c.Ye();a=c.$();c=d.fb.indexOf(c)+1;d=a.U.indexOf(d);for(var e;e=a.U[d];d++){for(var f=e.fb;c<f.length;){if(zb(f[c])||h.F.qg){a=h.F.kl(f[c]);break a}c++}c=0;if(e.connection){a=h.F.Wh(e);break a}}a=null}return a;case h.F.types.zd:a:{c=this.Da.Ye();a=c.$();for(c=a.U.indexOf(c)+1;d=a.U[c];c++){e=d.fb;f=0;for(var g;g=e[f];f++)if(zb(g)||h.F.qg){a=
h.F.kl(g);break a}if(d.connection){a=h.F.Wh(d);break a}}a=null}return a;case h.F.types.Sb:return h.F.Ig(this.Da.ea);case h.F.types.tg:return a=this.Da,h.F.Hg(a.$());case h.F.types.rg:return a=this.Da,h.F.Ig(a.ya)}return null};
b.Qg=function(){switch(this.Lm){case h.F.types.Wc:var a=this.Da.vb(!0);if(0<a.length)return h.F.$n(a[0]);break;case h.F.types.Mh:a=this.Da;var c=a.aa||a.S;return c?h.F.Ig(c):h.F.Hg(a);case h.F.types.Sb:a=this.Da;a:{a=a.U;c=0;for(var d;d=a[c];c++){for(var e=d.fb,f=0,g;g=e[f];f++)if(zb(g)||h.F.qg){a=h.F.kl(g);break a}if(d.connection){a=h.F.Wh(d);break a}}a=null}return a;case h.F.types.zd:return h.F.Ig(this.Da.ya)}return null};
b.ih=function(){switch(this.Lm){case h.F.types.Mh:return Fb(this,!1);case h.F.types.Dc:a:{var a=this.Da;var c=a.Ye();var d=a.$();a=c.fb.indexOf(a)-1;for(var e=d.U.indexOf(c),f;f=d.U[e];e--){if(f.connection&&f!==c){c=h.F.Wh(f);break a}for(f=f.fb;-1<a;){if(zb(f[a])||h.F.qg){c=h.F.kl(f[a]);break a}a--}0<=e-1&&(a=d.U[e-1].fb.length-1)}c=null}return c;case h.F.types.zd:a:{c=this.Da.Ye();d=c.$();for(a=d.U.indexOf(c);e=d.U[a];a--){if(e.connection&&e!==c){c=h.F.Wh(e);break a}e=e.fb;f=e.length-1;for(var g;g=
e[f];f--)if(zb(g)||h.F.qg){c=h.F.kl(g);break a}}c=null}return c;case h.F.types.Sb:return c=this.Da,h.F.Ig(c.aa||c.S);case h.F.types.tg:c=this.Da;if((c=c.ya)&&!c.Ye())return h.F.Ig(c);break;case h.F.types.rg:return c=this.Da,h.F.Hg(c.$())}return null};
b.fh=function(){switch(this.Lm){case h.F.types.Mh:var a=this.Da,c=a.$a();return h.F.yC(a.B,new h.g.T(c.x,c.y+h.F.Lz));case h.F.types.Kh:return a=this.Da,(c=a.ya)?h.F.Ig(c):h.F.$n(a.$());case h.F.types.Dc:return h.F.Hg(this.Da.$());case h.F.types.zd:return a=this.Da,h.F.Hg(a.$());case h.F.types.Sb:return a=this.Da,Gb(a);case h.F.types.tg:return a=this.Da,Gb(a.$());case h.F.types.rg:return a=this.Da,Gb(a.$())}return null};h.sn=function(){this.Id=this.le=this.tb=null;this.type="marker"};function Hb(a,c){var d=a.le;a.le=c;a.Id&&a.Id.draw(d,a.le)}h.sn.prototype.draw=function(){this.Id&&this.Id.draw(this.le,this.le)};h.sn.prototype.ab=function(){this.Id&&this.Id.ab()};h.sn.prototype.H=function(){this.Id&&this.Id.H()};h.jg=function(){h.jg.v.constructor.call(this);this.type="cursor"};h.g.object.V(h.jg,h.sn);h.jg.prototype.next=function(){var a=this.le;if(!a)return null;for(a=a.next();a&&a.next()&&(a.getType()==h.F.types.rg||a.getType()==h.F.types.Sb);)a=a.next();a&&Hb(this,a);return a};h.jg.prototype.Qg=function(){var a=this.le;if(!a)return null;if(a.getType()==h.F.types.tg||a.getType()==h.F.types.Kh)a=a.next();(a=a.Qg())&&Hb(this,a);return a};
h.jg.prototype.ih=function(){var a=this.le;if(!a)return null;for(a=a.ih();a&&a.ih()&&(a.getType()==h.F.types.rg||a.getType()==h.F.types.Sb);)a=a.ih();a&&Hb(this,a);return a};h.jg.prototype.fh=function(){var a=this.le;if(!a)return null;(a=a.fh())&&a.getType()==h.F.types.Sb&&(a=a.ih()||a);a&&Hb(this,a);return a};h.u.register(h.u.R.xk,h.u.Zi,h.jg);h.Lk=function(a){this.Kf=this.Gd=null;this.Yl=Object.create(null);this.m=a};h.Lk.dv="local_marker_1";b=h.Lk.prototype;b.Dl=function(){return this.Gd};b.Gl=function(a){return this.Yl[a]||null};b.Zf=function(a){a?(this.m.xb.appendChild(a),this.Kf=a):this.Kf=null};b.nh=function(a){a?this.m.xb&&(this.Kf?this.m.xb.insertBefore(a,this.Kf):this.m.xb.appendChild(a)):this.Wf=null};
b.H=function(){for(var a=Object.keys(this.Yl),c=0,d;d=a[c];c++){var e=this.Yl[d];if(e)e.H(),delete this.Yl[d];else throw Error("Marker with ID "+d+" does not exist. Can only unregister markers that exist.");}this.Yl=null;this.Gd&&(this.Gd.H(),this.Gd=null)};h.Z={};h.Z.Qd=null;h.Z.jo=null;h.Z.ve="";h.Z.Ae="";h.Z.Wa=function(){h.Z.bb||(h.Z.bb=document.createElement("div"),h.Z.bb.className="blocklyWidgetDiv",(h.cp||document.body).appendChild(h.Z.bb))};h.Z.show=function(a,c,d){h.Z.ab();h.Z.Qd=a;h.Z.jo=d;a=h.Z.bb;a.style.direction=c?"rtl":"ltr";a.style.display="block";c=h.Lg();h.Z.ve=c.ob.ne();h.Z.Ae=c.Qf().ne();h.g.j.Nb(a,h.Z.ve);h.g.j.Nb(a,h.Z.Ae)};
h.Z.ab=function(){if(h.Z.isVisible()){h.Z.Qd=null;var a=h.Z.bb;a.style.display="none";a.style.left="";a.style.top="";h.Z.jo&&h.Z.jo();h.Z.jo=null;a.textContent="";h.Z.ve&&(h.g.j.fd(a,h.Z.ve),h.Z.ve="");h.Z.Ae&&(h.g.j.fd(a,h.Z.Ae),h.Z.Ae="");ba(h.Lg())}};h.Z.isVisible=function(){return!!h.Z.Qd};h.Z.Ll=function(a){h.Z.Qd==a&&h.Z.ab()};h.Z.jm=function(a,c,d){h.Z.bb.style.left=a+"px";h.Z.bb.style.top=c+"px";h.Z.bb.style.height=d+"px"};
h.Z.xE=function(a,c,d,e){var f=h.Z.cC(a,c,d);a=h.Z.bC(a,c,d,e);0>f?h.Z.jm(a,0,d.height+f):h.Z.jm(a,f,d.height)};h.Z.bC=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};h.Z.cC=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};h.yd=function(a,c,d){this.pf=this.Kp;this.Xy=this.cz=null;this.zc=new h.g.Uc(0,0);this.s=this.Ss=this.Ni=this.Ac=this.Pb=this.$c=this.Wf=this.Kf=null;d&&this.cl(d);this.setValue(a);c&&(this.cz=c)};b=h.yd.prototype;b.Kp=null;b.name=void 0;b.Ue=!1;b.Tx=50;b.L=null;b.Sg=!0;b.uh=!0;b.lw=null;h.yd.kv="\u00a0";b=h.yd.prototype;b.yk=!0;b.Cv=!1;b.cl=function(a){var c=a.tooltip;"string"==typeof c&&(c=h.g.gd(a.tooltip));c&&this.ye(c)};
b.ka=function(){!this.s&&this.L&&this.L.B&&this.L.B.va&&(this.s=this.L.B.ob.ka());return this.s};b.$=function(){return this.L};b.Ca=function(){this.$c||(this.$c=h.g.j.J(h.g.D.Sc,{},null),this.isVisible()||(this.$c.style.display="none"),this.L.pa().appendChild(this.$c),this.xo(),Ib(this),this.ye(this.Xy),h.G.sj(aa(this)),this.Ss=h.N.Ba(aa(this),"mousedown",this,this.bh))};b.xo=function(){Kb(this);Lb(this)};
function Kb(a){a.Pb=h.g.j.J(h.g.D.Mb,{rx:a.ka().mn,ry:a.ka().mn,x:0,y:0,height:a.zc.height,width:a.zc.width,"class":"blocklyFieldRect"},a.$c)}function Lb(a){a.Ac=h.g.j.J(h.g.D.Jv,{"class":"blocklyText"},a.$c);a.ka().Rp&&a.Ac.setAttribute("dominant-baseline","central");a.Ni=document.createTextNode("");a.Ac.appendChild(a.Ni)}b.Al=function(a){this.setValue(a.textContent)};b.H=function(){h.C.Ll(this);h.Z.Ll(this);h.G.gu(aa(this));this.Ss&&h.N.yb(this.Ss);h.g.j.removeNode(this.$c);this.Ue=!0};
function Ib(a){var c=a.$c;a.yk&&c&&(a.L.Ld()?(h.g.j.Nb(c,"blocklyEditableText"),h.g.j.fd(c,"blocklyNonEditableText"),c.style.cursor=a.xk):(h.g.j.Nb(c,"blocklyNonEditableText"),h.g.j.fd(c,"blocklyEditableText"),c.style.cursor=""))}function zb(a){return!!a.L&&a.L.Ld()&&!!a.pp&&"function"===typeof a.pp}b.isVisible=function(){return this.uh};b.Jb=function(a){if(this.uh!=a){this.uh=a;var c=this.pa();c&&(c.style.display=a?"block":"none")}};b.pa=function(){return this.$c};b.ec=function(){};
b.Et=function(){this.Ni&&(this.Ni.nodeValue=Mb(this));this.az()};b.az=function(){var a=this.ka(),c=this.Pb?this.ka().zk:0,d=2*c,e=a.nn,f=0;this.Ac&&(f=h.g.j.bs(this.Ac,a.Fh,a.lg,a.kg),d+=f);this.Pb&&(e=Math.max(e,a.Lu));this.zc.height=e;this.zc.width=d;Nb(this,c,f);Ob(this)};function Nb(a,c,d){if(a.Ac){var e=a.ka(),f=a.zc.height/2;a.Ac.setAttribute("x",a.L.I?a.zc.width-d-c:c);a.Ac.setAttribute("y",e.Rp?f:f-e.nn/2+e.Qp)}}
function Ob(a){a.Pb&&(a.Pb.setAttribute("width",a.zc.width),a.Pb.setAttribute("height",a.zc.height),a.Pb.setAttribute("rx",a.ka().mn),a.Pb.setAttribute("ry",a.ka().mn))}b.Pf=function(){if(!this.isVisible())return new h.g.Uc(0,0);this.Sg?(this.Et(),this.Sg=!1):this.uh&&0==this.zc.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Et());return this.zc};
function Mb(a){var c=Pb(a);if(!c)return h.yd.kv;c.length>a.Tx&&(c=c.substring(0,a.Tx-2)+"\u2026");c=c.replace(/\s/g,h.yd.kv);a.L&&a.L.I&&(c+="\u200f");return c}function Pb(a){if(a.ks){var c=a.ks.call(a);if(null!==c)return String(c)}return String(a.getValue())}b.Xl=function(){this.Sg=!0;this.s=null};function Qb(a){a.Sg=!0;a.L&&a.L.va&&(a.L.Ka(),a.L.Zc(),a.ju())}
b.setValue=function(a){if(null!==a){var c=this.lo(a);a=Rb(this,a,c);if(!(a instanceof Error)){if(c=this.cz)if(c=c.call(this,a),a=Rb(this,a,c),a instanceof Error)return;c=this.L;if(!c||!c.Ue){var d=this.getValue();d===a?this.rl(a):(c&&h.h.isEnabled()&&h.h.Ha(new (h.h.get(h.h.wh))(c,"field",this.name||null,d,a)),this.rl(a),this.Sg&&Qb(this))}}}};function Rb(a,c,d){if(null===d)return a.Sg&&Qb(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.pf};
b.lo=function(a){return null===a||void 0===a?null:a};b.rl=function(a){this.pf=a;this.Sg=!0};b.bh=function(a){if(this.L&&this.L.B&&(a=this.L.B.Kg(a))){if(a.ei)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.hk||(a.hk=this)}};b.ye=function(a){a||""===a||(a=this.L);var c=aa(this);c?c.Vd=a:this.Xy=a};function aa(a){return a.lw||a.pa()}
b.Ye=function(){for(var a=null,c=this.L,d=c.U,e=0;e<c.U.length;e++)for(var f=d[e],g=f.fb,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};b.ax=function(){return!1};b.Zf=function(a){a?(this.$c.appendChild(a),this.Kf=a):this.Kf=null};b.nh=function(a){a?(this.$c.appendChild(a),this.Wf=a):this.Wf=null};b.ju=function(){var a=this.L.B;a.Ul&&this.Kf&&a.Dl().draw();a.Ul&&this.Wf&&a.Gl(h.Lk.dv).draw()};h.Jg={};h.Jg.register=function(a,c){h.u.register(h.u.R.Dc,a,c)};h.Jg.unregister=function(a){h.u.unregister(h.u.R.Dc,a)};h.Jg.ba=function(a){var c=h.u.gs(h.u.R.Dc,a.type);return c?c.ba(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};h.g.Ab={};h.g.Ab.qz="aria-";h.g.Ab.lB="role";h.g.Ab.xn={GG:"grid",HG:"gridcell",IG:"group",GA:"listbox",MA:"menu",NA:"menuitem",xH:"menuitemcheckbox",UA:"option",BI:"presentation",rq:"row",aJ:"tree",bJ:"treeitem"};h.g.Ab.State={nz:"activedescendant",XF:"colcount",Oz:"disabled",kG:"expanded",gH:"invalid",EA:"label",nH:"labelledby",qH:"level",uI:"orientation",AI:"posinset",HI:"rowcount",gj:"selected",LI:"setsize",eJ:"valuemax",fJ:"valuemin"};h.g.Ab.oh=function(a,c){a.setAttribute(h.g.Ab.lB,c)};
h.g.Ab.np=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(h.g.Ab.qz+c,d)};h.g.la={kJ:0,sH:3,uz:8,SI:9,DH:12,Xz:13,zn:16,Ch:17,Ui:18,wI:19,TF:20,Yz:27,pB:32,ZA:33,YA:34,Wz:35,sA:36,Hb:37,Fn:38,Gc:39,Np:40,zI:43,CI:44,fH:45,Dh:46,ZERO:48,ONE:49,cJ:50,TI:51,FG:52,DG:53,OI:54,MI:55,iG:56,BH:57,BG:59,zG:61,yG:173,AG:163,DI:63,MF:64,HF:65,NF:66,Gp:67,aG:68,E:69,lG:70,Sc:71,JG:72,LG:73,kH:74,lH:75,mH:76,rH:77,AH:78,TH:79,vI:80,Q:81,EI:82,II:83,RI:84,dJ:85,Dq:86,hJ:87,Gq:88,CB:89,pj:90,cj:91,lJ:92,$F:93,SH:96,LH:97,RH:98,QH:99,HH:100,GH:101,PH:102,OH:103,FH:104,KH:105,JH:106,NH:107,
IH:109,MH:110,EH:111,mG:112,qG:113,rG:114,sG:115,tG:116,uG:117,vG:118,wG:119,xG:120,nG:121,oG:122,pG:123,CH:144,JI:145,CG:166,oH:183,KI:186,bG:189,jG:187,ZF:188,xI:190,QI:191,LF:192,UI:192,NI:222,UH:219,OF:220,WF:221,jJ:224,tH:224,uH:91,vH:93,iJ:229,gJ:252,yI:255};h.eq=function(){this.te=[];this.Gi=this.eb=this.Zo=this.Vo=this.Uo=this.Gf=this.Wo=this.gi=this.jt=null};b=h.eq.prototype;
b.Ka=function(a){var c=document.createElement("div");c.className="blocklyMenu goog-menu blocklyNonSelectable";c.tabIndex=0;this.Gi&&h.g.Ab.oh(c,this.Gi);this.eb=c;for(var d=0,e;e=this.te[d];d++)c.appendChild(e.Wa());this.Wo=h.N.Ba(c,"mouseover",this,this.xD,!0);this.Gf=h.N.Ba(c,"click",this,this.sD,!0);this.Uo=h.N.Ba(c,"mouseenter",this,this.vD,!0);this.Vo=h.N.Ba(c,"mouseleave",this,this.wD,!0);this.Zo=h.N.Ba(c,"keydown",this,this.tD);a.appendChild(c)};
b.focus=function(){var a=this.eb;a&&(a.focus({preventScroll:!0}),h.g.j.Nb(a,"blocklyFocused"))};b.oh=function(a){this.Gi=a};b.H=function(){this.Wo&&(h.N.yb(this.Wo),this.Wo=null);this.Gf&&(h.N.yb(this.Gf),this.Gf=null);this.Uo&&(h.N.yb(this.Uo),this.Uo=null);this.Vo&&(h.N.yb(this.Vo),this.Vo=null);this.Zo&&(h.N.yb(this.Zo),this.Zo=null);for(var a=0,c;c=this.te[a];a++)c.H();this.eb=null};
function Sb(a,c){for(var d=a.eb;c&&c!=d;){if(h.g.j.os(c,"blocklyMenuItem"))for(var e=0,f;f=a.te[e];e++)if(f.eb==c)return f;c=c.parentElement}return null}b.xe=function(a){var c=this.gi;c&&(c.xe(!1),this.gi=null);a&&(a.xe(!0),this.gi=a,c=this.eb,h.g.style.aF(a.eb,c),h.g.Ab.np(c,h.g.Ab.State.nz,a.hc()))};function Tb(a,c,d){c+=d;for(var e;e=a.te[c];){if(e.isEnabled()){a.xe(e);break}c+=d}}b.xD=function(a){(a=Sb(this,a.target))&&(a.isEnabled()?this.gi!=a&&this.xe(a):this.xe(null))};
b.sD=function(a){var c=this.jt;this.jt=null;c&&"number"==typeof a.clientX&&1>h.g.T.Er(c,new h.g.T(a.clientX,a.clientY))||(a=Sb(this,a.target))&&a.isEnabled()&&a.Wk&&a.Wk(a)};b.vD=function(){this.focus()};b.wD=function(){if(this.eb){var a=this.eb;a&&(a.blur(),h.g.j.fd(a,"blocklyFocused"));this.xe(null)}};
b.tD=function(a){if(this.te.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var c=this.gi;switch(a.keyCode){case h.g.la.Xz:case h.g.la.pB:c&&c.isEnabled()&&c.Wk&&c.Wk(c);break;case h.g.la.Fn:c=this.te.indexOf(this.gi);Tb(this,0>c?this.te.length:c,-1);break;case h.g.la.Np:Tb(this,this.te.indexOf(this.gi),1);break;case h.g.la.ZA:case h.g.la.sA:Tb(this,-1,1);break;case h.g.la.YA:case h.g.la.Wz:Tb(this,this.te.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
b.Pf=function(){var a=this.eb,c=h.g.style.Pf(a);c.height=a.scrollHeight;return c};h.fq=function(a,c){this.Jf=a;this.pf=c;this.oo=!0;this.eb=null;this.Kt=!1;this.Gi=null;this.zx=this.dr=this.cr=!1;this.Wk=null};b=h.fq.prototype;
b.Wa=function(){var a=document.createElement("div");a.id=h.g.Gk.ex();this.eb=a;a.className="blocklyMenuItem goog-menuitem "+(this.oo?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.dr?"blocklyMenuItemSelected goog-option-selected ":"")+(this.zx?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Kt?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="blocklyMenuItemContent goog-menuitem-content";if(this.cr){var d=document.createElement("div");
d.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";c.appendChild(d)}d=this.Jf;"string"==typeof this.Jf&&(d=document.createTextNode(this.Jf));c.appendChild(d);a.appendChild(c);this.Gi&&h.g.Ab.oh(a,this.Gi);h.g.Ab.np(a,h.g.Ab.State.gj,this.cr&&this.dr||!1);h.g.Ab.np(a,h.g.Ab.State.Oz,!this.oo);return a};b.H=function(){this.eb=null};b.hc=function(){return this.eb.id};b.getValue=function(){return this.pf};b.oh=function(a){this.Gi=a};
b.xe=function(a){this.zx=a;var c=this.eb;c&&this.isEnabled()&&(a?(h.g.j.Nb(c,"blocklyMenuItemHighlight"),h.g.j.Nb(c,"goog-menuitem-highlight")):(h.g.j.fd(c,"blocklyMenuItemHighlight"),h.g.j.fd(c,"goog-menuitem-highlight")))};b.isEnabled=function(){return this.oo};b.jf=function(a){this.oo=a};function Ub(a,c,d){a.Wk=c.bind(d)};h.Za=function(a,c,d){"function"!=typeof a&&h.Za.bz(a);this.$l=a;this.Yt=this.vt=this.qo=null;a=this.$l;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=h.g.gd(g):(null!=g.alt&&(a[f][0].alt=h.g.gd(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=h.g.Ra.Tt(e);g=h.g.Ra.nw(e,f);var k=h.g.Ra.ow(e,f);!g&&!k||f<=g+k||(g&&(this.vt=e[0].substring(0,g-1)),k&&(this.Yt=e[0].substr(1-k)),this.$l=h.Za.QB(a,g,k))}}this.ak=this.getOptions(!1)[0];
h.Za.v.constructor.call(this,this.ak[1],c,d);this.ik=this.Cd=this.Mc=this.Oc=this.qm=null};h.g.object.V(h.Za,h.yd);h.Za.ba=function(a){return new h.Za(a.options,void 0,a)};h.Za.prototype.Al=function(a){Vb(this)&&this.getOptions(!1);this.setValue(a.textContent)};h.Za.prototype.Cv=!0;h.Za.UF=25;h.Za.wH=.45;h.Za.wA=5;h.Za.xA=2*h.Za.wA;h.Za.Um=h.g.userAgent.Tm?"\u25bc":"\u25be";b=h.Za.prototype;b.xk="default";
b.xo=function(){!this.ka().Nu||this.ka().Nu&&!this.L.Ma?Kb(this):this.lw=this.L.pa();Lb(this);this.Mc=h.g.j.J(h.g.D.Ek,{},this.$c);this.ka().iA?(this.ik=h.g.j.J(h.g.D.Ek,{height:this.ka().Ak+"px",width:this.ka().Ak+"px"},this.$c),this.ik.setAttributeNS(h.g.j.ld,"xlink:href",this.ka().jA)):(this.Cd=h.g.j.J(h.g.D.Lv,{},this.Ac),this.Cd.appendChild(document.createTextNode(this.L.I?h.Za.Um+" ":" "+h.Za.Um)),this.L.I?this.Ac.insertBefore(this.Cd,this.Ni):this.Ac.appendChild(this.Cd));this.Pb&&h.g.j.Nb(this.Pb,
"blocklyDropdownRect")};
b.pp=function(a){var c=new h.eq;c.oh(h.g.Ab.xn.GA);this.Oc=c;var d=this.getOptions(!1);this.qm=null;for(var e=0;e<d.length;e++){var f=d[e][0],g=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new h.fq(f,g);f.oh(h.g.Ab.xn.UA);f.Kt=this.L.I;f.cr=!0;c.te.push(f);f.dr=g==this.pf;g==this.pf&&(this.qm=f);Ub(f,this.uD,this)}this.Oc.jt=a&&"number"===typeof a.clientX?new h.g.T(a.clientX,a.clientY):null;this.Oc.Ka(h.C.fD());h.g.j.Nb(this.Oc.eb,"blocklyDropdownMenu");
this.ka().hA&&(a=this.L.Ma?this.L.getParent().Zr():this.L.Zr(),c=this.L.Ma?this.L.getParent().style.xj:this.L.style.xj,h.C.we(a,c));h.C.hF(this,this.LC.bind(this));this.Oc.focus();this.qm&&this.Oc.xe(this.qm);this.ec()};b.LC=function(){this.Oc&&this.Oc.H();this.qm=this.Oc=null;this.ec()};b.uD=function(a){h.C.Ll(this,!0);this.setValue(a.getValue())};h.Za.QB=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};
function Vb(a){return"function"==typeof a.$l}b=h.Za.prototype;b.getOptions=function(a){return Vb(this)?(this.qo&&a||(this.qo=this.$l.call(this),h.Za.bz(this.qo)),this.qo):this.$l};b.lo=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.L&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.L.type+", Field name: "+this.name+", Value: "+a),null)};
b.rl=function(a){h.Za.v.rl.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.pf&&(this.ak=d)};b.ec=function(){this.Pb&&(this.Pb.setAttribute("stroke",this.L.style.xj),this.Oc?this.Pb.setAttribute("fill",this.L.style.xj):this.Pb.setAttribute("fill","transparent"));this.L&&this.Cd&&(this.Cd.style.fill=this.L.Ma?this.L.style.Un:this.L.style.Th)};
b.Et=function(){this.Ni.nodeValue="";this.Mc.style.display="none";var a=this.ak&&this.ak[0];if(a&&"object"==typeof a){this.Mc.style.display="";this.Mc.setAttributeNS(h.g.j.ld,"xlink:href",a.src);this.Mc.setAttribute("height",a.height);this.Mc.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.Pb,e=Math.max(d?this.ka().Mu:0,c+h.Za.xA);d=d?this.ka().zk:0;var f=this.ik?Wb(this,a+d,e/2-this.ka().Ak/2):h.g.j.bs(this.Cd,this.ka().Fh,this.ka().lg,this.ka().kg);this.zc.width=
a+f+2*d;this.zc.height=e;var g=0;this.L.I?this.Mc.setAttribute("x",d+f):(g=a+f,this.Ac.setAttribute("text-anchor","end"),this.Mc.setAttribute("x",d));this.Mc.setAttribute("y",e/2-c/2);Nb(this,g+d,a+f)}else this.Ni.nodeValue=Mb(this),h.g.j.Nb(this.Ac,"blocklyDropdownText"),this.Ac.setAttribute("text-anchor","start"),e=!!this.Pb,c=Math.max(e?this.ka().Mu:0,this.ka().nn),a=h.g.j.bs(this.Ac,this.ka().Fh,this.ka().lg,this.ka().kg),e=e?this.ka().zk:0,d=0,this.ik&&(d=Wb(this,a+e,c/2-this.ka().Ak/2)),this.zc.width=
a+d+2*e,this.zc.height=c,Nb(this,e,a);Ob(this)};function Wb(a,c,d){if(!a.ik)return 0;var e=a.Pb?a.ka().zk:0,f=a.ka().kA,g=a.ka().Ak;a.ik.setAttribute("transform","translate("+(a.L.I?e:c+f)+","+d+")");return g+f}b.ks=function(){if(!this.ak)return null;var a=this.ak[0];return"object"==typeof a?a.alt:a};
h.Za.bz=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};h.Jg.register("field_dropdown",h.Za);h.nc=Object.create(null);h.Aa={};h.Aa.nk=Object.create(null);h.Aa.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(h.Aa.nk[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');h.Aa.nk[a]=c};h.Aa.jK=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');h.Aa.register(a,function(){this.$g(c)})};
h.Aa.kK=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';h.Aa.hw(f,c.Lf,"domToMutation");h.Aa.hw(f,c.Od,"mutationToDom");var g=h.Aa.jw(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');h.Aa.register(a,function(){if(g){if(!h.PA)throw Error(f+"Missing require for Blockly.Mutator");this.Ly(new h.PA(e||[]))}this.$g(c);d&&d.apply(this)})};h.Aa.unregister=function(a){h.Aa.nk[a]?delete h.Aa.nk[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
h.Aa.apply=function(a,c,d){var e=h.Aa.nk[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)h.Aa.gC(a,c);else var f=h.Aa.fs(c);e.apply(c);if(d)h.Aa.eC('Error after applying mutator "'+a+'": ',c);else if(!h.Aa.eE(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
h.Aa.hw=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};h.Aa.gC=function(a,c){if(h.Aa.fs(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
h.Aa.jw=function(a,c){var d=void 0!==a.jr,e=void 0!==a.pr;if(d&&e){if("function"!=typeof a.jr)throw Error(c+"compose must be a function.");if("function"!=typeof a.pr)throw Error(c+"decompose must be a function.");return!0}if(!d&&!e)return!1;throw Error(c+'Must have both or neither of "compose" and "decompose"');};
h.Aa.eC=function(a,c){if("function"!=typeof c.Lf)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.Od)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');h.Aa.jw(c,a)};h.Aa.fs=function(a){var c=[];void 0!==a.Lf&&c.push(a.Lf);void 0!==a.Od&&c.push(a.Od);void 0!==a.jr&&c.push(a.jr);void 0!==a.pr&&c.push(a.pr);return c};h.Aa.eE=function(a,c){c=h.Aa.fs(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
h.Aa.qJ=function(a,c){var d=[];"object"==typeof document&&h.g.Hy(function(){for(var e in c)h.g.iw(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(h.Aa.fC(this,a,c),d.push(this.type));this.ye(function(){var e=String(cb(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=h.g.gd(f);return f}.bind(this))}};
h.Aa.fC=function(a,c,d){var e=la(a,c);if(!Vb(e)){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+c+" of block type "+a.type)}}};h.Aa.rJ=function(a,c){"object"==typeof document&&h.g.Hy(function(){h.g.iw(a)});return function(){this.ye(function(){var d=la(this,c);return h.g.gd(a).replace("%1",d?Pb(d):"")}.bind(this))}};
h.Aa.PC=function(){this.vF=this.Vd;this.ye(function(){var a=this.getParent();return a&&ya(a)&&a.Vd||this.vF}.bind(this))};h.Aa.register("parent_tooltip_when_inline",h.Aa.PC);h.hd=function(a,c,d){this.Qn=null;h.hd.v.constructor.call(this,a,null,d);d||(this.Qn=c||null)};h.g.object.V(h.hd,h.yd);h.hd.prototype.Kp="";h.hd.ba=function(a){var c=h.g.gd(a.text);return new h.hd(c,void 0,a)};h.hd.prototype.yk=!1;h.hd.prototype.cl=function(a){h.hd.v.cl.call(this,a);this.Qn=a["class"]};h.hd.prototype.xo=function(){Lb(this);this.Qn&&h.g.j.Nb(this.Ac,this.Qn)};h.hd.prototype.lo=function(a){return null===a||void 0===a?null:String(a)};h.Jg.register("field_label",h.hd);h.av=function(a,c,d,e){if(a!=h.Ia.Ge&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.L=d;this.connection=e;this.fb=[]};b=h.av.prototype;b.align=h.lb.Yd.Hb;b.uh=!0;b.$=function(){return this.L};function E(a,c,d){Xb(a,a.fb.length,c,d);return a}
function Xb(a,c,d,e){if(0>c||c>a.fb.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=h.Jg.ba({type:"field_label",text:d}));if(d.L)throw Error("Field already bound to a block.");d.L=a.L;a.L.va&&(d.Ca(),d.ec());d.name=e;d.Jb(a.isVisible());d.vt&&(c=Xb(a,c,d.vt));a.fb.splice(c,0,d);++c;d.Yt&&(c=Xb(a,c,d.Yt));a.L.va&&(a.L=a.L,a.L.Ka(),a.L.Zc());return c}b.isVisible=function(){return this.uh};
b.Jb=function(a){if(this.uh!=a){this.uh=a;for(var c=0,d;d=this.fb[c];c++)d.Jb(a);if(this.connection){this.connection=this.connection;if(a)Yb(this.connection);else if(c=this.connection,Zb(c,!1),c.ya)for(c=v(c.sa(),!1),d=0;d<c.length;d++){for(var e=c[d],f=e.oe(!0),g=0;g<f.length;g++)Zb(f[g],!1);e=Aa(e);for(g=0;g<e.length;g++)e[g].Jb(!1)}if(c=this.connection.sa())c.pa().style.display=a?"block":"none"}}};b.Xl=function(){for(var a=0,c;c=this.fb[a];a++)c.Xl()};
b.bk=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.bk(a)};b.tm=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.tm(a)};b.Kj=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.Kj()};b.Ca=function(){if(this.L.B.va)for(var a=0;a<this.fb.length;a++)this.fb[a].Ca()};
b.H=function(){for(var a=0,c;c=this.fb[a];a++)c.H();this.connection&&this.connection.H();this.L=null};h.Vi=function(a,c,d){if(h.Generator&&"undefined"!=typeof h.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.Lc(d)?d:h.g.Xe();a.Pq[this.id]=this;this.aa=this.ea=this.S=null;this.U=[];this.Rf=void 0;this.disabled=!1;this.Vd="";this.contextMenu=!0;this.gf=null;this.Ff=[];this.Ow=this.Wx=this.Fw=!0;this.Sh=this.Ma=!1;this.Uh=null;this.je={text:null,uy:!1,size:new h.g.Uc(160,80)};this.mz=new h.g.T(0,0);this.B=a;this.cd=a.Sf;this.I=
a.I;this.Uj=!1;this.Ze=void 0;this.va=null;if(c){this.type=c;d=h.nc[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);h.g.object.$g(this,d)}a.Kn(this);a.dg[this.type]||(a.dg[this.type]=[]);a.dg[this.type].push(this);(a=h.h.Wb())||h.h.ua(!0);c=h.h.Oa;try{"function"==typeof this.Ca&&(h.h.Oa=!1,this.Ca(),h.h.Oa=c),h.h.isEnabled()&&h.h.Ha(new (h.h.get(h.h.xh))(this))}finally{a||h.h.ua(!1),h.h.Oa=c}this.JD=this.Rf;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=
typeof a)throw Error("onchange must be a function.");this.fm&&jb(this.B,this.fm);if(this.onchange=a)this.fm=a.bind(this),D(this.B,this.fm)}};h.Vi.an=h.lb.an;h.Vi.$m=h.lb.$m;b=h.Vi.prototype;b.data=null;b.Ue=!1;b.Ed="#000000";b.Cm="";
b.H=function(a){if(this.B){this.fm&&jb(this.B,this.fm);A(this,a);h.h.isEnabled()&&h.h.Ha(new (h.h.get(h.h.Cp))(this));h.h.disable();try{if(this.B){this.B.jp(this);var c=this.B;c.dg[this.type].splice(c.dg[this.type].indexOf(this),1);c.dg[this.type].length||delete c.dg[this.type];delete this.B.Pq[this.id];this.B=null}h.selected==this&&(h.selected=null);for(var d=this.Ff.length-1;0<=d;d--)this.Ff[d].H(!1);d=0;for(var e;e=this.U[d];d++)e.H();this.U.length=0;var f=this.oe(!0);d=0;for(var g;g=f[d];d++)g.H()}finally{h.h.enable(),
this.Ue=!0}}};function A(a,c){if(a.S){var d=null;a.S.isConnected()&&(d=a.S.ya,a.S.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.U.length;e++){var f=a.U[e].connection;if(f&&f.type==h.X.Zb&&f.ya){if(c){c=null;break a}c=f}}}c&&c.isConnected()&&!c.sa().Ma&&(c=c.ya,c.disconnect(),Ya(a.B.If,c,d,!1)?d.connect(c):c.dt(d))}}else a.aa&&(d=null,a.aa.isConnected()&&(d=a.aa.ya,a.aa.disconnect()),e=w(a),c&&e&&!e.Ma&&(c=a.ea.ya,c.disconnect(),d&&Ya(a.B.If,d,c,!1)&&d.connect(c)))}
b.oe=function(){var a=[];this.S&&a.push(this.S);this.aa&&a.push(this.aa);this.ea&&a.push(this.ea);for(var c=0,d;d=this.U[c];c++)d.connection&&a.push(d.connection);return a};b.Ko=function(a){for(var c=this.ea;c;){var d=c.sa();if(!d||a&&d.Ma)return c;c=d.ea}return null};b.Zc=function(){};b.getParent=function(){return this.gf};function na(a,c){for(var d=0,e;e=a.U[d];d++)if(e.connection&&e.connection.sa()==c)return e;return null}
function $b(a){do{var c=a;a=a.getParent();if(!a)return null}while(w(a)==c);return a}function w(a){return a.ea&&a.ea.sa()}b.re=function(){var a=this;do{var c=a;a=c.gf}while(a);return c};function z(a,c){if(!c)return a.Ff;c=[];for(var d=0,e;e=a.U[d];d++)e.connection&&(e=e.connection.sa())&&c.push(e);(a=w(a))&&c.push(a);return c}
b.mp=function(a){if(a!=this.gf){if(this.gf){h.g.Xk(this.gf.Ff,this);if(this.aa&&this.aa.isConnected())throw Error("Still connected to previous block.");if(this.S&&this.S.isConnected())throw Error("Still connected to parent block.");this.gf=null}else this.B.jp(this);(this.gf=a)?a.Ff.push(this):this.B.Kn(this)}};function v(a,c){var d=[a];a=z(a,c);for(var e,f=0;e=a[f];f++)d.push.apply(d,v(e,c));return d}b.cf=function(){return this.Fw&&!this.Ma&&!(this.B&&this.B.options.readOnly)};
b.wc=function(){return this.Wx&&!this.Ma&&!(this.B&&this.B.options.readOnly)};b.Ot=function(a){this.Wx=a};b.Rt=function(a){this.Ma=a};b.sd=function(){return this.Uj};b.Ky=function(a){this.Uj=a};b.Ld=function(){return this.Ow&&!(this.B&&this.B.options.readOnly)};b.Nt=function(a){this.Ow=a;a=0;for(var c;c=this.U[a];a++)for(var d=0,e;e=c.fb[d];d++)Ib(e)};
b.ds=function(a,c){var d=this.oe(!0);a=a.oe(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.ye=function(a){this.Vd=a};b.Zr=function(){return this.Ed};b.we=function(a){this.Ed=h.g.ep(a).Kl};b.Li=function(a){this.Cm=a};
function la(a,c){if("string"!==typeof c)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===c?"nothing":c+" of type "+typeof c)+" instead");for(var d=0,e;e=a.U[d];d++)for(var f=0,g;g=e.fb[f];f++)if(g.name===c)return g;return null}function ka(a){for(var c=0,d;d=a.U[c];c++)for(var e=0;d.fb[e];e++);return[]}function cb(a,c){return(a=la(a,c))?a.getValue():null}
b.Ki=function(a,c){if(a){void 0===c&&(c=null);if(!this.aa){if(this.S)throw Error("Remove output connection prior to adding previous connection.");this.aa=this.Wl(h.X.kd)}this.aa.bk(c)}else if(this.aa){if(this.aa.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.aa.H();this.aa=null}};
b.ek=function(a,c){if(a)void 0===c&&(c=null),this.ea||(this.ea=this.Wl(h.X.$b)),this.ea.bk(c);else if(this.ea){if(this.ea.isConnected())throw Error("Must disconnect next statement before removing connection.");this.ea.H();this.ea=null}};
b.Pt=function(a,c){if(a){void 0===c&&(c=null);if(!this.S){if(this.aa)throw Error("Remove previous connection prior to adding output connection.");this.S=this.Wl(h.X.Tc)}this.S.bk(c)}else if(this.S){if(this.S.isConnected())throw Error("Must disconnect output value before removing connection.");this.S.H();this.S=null}};b.Ji=function(a){this.Rf!=a&&(h.h.Ha(new (h.h.get(h.h.wh))(this,"inline",null,this.Rf,a)),this.Rf=a)};
function ya(a){if(void 0!=a.Rf)return a.Rf;for(var c=1;c<a.U.length;c++)if(a.U[c-1].type==h.Ia.Ge&&a.U[c].type==h.Ia.Ge)return!1;for(c=1;c<a.U.length;c++)if(a.U[c-1].type==h.Ia.Ne&&a.U[c].type==h.Ia.Ge)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.jf=function(a){this.isEnabled()!=a&&(h.h.Ha(new (h.h.get(h.h.wh))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function ac(a){for(a=$b(a);a;){if(a.disabled)return!0;a=$b(a)}return!1}b.isCollapsed=function(){return this.Sh};
b.Hi=function(a){this.Sh!=a&&(h.h.Ha(new (h.h.get(h.h.wh))(this,"collapsed",null,this.Sh,a)),this.Sh=a)};
b.toString=function(a,c){function d(n){var q=n.vj;!q&&n.ya&&(q=n.ya.vj);return!!q&&(-1!=q.indexOf("Boolean")||-1!=q.indexOf("Number"))}function e(){k&&k.getType()==l.getType()&&k.Da==l.Da&&(k=null)}var f=[];c=c||"?";var g=h.F.qg;h.F.qg=!0;for(var k=h.F.Hg(this),l=k;k;){switch(k.getType()){case h.F.types.zd:var m=k.Da;k.Qg()?d(m)&&f.push("("):f.push(c);break;case h.F.types.Dc:m=k.Da,m.name!=h.lb.$m&&f.push(Pb(m))}m=k;k=m.Qg()||m.next();if(!k){k=m.fh();for(e();k&&!k.next();)k=k.fh(),e(),k&&k.getType()==
h.F.types.zd&&d(k.Da)&&f.push(")");k&&(k=k.next())}}h.F.qg=g;for(c=2;c<f.length;c++)"("==f[c-2]&&")"==f[c]&&(f[c-2]=f[c-1],f.splice(c-1,2));f=f.reduce(function(n,q){return n+("("==n.substr(-1)||")"==q?"":" ")+q},"");f=f.trim()||"???";a&&f.length>a&&(f=f.substring(0,a-3)+"...");return f};function bc(a,c){return a.Cf(h.Ia.Ge,c||"")}
function cc(a,c){var d=c.type?'Block "'+c.type+'": ':"";if(c.output&&c.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");c.style&&c.style.Ze&&(a.Ze=c.style.Ze,c.style=null);if(c.style&&c.colour)throw Error(d+"Must not have both a colour and a style.");if(c.style){var e=c.style;try{a.Li(e)}catch(Jb){console.warn(d+"Style does not exist: ",e)}}else if("colour"in c)if(void 0===c.colour)console.warn(d+"Undefined colour value.");else{e=c.colour;try{a.we(e)}catch(Jb){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==c["message"+e];){var f=a,g=c["args"+e]||[],k=c["lastDummyAlign"+e],l=d,m=h.g.uF(c["message"+e]);var n=f;for(var q=m,p=g.length,u=[],H=0,L=0;L<q.length;L++){var I=q[L];if("number"==typeof I){if(1>I||I>p)throw Error('Block "'+n.type+'": Message index %'+I+" out of range.");if(u[I])throw Error('Block "'+n.type+'": Message index %'+I+" duplicated.");u[I]=!0;H++}}if(H!=p)throw Error('Block "'+n.type+'": Message does not reference all '+p+" arg(s).");n=g;g=
[];for(q=0;q<m.length;q++){p=m[q];"number"==typeof p&&(p=n[p-1]);if("string"==typeof p&&(p=dc(p),!p))continue;g.push(p)}(m=g.length)&&!ec(g[m-1].type)&&(m={type:"input_dummy"},k&&(m.align=k),g.push(m));k=g;g=[];for(m=0;n=k[m];m++)if(ec(n.type)){q=f;p=n;u=l;H={LEFT:h.lb.Yd.Hb,RIGHT:h.lb.Yd.Gc,CENTRE:h.lb.Yd.Zm,CENTER:h.lb.Yd.Zm};n=null;switch(p.type){case "input_value":n=q.Cf(h.Ia.Ne,p.name);break;case "input_statement":n=q.Cf(h.Ia.pc,p.name);break;case "input_dummy":n=bc(q,p.name)}n?(p.check&&n.bk(p.check),
p.align&&(q=H[p.align.toUpperCase()],void 0===q?console.warn(u+"Illegal align value: ",p.align):(p=n,p.align=q,p.L.va&&(p.L=p.L,p.L.Ka())))):n=null;if(n){for(q=0;p=g[q];q++)E(n,p[0],p[1]);g.length=0}}else(q=fc(f,n))&&g.push([q,n.name]);e++}void 0!==c.inputsInline&&a.Ji(c.inputsInline);void 0!==c.output&&a.Pt(!0,c.output);void 0!==c.previousStatement&&a.Ki(!0,c.previousStatement);void 0!==c.nextStatement&&a.ek(!0,c.nextStatement);void 0!==c.tooltip&&(e=c.tooltip,e=h.g.gd(e),a.ye(e));void 0!==c.enableContextMenu&&
(e=c.enableContextMenu,a.contextMenu=!!e);void 0!==c.helpUrl&&(e=c.helpUrl,e=h.g.gd(e),a.Oj=e);"string"==typeof c.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+c.type+"' block."),c.extensions=[c.extensions]);void 0!==c.mutator&&h.Aa.apply(c.mutator,a,!0);c=c.extensions;if(Array.isArray(c))for(d=0;d<c.length;++d)h.Aa.apply(c[d],a,!1)}
b.$g=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}h.g.object.$g(this,a)};function fc(a,c){var d=h.Jg.ba(c);return!d&&c.alt?"string"==typeof c.alt?(c=dc(c.alt))?fc(a,c):null:fc(a,c.alt):d}function ec(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}
function dc(a){return(a=a.trim())?{type:"field_label",text:a}:null}b.Cf=function(a,c){var d=null;if(a==h.Ia.Ne||a==h.Ia.pc)d=this.Wl(a);a=new h.av(a,c,this,d);this.U.push(a);return a};b.Ct=function(a,c){for(var d=0,e;e=this.U[d];d++)if(e.name==a)return e.H(),this.U.splice(d,1),!0;if(c)return!1;throw Error("Input not found: "+a);};function ja(a,c){for(var d=0,e;e=a.U[d];d++)if(e.name==c)return e;return null}function gc(a,c){return(a=ja(a,c))&&a.connection&&a.connection.sa()}
b.ck=function(a){this.je.text!=a&&(h.h.Ha(new (h.h.get(h.h.wh))(this,"comment",null,this.je.text,a)),this.Uh=this.je.text=a)};b.Ly=function(){};b.$a=function(){return this.mz};b.moveBy=function(a,c){if(this.gf)throw Error("Block has parent.");var d=new (h.h.get(h.h.yh))(this);this.mz.translate(a,c);d.Ei();h.h.Ha(d)};b.Wl=function(a){return new h.wa(this,a)};h.i={};h.i.hH=function(){};h.Sa={};h.Sa.ao=null;h.Sa.Oc=null;h.Sa.show=function(a,c,d){h.Z.show(h.Sa,d,h.Sa.H);if(c.length){var e=h.Sa.wE(c,d);h.Sa.Oc=e;h.Sa.yE(e,a,d);setTimeout(function(){e.focus()},1);h.Sa.ao=null}else h.Sa.ab()};h.Sa.wE=function(a,c){var d=new h.eq;d.oh(h.g.Ab.xn.MA);for(var e=0,f;f=a[e];e++){var g=new h.fq(f.text);g.Kt=c;g.oh(h.g.Ab.xn.NA);d.te.push(g);g.jf(f.enabled);f.enabled&&Ub(g,function(){h.Sa.ab();this.ib(this.scope)},f)}return d};
h.Sa.yE=function(a,c,d){var e=h.g.qD();c=new h.g.Rect(c.clientY+e.top,c.clientY+e.top,c.clientX+e.left,c.clientX+e.left);h.Sa.xC(a);var f=a.Pf();d&&(c.left+=f.width,c.right+=f.width,e.left+=f.width,e.right+=f.width);h.Z.xE(e,c,f,d);a.focus()};h.Sa.xC=function(a){a.Ka(h.Z.bb);var c=a.eb;h.g.j.Nb(c,"blocklyContextMenu");h.N.Ba(c,"contextmenu",null,h.g.iE);a.focus()};h.Sa.ab=function(){h.Z.Ll(h.Sa);h.Sa.ao=null};h.Sa.H=function(){h.Sa.Oc&&(h.Sa.Oc.H(),h.Sa.Oc=null)};
h.Sa.tJ=function(a,c){return function(){h.h.disable();try{var d=h.K.Fj(c,a.B),e=a.$a();e.x=a.I?e.x-h.oc:e.x+h.oc;e.y+=2*h.oc;d.moveBy(e.x,e.y)}finally{h.h.enable()}h.h.isEnabled()&&!d.Ma&&h.h.Ha(new (h.h.get(h.h.xh))(d));d.select()}};h.Sa.wJ=function(a){return{text:h.M.REMOVE_COMMENT,enabled:!0,ib:function(){h.h.ua(!0);a.H(!0,!0);h.h.ua(!1)}}};h.Sa.xJ=function(a){return{text:h.M.DUPLICATE_COMMENT,enabled:!0,ib:function(){h.duplicate(a)}}};
h.Sa.JK=function(a,c){if(!h.oj)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!h.g.userAgent.ae};d.text=h.M.ADD_COMMENT;d.ib=function(){var e=new h.oj(a,h.M.WORKSPACE_COMMENT_DEFAULT_TEXT,h.oj.Nz,h.oj.Nz),f=ca(a).getBoundingClientRect();f=new h.g.T(c.clientX-f.left,c.clientY-f.top);var g=h.g.Fl(a.xb);f=h.g.T.ql(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.va&&(e.Pj(),e.Ka(),e.select())};return d};h.Fa=function(){h.Fa.u=this;this.Sd=Object.create(null)};h.Fa.Hc={Sb:"block",Wc:"workspace"};h.Fa.u=null;h.Fa.prototype.register=function(a){if(this.Sd[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.Sd[a.id]=a};h.Fa.prototype.unregister=function(a){if(!this.Sd[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.Sd[a]};h.Fa.prototype.getItem=function(a){return this.Sd[a]||null};
function hc(a,c){var d=[],e=h.Fa.u.Sd;Object.keys(e).forEach(function(f){f=e[f];if(a==f.ud){var g=f.Db(c);"hidden"!=g&&(f={text:"function"==typeof f.Kc?f.Kc(c):f.Kc,enabled:"enabled"==g,ib:f.ib,scope:c,weight:f.weight},d.push(f))}});d.sort(function(f,g){return f.weight-g.weight});return d}new h.Fa;h.h.ug=function(a,c,d){h.h.ug.v.constructor.call(this,d);this.by=a;this.$x=c};h.g.object.V(h.h.ug,h.h.fe);h.h.ug.prototype.type=h.h.gj;h.h.ug.prototype.ra=function(){var a=h.h.ug.v.ra.call(this);a.oldElementId=this.by;a.newElementId=this.$x;return a};h.h.ug.prototype.ba=function(a){h.h.ug.v.ba.call(this,a);this.by=a.oldElementId;this.$x=a.newElementId};h.u.register(h.u.R.Gb,h.h.gj,h.h.ug);h.SG=function(){};h.XG=function(){};h.Ib=function(a,c){h.Ib.v.constructor.call(this,a,c);this.Te=a.B.Yn[c];this.Cw=a.B.Yn[h.ej[c]];this.Xf=new h.g.T(0,0);this.cg=h.Ib.Me.Rv;this.ya=null};h.g.object.V(h.Ib,h.wa);h.Ib.Me={Rv:-1,Nv:0,mj:1};b=h.Ib.prototype;b.H=function(){h.Ib.v.H.call(this);this.cg==h.Ib.Me.mj&&ic(this.Te,this,this.y)};b.$=function(){return h.Ib.v.$.call(this)};b.sa=function(){return h.Ib.v.sa.call(this)};function $a(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function jc(a,c){if(!a.L.B.bd()){var d=a.L.re();if(!d.cd){var e=!1;if(!d.wc()){d=c.$().re();if(!d.wc())return;c=a;e=!0}var f=h.selected==d;f||d.Jn();var g=c.x+h.oc+Math.floor(Math.random()*h.Fp)-a.x,k=c.y+h.oc+Math.floor(Math.random()*h.Fp)-a.y;e&&(k=-k);d.I&&(g=c.x-h.oc-Math.floor(Math.random()*h.Fp)-a.x);d.moveBy(g,k);f||d.om()}}}
b.moveTo=function(a,c){if(this.cg==h.Ib.Me.Rv){var d=this.Te;d.Cb.splice(kc(d,c),0,this);this.cg=h.Ib.Me.mj}else this.cg==h.Ib.Me.mj&&(ic(this.Te,this,this.y),d=this.Te,d.Cb.splice(kc(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function lc(a,c){a.moveTo(c.x+a.Xf.x,c.y+a.Xf.y)}function F(a,c,d){a.Xf.x=c;a.Xf.y=d}
function mc(a){var c=a.ya.x-a.x,d=a.ya.y-a.y;if(0!=c||0!=d){a=a.sa();var e=a.pa();if(!e)throw Error("block is not rendered.");e=h.g.qe(e);a.pa().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");Ea(a,-c,-d)}}
b.closest=function(a,c){var d=this.Cw;if(d.Cb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=kc(d,this.y);c=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.Cb[m].y-this.y)<=a;)l=d.Cb[m],Ya(d.tw,this,l,!0,k)&&(c=l,k=$a(l,this)),m--;for(;g<d.Cb.length&&Math.abs(d.Cb[g].y-this.y)<=a;)l=d.Cb[g],Ya(d.tw,this,l,!0,k)&&(c=l,k=$a(l,this)),g++;this.x=f;this.y=e;a={connection:c,ip:k}}else a={connection:null,ip:a};return a};
function Zb(a,c){c&&a.cg==h.Ib.Me.mj||!c&&a.cg==h.Ib.Me.Nv||a.L.cd||(c?(c=a.Te,c.Cb.splice(kc(c,a.y),0,a),a.cg=h.Ib.Me.mj):(a.cg==h.Ib.Me.mj&&ic(a.Te,a,a.y),a.cg=h.Ib.Me.Nv))}function Yb(a){Zb(a,!0);var c=[];if(a.type!=h.X.Zb&&a.type!=h.X.$b)return c;if(a=a.sa()){if(a.isCollapsed()){var d=[];a.S&&d.push(a.S);a.ea&&d.push(a.ea);a.aa&&d.push(a.aa)}else d=a.oe(!0);for(var e=0;e<d.length;e++)c.push.apply(c,Yb(d[e]));c.length||(c[0]=a)}return c}
b.dt=function(a){var c=this.$();if(h.h.Oa){var d=h.h.Wb();setTimeout(function(){c.Ue||c.getParent()||(h.h.ua(d),jc(this,a),h.h.ua(!1))}.bind(this),h.Ep)}};b.Br=function(a,c){h.Ib.v.Br.call(this,a,c);a.va&&a.Ka();c.va&&(ha(c),c.Ka(),c.pa().style.display="block")};b.pm=function(){h.Ib.v.pm.call(this);var a=this.sa();a&&(a.Pj(),a.Ka(!1),a=this.$(),a.va&&a.Ka())};b.Zx=function(a){return nc(this.Cw,this,a)};
b.Wn=function(a){h.Ib.v.Wn.call(this,a);var c=this.$();a=a.$();var d=c.va,e=a.va;d&&ha(c);e&&ha(a);d&&e&&(this.type==h.X.$b||this.type==h.X.kd?a.Ka():c.Ka());if(c=na(c,a))c=c.isVisible(),a.pa().style.display=c?"block":"none"};b.ly=function(){!this.isConnected()||this.ya&&Ya(this.L.B.If,this,this.ya,!1)||(A(Fa(this)?this.sa():this.L),this.L.Zc())};h.zh=function(){h.zh.v.constructor.call(this)};h.g.object.V(h.zh,h.jg);h.zh.TE="basicCursor";b=h.zh.prototype;b.next=function(){var a=this.le;if(!a)return null;(a=oc(this,a,this.ku))&&Hb(this,a);return a};b.Qg=function(){return this.next()};b.ih=function(){var a=this.le;if(!a)return null;(a=pc(this,a,this.ku))&&Hb(this,a);return a};b.fh=function(){return this.ih()};
function oc(a,c,d){if(!c)return null;var e=c.Qg()||c.next();if(d(e))return e;if(e)return oc(a,e,d);c=qc(a,c.fh());return d(c)?c:c?oc(a,c,d):null}function pc(a,c,d){if(!c)return null;var e=c.ih();e=e?rc(a,e):c.fh();return d(e)?e:e?pc(a,e,d):null}b.ku=function(a){var c=!1;a=a&&a.getType();if(a==h.F.types.Kh||a==h.F.types.zd||a==h.F.types.Dc||a==h.F.types.rg||a==h.F.types.tg||a==h.F.types.Wc)c=!0;return c};function qc(a,c){if(!c)return null;var d=c.next();return d?d:qc(a,c.fh())}
function rc(a,c){if(!c.Qg())return c;for(c=c.Qg();c.next();)c=c.next();return rc(a,c)}h.u.register(h.u.R.xk,h.zh.TE,h.zh);h.Bq=function(){h.Bq.v.constructor.call(this)};h.g.object.V(h.Bq,h.zh);h.Bq.prototype.ku=function(a){a&&a.getType();return!1};h.Ya=function(a,c,d){this.O=h.g.j.J(h.g.D.Sc,{},null);this.O.Km="";this.style=sc(a.ob.ka(),null);this.wb=a.ob.Rx(this.O,this.style);this.Dt=this.va=!1;this.B=a;this.aa=this.ea=this.S=null;this.Pm=h.g.li()&&!!a.md;var e=this.wb.Eb;e.Vd=this;h.G.sj(e);h.Ya.v.constructor.call(this,a,c,d);this.O.dataset?this.O.dataset.id=this.id:h.g.userAgent.ae&&this.O.setAttribute("data-id",this.id)};h.g.object.V(h.Ya,h.Vi);h.Ya.prototype.height=0;h.Ya.prototype.width=0;h.Ya.prototype.yp=null;h.Ya.eH=-1;h.Ya.YF="TEMP_COLLAPSED_WARNING_";
b=h.Ya.prototype;b.Pj=function(){if(!this.B.va)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.U[a];a++)c.Ca();c=Aa(this);for(a=0;a<c.length;a++)c[a].uC();this.ec();B(this.wb,"blocklyDraggable",this.wc());a=this.pa();this.B.options.readOnly||this.OC||!a||h.N.Ba(a,"mousedown",this,this.bh);this.OC=!0;a.parentNode||this.B.xb.appendChild(a)};
b.select=function(){if(this.Ma&&this.getParent())this.getParent().select();else if(h.selected!=this){var a=null;if(h.selected){a=h.selected.id;h.h.disable();try{tb(h.selected)}finally{h.h.enable()}}a=new (h.h.get(h.h.gj))(a,this.id,this.B.id);h.h.Ha(a);h.selected=this;this.Jn()}};function tb(a){if(h.selected==a){var c=new (h.h.get(h.h.gj))(a.id,null,a.B.id);c.Yb=a.B.id;h.h.Ha(c);h.selected=null;a.om()}}b.ue=null;b.Uh=null;b.Fd=null;b.gz=null;
function Aa(a){var c=[];a.ue&&c.push(a.ue);a.Fd&&c.push(a.Fd);a.gz&&c.push(a.gz);return c}b.mp=function(a){var c=this.gf;if(a!=c){h.g.j.Am();h.Ya.v.mp.call(this,a);h.g.j.Bm();var d=this.pa();if(!this.B.ys&&d){var e=this.$a();a?(a.pa().appendChild(d),a=this.$a(),Ea(this,a.x-e.x,a.y-e.y)):c&&(this.B.xb.appendChild(d),this.translate(e.x,e.y));this.ec()}}};
b.$a=function(){var a=0,c=0,d=this.Pm?this.B.md.Wb():null,e=this.pa();if(e){do{var f=h.g.qe(e);a+=f.x;c+=f.y;this.Pm&&this.B.md.Ve.firstChild==e&&(f=this.B.md.js(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.B.xb&&e!=d)}return new h.g.T(a,c)};b.moveBy=function(a,c){if(this.gf)throw Error("Block has parent.");var d=h.h.isEnabled();if(d)var e=new (h.h.get(h.h.yh))(this);var f=this.$a();this.translate(f.x+a,f.y+c);Ea(this,a,c);d&&(e.Ei(),h.h.Ha(e));ia(this.B)};
b.translate=function(a,c){this.pa().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.$a();this.moveBy(a.x-c.x,a.y-c.y)};b.Ts=function(a){this.Pm?this.B.md.Oi(a.x,a.y):(this.O.Km="translate("+a.x+","+a.y+")",this.O.setAttribute("transform",this.O.Km+this.O.ym))};
function tc(a){if(a.B&&!a.B.bd()&&!a.getParent()&&!a.cd){var c=a.B.Jd;if(c&&c.jF){var d=c.Wt,e=d/2,f=a.$a();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}b.Bl=function(){var a=this.$a(),c=r(this);if(this.I){var d=a.x-c.width;var e=a.x}else d=a.x,e=a.x+c.width;return new h.g.Rect(a.y,a.y+c.height,d,e)};b.Xl=function(){this.wb.lb=this.B.ob.ka();for(var a=0,c;c=this.U[a];a++)c.Xl()};
b.Hi=function(a){this.Sh!=a&&(h.Ya.v.Hi.call(this,a),a?this.va&&this.Ka():uc(this))};function uc(a){for(var c=a.isCollapsed(),d=h.lb.an,e=h.lb.$m,f=0,g;g=a.U[f];f++)g.name!=d&&g.Jb(!c);if(c){g=Aa(a);for(f=0;c=g[f];f++)c.Jb(!1);f=a.toString(h.zz);(g=la(a,e))?g.setValue(f):(g=ja(a,d)||bc(a,d),E(g,new h.hd(f),e))}else ha(a),a.Ct(d)}
b.bh=function(a){var c=this.B&&this.B.Kg(a);if(c){if(c.ei)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Db(c,this);c.Nd=a}};b.showHelp=function(){var a="function"==typeof this.Oj?this.Oj():this.Oj;a&&window.open(a)};b.vm=function(a){if(this.B.options.readOnly||!this.contextMenu)var c=null;else c=hc(h.Fa.Hc.Sb,{block:this}),this.zC&&this.zC(c);c&&c.length&&(h.Sa.show(a,c,this.I),h.Sa.ao=this)};
function Ea(a,c,d){if(a.va){for(var e=a.oe(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=Aa(a);for(f=0;f<e.length;f++)e[f].nC();for(f=0;f<a.Ff.length;f++)Ea(a.Ff[f],c,d)}}b.mh=function(a){if(a){var c=this.pa();c.Km="";c.ym="";h.Gj=h.Gj.concat(this.oe(!0));h.g.j.Nb(this.O,"blocklyDragging")}else h.Gj=[],h.g.j.fd(this.O,"blocklyDragging");for(c=0;c<this.Ff.length;c++)this.Ff[c].mh(a)};b.Ot=function(a){h.Ya.v.Ot.call(this,a);B(this.wb,"blocklyDraggable",a)};
b.Nt=function(a){h.Ya.v.Nt.call(this,a);a=Aa(this);for(var c=0;c<a.length;c++)Ib(a[c])};b.Rt=function(a){h.Ya.v.Rt.call(this,a);this.ec()};b.Ky=function(a){this.Uj!=a&&(this.Uj=a)&&(this.we(this.B.ob.ka().Xp),B(this.wb,"blocklyInsertionMarker",!0))};b.pa=function(){return this.O};
b.H=function(a,c){if(this.B){h.G.H();h.G.gu(this.wb.Eb);h.g.j.Am();var d=this.B;h.selected==this&&(tb(this),vc(this.B));h.Sa.ao==this&&h.Sa.ab();c&&this.va&&(A(this,a),h.cb.GC(this));this.va=!1;if(this.yp){for(var e in this.yp)clearTimeout(this.yp[e]);this.yp=null}c=Aa(this);for(e=0;e<c.length;e++)c[e].H();h.Ya.v.H.call(this,!!a);h.g.j.removeNode(this.O);ia(d);this.O=null;h.g.j.Bm()}};
b.ec=function(){this.wb.ec(this);for(var a=Aa(this),c=0;c<a.length;c++)a[c].ec();for(a=0;c=this.U[a];a++)for(var d=0,e;e=c.fb[d];d++)e.ec()};function ha(a){var c=z(a,!1);a.ec();if(!a.isCollapsed()){a=0;for(var d;d=c[a];a++)d.va&&ha(d)}}b.cD=function(){return this.Fd};
b.ck=function(a){if(!h.Comment)throw Error("Missing require for Blockly.Comment");this.je.text!=a&&(h.Ya.v.ck.call(this,a),a=null!=a,!!this.Fd==a?this.Fd.IK():(a?this.Uh=this.Fd=new h.Comment(this):(this.Fd.H(),this.Uh=this.Fd=null),this.va&&(this.Ka(),this.Zc())))};b.Ly=function(a){this.ue&&this.ue!==a&&this.ue.H();a&&(a.tK(this),this.ue=a,a.uC());this.va&&(this.Ka(),this.Zc())};b.jf=function(a){this.isEnabled()!=a&&(h.Ya.v.jf.call(this,a),this.va&&!ac(this)&&ha(this))};
b.xe=function(a){this.va&&this.wb.Yy(a)};b.Jn=function(){B(this.wb,"blocklySelected",!0)};b.om=function(){B(this.wb,"blocklySelected",!1)};b.Mt=function(a){B(this.wb,"blocklyDraggingDelete",a)};b.Zr=function(){return this.style.Th};b.we=function(a){h.Ya.v.we.call(this,a);a=wc(this.B.ob.ka(),this.Ed);this.wb.Li(a.style);this.style=a.style;this.Cm=a.name;this.ec()};
b.Li=function(a){var c=sc(this.B.ob.ka(),a);this.Cm=a;if(c)this.Ze=c.Ze,this.wb.Li(c),this.Ed=c.Th,this.style=c,this.ec();else throw Error("Invalid style name: "+a);};function Ba(a){do{var c=a.pa(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.Ki=function(a,c){h.Ya.v.Ki.call(this,a,c);this.va&&(this.Ka(),this.Zc())};b.ek=function(a,c){h.Ya.v.ek.call(this,a,c);this.va&&(this.Ka(),this.Zc())};
b.Pt=function(a,c){h.Ya.v.Pt.call(this,a,c);this.va&&(this.Ka(),this.Zc())};b.Ji=function(a){h.Ya.v.Ji.call(this,a);this.va&&(this.Ka(),this.Zc())};b.Ct=function(a,c){a=h.Ya.v.Ct.call(this,a,c);this.va&&(this.Ka(),this.Zc());return a};b.Cf=function(a,c){a=h.Ya.v.Cf.call(this,a,c);this.va&&(this.Ka(),this.Zc());return a};
function fa(a,c){a.aa&&Zb(a.aa,c);a.S&&Zb(a.S,c);if(a.ea){Zb(a.ea,c);var d=a.ea.sa();d&&fa(d,c)}if(!a.Sh)for(d=0;d<a.U.length;d++){var e=a.U[d].connection;e&&(Zb(e,c),(e=e.sa())&&fa(e,c))}}b.oe=function(a){var c=[];if(a||this.va)if(this.S&&c.push(this.S),this.aa&&c.push(this.aa),this.ea&&c.push(this.ea),a||!this.Sh){a=0;for(var d;d=this.U[a];a++)d.connection&&c.push(d.connection)}return c};b.Ko=function(a){return h.Ya.v.Ko.call(this,a)};b.ds=function(a,c){return h.Ya.v.ds.call(this,a,c)};
b.Wl=function(a){return new h.Ib(this,a)};b.Zc=function(){if(this.B&&!this.B.bd()){var a=this.re();if(!a.cd)for(var c=this.oe(!1),d=0,e;e=c[d];d++){e.isConnected()&&Fa(e)&&e.sa().Zc();for(var f=e.Zx(h.oc),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.$().re()!=a&&(Fa(e)?jc(k,e):jc(e,k))}}};function Ga(a){var c=h.h.Wb();setTimeout(function(){h.h.ua(c);tc(a);h.h.ua(!1)},h.Ep/2);setTimeout(function(){h.h.ua(c);a.Zc();h.h.ua(!1)},h.Ep)}b.getParent=function(){return h.Ya.v.getParent.call(this)};
b.re=function(){return h.Ya.v.re.call(this)};b.Ka=function(a){if(!this.Dt){this.Dt=!0;try{this.va=!0;h.g.j.Am();this.isCollapsed()&&uc(this);this.B.ob.Ka(this);var c=this.$a();this.aa&&lc(this.aa,c);this.S&&lc(this.S,c);for(var d=0;d<this.U.length;d++){var e=this.U[d].connection;e&&(lc(e,c),e.isConnected()&&mc(e))}this.ea&&(lc(this.ea,c),this.ea.isConnected()&&mc(this.ea));if(!1!==a){var f=this.getParent();f?f.Ka(!0):ia(this.B)}h.g.j.Bm();this.ju()}finally{this.Dt=!1}}};
b.ju=function(){this.B.Ul&&this.wb.ml&&this.B.Dl().draw();this.B.Ul&&this.wb.Os&&this.B.Gl(h.Lk.dv).draw()};b.Zf=function(a){this.wb.Zf(a)};b.nh=function(a){this.wb.nh(a)};function r(a){var c=a.height,d=a.width,e=w(a);e&&(e=r(e),a=a.B.ob.ka().hq,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};h.UG=function(){};h.$G=function(){};h.jn=function(){};h.jn.prototype.bt=function(){};h.jn.prototype.at=function(){};h.jn.prototype.ct=function(){};h.ZG=function(){};h.hn=function(){h.hn.v.constructor.call(this);this.zp=!1};h.g.object.V(h.hn,h.jn);function za(a,c,d){c instanceof h.Ya?(c=!c.getParent()&&c.cf(),a.zp=c&&!d):a.zp=c.cf();return a.zp};h.h.xg=function(a,c){h.h.xg.v.constructor.call(this,c);this.zs=a};h.g.object.V(h.h.xg,h.h.fe);h.h.xg.prototype.type=h.h.Aq;h.h.xg.prototype.ra=function(){var a=h.h.xg.v.ra.call(this);a.isOpen=this.zs;return a};h.h.xg.prototype.ba=function(a){h.h.xg.v.ba.call(this,a);this.zs=a.isOpen};h.u.register(h.u.R.Gb,h.h.Aq,h.h.xg);h.PG=function(){};h.iH=function(){};h.Xb={};h.Xb.xp={ee:0,eg:1};h.Xb.ss={Hb:0,Gc:1};h.Xb.Tq={Fn:0,Np:1};h.Xb.oD=function(a,c,d,e,f,g){var k=g.Ua&&!!g.Ua.Va;a.Nl===h.Xb.ss.Hb?(d=f.In.left+d,k&&g.I&&(d+=h.La.jc)):(d=f.In.left+f.fz.width-c.width-d,k&&!g.I&&(d-=h.La.jc));a.vertical===h.Xb.xp.ee?a=f.In.top+e:(a=f.In.top+f.fz.height-c.height-e,g.Ua&&g.Ua.jb&&(a-=h.La.jc));return new h.g.Rect(a,a+c.height,d,d+c.width)};
h.Xb.gD=function(a,c){return{Nl:c.Wy.position===h.g.W.Qa.Hb||a.Kd&&!a.I?h.Xb.ss.Gc:h.Xb.ss.Hb,vertical:c.Wy.position===h.g.W.Qa.eg?h.Xb.xp.ee:h.Xb.xp.eg}};h.Xb.ZB=function(a,c,d,e){for(var f=a.left,g=a.right-a.left,k=a.bottom-a.top,l=0,m;m=e[l];l++)a.left>m.right||a.right<m.left||a.top>m.bottom||a.bottom<m.top||(a=d===h.Xb.Tq.Fn?m.top-k-c:m.bottom+c,a=new h.g.Rect(a,a+k,f,f+g),l=-1);return a};h.Vb=function(a){h.Vb.v.constructor.call(this);this.m=a;this.id="trashcan";this.Gg=[];this.pd=null;0>=this.m.options.So||(a=new h.jd({scrollbars:!0,parentWorkspace:this.m,rtl:this.m.I,oneBasedIndex:this.m.options.bp,renderer:this.m.options.Ft,rendererOverrides:this.m.options.Gt,move:{scrollbars:!0}}),this.m.Kd?(a.Pc=this.m.Pc==h.g.W.Qa.ee?h.g.W.Qa.eg:h.g.W.Qa.ee,this.pd=new (h.u.Of(h.u.R.Pu,this.m.options,!0))(a)):(a.Pc=this.m.Pc==h.g.W.Qa.Gc?h.g.W.Qa.Hb:h.g.W.Qa.Gc,this.pd=new (h.u.Of(h.u.R.Tp,this.m.options,
!0))(a)),D(this.m,this.kE.bind(this)))};h.g.object.V(h.Vb,h.hn);b=h.Vb.prototype;b.nj=47;b.Xm=44;b.bj=16;b.ev=20;b.JA=20;b.qn=10;b.uq=0;b.vq=32;b.qA=.1;h.Vb.pz=80;h.Vb.pu=4;h.Vb.ov=.4;h.Vb.TA=.8;h.Vb.fv=45;b=h.Vb.prototype;b.Eo=!1;b.Rs=0;b.O=null;b.sp=null;b.Fs=0;b.Xg=0;b.Lo=0;b.up=0;b.Dx=!1;
b.Wa=function(){this.O=h.g.j.J(h.g.D.Sc,{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var c=h.g.j.J(h.g.D.Au,{id:"blocklyTrashBodyClipPath"+a},this.O);h.g.j.J(h.g.D.Mb,{width:this.nj,height:this.Xm,y:this.bj},c);var d=h.g.j.J(h.g.D.Ek,{width:h.hj.width,x:-this.uq,height:h.hj.height,y:-this.vq,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.O);d.setAttributeNS(h.g.j.ld,"xlink:href",this.m.options.hp+h.hj.url);c=h.g.j.J(h.g.D.Au,{id:"blocklyTrashLidClipPath"+a},this.O);
h.g.j.J(h.g.D.Mb,{width:this.nj,height:this.bj},c);this.sp=h.g.j.J(h.g.D.Ek,{width:h.hj.width,x:-this.uq,height:h.hj.height,y:-this.vq,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.O);this.sp.setAttributeNS(h.g.j.ld,"xlink:href",this.m.options.hp+h.hj.url);h.N.bind(this.O,"mousedown",this,this.UB);h.N.bind(this.O,"mouseup",this,this.click);h.N.bind(d,"mouseover",this,this.bE);h.N.bind(d,"mouseout",this,this.$D);this.Jq();return this.O};
b.Ca=function(){0<this.m.options.So&&(h.g.j.Qj(this.pd.Wa(h.g.D.jj),t(this.m)),this.pd.Ca(this.m));pa(this.m.Hf,{bl:this,weight:1,Cg:[h.Fb.Tb.tu,h.Fb.Tb.Lp,h.Fb.Tb.Op,h.Fb.Tb.zv]});this.Dx=!0;this.dk(!1)};b.H=function(){qa(this.m.Hf,"trashcan");this.O&&(h.g.j.removeNode(this.O),this.O=null);this.m=this.sp=null;clearTimeout(this.Fs)};
b.position=function(a,c){if(this.Dx){var d=h.Xb.gD(this.m,a);a=h.Xb.oD(d,new h.g.Uc(this.nj,this.Xm+this.bj),this.JA,this.ev,a,this.m);c=h.Xb.ZB(a,this.ev,d.vertical===h.Xb.xp.ee?h.Xb.Tq.Np:h.Xb.Tq.Fn,c);this.up=c.top;this.Lo=c.left;this.O.setAttribute("transform","translate("+this.Lo+","+this.up+")")}};b.Bl=function(){return new h.g.Rect(this.up,this.up+this.Xm+this.bj,this.Lo,this.Lo+this.nj)};
b.Xw=function(){if(!this.O)return null;var a=this.O.getBoundingClientRect(),c=a.top+this.vq-this.qn;a=a.left+this.uq-this.qn;return new h.g.Rect(c,c+this.bj+this.Xm+2*this.qn,a,a+this.nj+2*this.qn)};b.bt=function(){this.dk(this.zp)};b.at=function(){this.dk(!1)};b.ct=function(){setTimeout(this.dk.bind(this,!1),100)};b.dk=function(a){this.Eo!=a&&(clearTimeout(this.Fs),this.Eo=a,this.Jq())};
b.Jq=function(){var a=1/(h.Vb.pu+1);this.Xg+=this.Eo?a:-a;this.Xg=Math.min(Math.max(this.Xg,this.Rs),1);xc(this,this.Xg*h.Vb.fv);this.O.style.opacity=h.Vb.ov+this.Xg*(h.Vb.TA-h.Vb.ov);this.Xg>this.Rs&&1>this.Xg&&(this.Fs=setTimeout(this.Jq.bind(this),h.Vb.pz/h.Vb.pu))};function xc(a,c){var d=a.m.Pc==h.g.W.Qa.Gc||a.m.Kd&&a.m.I;a.sp.setAttribute("transform","rotate("+(d?-c:c)+","+(d?4:a.nj-4)+","+(a.bj-2)+")")}
b.click=function(){if(this.Gg.length&&(!this.pd||!this.pd.isVisible())){var a=this.Gg.map(h.K.ze);this.pd.show(a);yc(this,!0)}};function yc(a,c){a=new (h.h.get(h.h.Aq))(c,a.m.id);h.h.Ha(a)}b.UB=function(a){this.pd&&this.pd.isVisible()||!this.Gg.length||a.stopPropagation()};b.bE=function(){this.Gg.length&&this.dk(!0)};b.$D=function(){this.dk(!1)};
b.kE=function(a){if(!(0>=this.m.options.So)&&a.type==h.h.Cp&&a.Yj.tagName&&"shadow"!=a.Yj.tagName.toLowerCase()){for(var c=a=a.Yj.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"),c.removeAttribute("disabled"),"comment"==c.nodeName&&(c.removeAttribute("h"),c.removeAttribute("w"),c.removeAttribute("pinned")));var d=c.firstChild||c.nextSibling;if(!d)for(d=c.parentNode;d;){if(d.nextSibling){d=d.nextSibling;break}d=d.parentNode}c=d}a=h.K.Hd(a);
if(-1==this.Gg.indexOf(a)){for(this.Gg.unshift(a);this.Gg.length>this.m.options.So;)this.Gg.pop();this.Rs=a=this.qA;this.Eo||xc(this,a*h.Vb.fv)}}};h.i.Om=!1;h.i.register=function(a,c){h.u.register(h.u.R.RENDERER,a,c)};h.i.unregister=function(a){h.u.unregister(h.u.R.RENDERER,a)};h.i.AK=function(){h.i.Om=!0};h.i.BK=function(){h.i.Om=!1};h.i.Ca=function(a,c,d){a=new (h.u.Yr(h.u.R.RENDERER,a))(a);a.Ca(c,d);return a};h.dH=function(){};h.Mk=function(a){this.m=a};function zc(a){var c=0,d=0;a&&(c=a.Hl(),d=a.vc);return new h.g.Uc(c,d)}function Ac(a){var c=zc(Bc(a.m,!0));return{width:c.width,height:c.height,position:a.m.Pc}}function Cc(a){var c=zc(a.m.pb);return{width:c.width,height:c.height,position:a.m.Pc}}function Dc(a){var c=0,d=Cc(a),e=Ac(a),f=!!a.m.pb;a=!!Bc(a.m,!0);var g=f?d.position:e.position,k=g==h.g.W.Qa.Hb;g=g==h.g.W.Qa.ee;f&&k?c=d.width:a&&k&&(c=e.width);k=0;f&&g?k=d.height:a&&g&&(k=e.height);return{top:k,left:c}}
function ob(a,c){c=c?a.m.scale:1;var d=Ec(a.m),e=Cc(a),f=Ac(a),g=a.m.pb?e.position:f.position;if(a.m.pb)if(g==h.g.W.Qa.ee||g==h.g.W.Qa.eg)d.height-=e.height;else{if(g==h.g.W.Qa.Hb||g==h.g.W.Qa.Gc)d.width-=e.width}else if(Bc(a.m,!0))if(g==h.g.W.Qa.ee||g==h.g.W.Qa.eg)d.height-=f.height;else if(g==h.g.W.Qa.Hb||g==h.g.W.Qa.Gc)d.width-=f.width;return{height:d.height/c,width:d.width/c,top:-a.m.scrollY/c,left:-a.m.scrollX/c}}
h.Mk.prototype.so=function(){var a=this.m.scale,c=ea(this.m);return{height:(c.bottom-c.top)*a,width:(c.right-c.left)*a,top:c.top*a,left:c.left*a}};
h.Mk.prototype.ci=function(a,c,d){a=a?this.m.scale:1;var e=c||ob(this,!1);d=d||this.so();if(rb(this.m)&&sb(this.m))c={};else{c=rb(this.m);var f=sb(this.m),g=e||ob(this,!1);var k={};f||(k.top=g.top,k.bottom=g.top+g.height);c||(k.left=g.left,k.right=g.left+g.width);c=k}k=d.top+d.height;f=d.left+d.width;g=e.width;var l=e.height;var m=g/2,n=l/2;e=Math.min(d.top-n,k-l);k=Math.max(k+n,d.top+l);l=Math.min(d.left-m,f-g);d=Math.max(f+m,d.left+g);e=void 0!==c.top?c.top:e;f=void 0!==c.left?c.left:l;return{top:e/
a,left:f/a,width:((void 0!==c.right?c.right:d)-f)/a,height:((void 0!==c.bottom?c.bottom:k)-e)/a}};h.Mk.prototype.pe=function(){var a=Cc(this),c=Ac(this),d=Ec(this.m),e=Dc(this),f=ob(this),g=this.so(),k=this.ci(!1,f,g);return{yJ:g.height,BJ:g.width,AJ:g.top,zJ:g.left,scrollHeight:k.height,scrollWidth:k.width,scrollTop:k.top,scrollLeft:k.left,Qc:f.height,Bc:f.width,Xd:f.top,Wd:f.left,Xc:e.top,Ic:e.left,CK:d.height,EK:d.width,GK:a.width,FK:a.height,Pc:a.position,JJ:c.width,IJ:c.height}};
h.u.register(h.u.R.jv,h.u.Zi,h.Mk);h.Dk=function(a,c){this.za=c;h.Dk.v.constructor.call(this,a)};h.g.object.V(h.Dk,h.Mk);h.Dk.prototype.so=function(){try{var a=this.m.xb.getBBox()}catch(d){a={height:0,y:0,width:0,x:0}}var c=this.m.scale;return{height:a.height*c,width:a.width*c,top:a.y*c,left:a.x*c}};h.Dk.prototype.ci=function(a,c,d){c=d||this.so();d=this.za.Ih*this.m.scale;a=a?this.m.scale:1;return{height:(c.height+2*d)/a,width:(c.width+c.left+d)/a,top:0,left:0}};h.bH=function(){};h.Yi=function(a){this.Cb=[];this.tw=a};function Fc(a,c,d){if(!a.Cb.length)return-1;var e=kc(a,d);if(e>=a.Cb.length)return-1;d=c.y;for(var f=e;0<=f&&a.Cb[f].y==d;){if(a.Cb[f]==c)return f;f--}for(f=e;f<a.Cb.length&&a.Cb[f].y==d;){if(a.Cb[f]==c)return f;f++}return-1}function kc(a,c){if(!a.Cb.length)return 0;for(var d=0,e=a.Cb.length;d<e;){var f=Math.floor((d+e)/2);if(a.Cb[f].y<c)d=f+1;else if(a.Cb[f].y>c)e=f;else{d=f;break}}return d}
function ic(a,c,d){c=Fc(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.Cb.splice(c,1)}function nc(a,c,d){function e(n){var q=g-f[n].x,p=k-f[n].y;Math.sqrt(q*q+p*p)<=d&&m.push(f[n]);return p<d}var f=a.Cb,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}
h.Yi.Ca=function(a){var c=[];c[h.X.Zb]=new h.Yi(a);c[h.X.Tc]=new h.Yi(a);c[h.X.$b]=new h.Yi(a);c[h.X.kd]=new h.Yi(a);return c};h.h.wg=function(a,c){h.h.wg.v.constructor.call(this,c);this.Ty=a};h.g.object.V(h.h.wg,h.h.fe);h.h.wg.prototype.type=h.h.yq;h.h.wg.prototype.ra=function(){var a=h.h.wg.v.ra.call(this);a.themeName=this.Ty;return a};h.h.wg.prototype.ba=function(a){h.h.wg.v.ba.call(this,a);this.Ty=a.themeName};h.u.register(h.u.R.Gb,h.h.yq,h.h.wg);h.h.zg=function(a,c,d,e,f){h.h.zg.v.constructor.call(this,e);this.Xd=a;this.Wd=c;this.scale=d;this.em=f};h.g.object.V(h.h.zg,h.h.fe);h.h.zg.prototype.type=h.h.Sk;h.h.zg.prototype.ra=function(){var a=h.h.zg.v.ra.call(this);a.viewTop=this.Xd;a.viewLeft=this.Wd;a.scale=this.scale;a.oldScale=this.em;return a};h.h.zg.prototype.ba=function(a){h.h.zg.v.ba.call(this,a);this.Xd=a.viewTop;this.Wd=a.viewLeft;this.scale=a.scale;this.em=a.oldScale};h.u.register(h.u.R.Gb,h.h.Sk,h.h.zg);h.Hh=function(a,c){this.Lj=a;this.Wt=c.spacing;this.Px=c.length;this.SD=(this.Gs=a.firstChild)&&this.Gs.nextSibling;this.jF=c.snap};h.Hh.prototype.lh=1;h.Hh.prototype.H=function(){this.Lj=null};h.Hh.prototype.update=function(a){this.lh=a;var c=this.Wt*a||100;this.Lj.setAttribute("width",c);this.Lj.setAttribute("height",c);c=Math.floor(this.Wt/2)+.5;var d=c-this.Px/2,e=c+this.Px/2;c*=a;d*=a;e*=a;Gc(this.Gs,a,d,e,c,c);Gc(this.SD,a,c,c,d,e)};
function Gc(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}h.Hh.prototype.moveTo=function(a,c){this.Lj.setAttribute("x",a);this.Lj.setAttribute("y",c);(h.g.userAgent.ae||h.g.userAgent.Eh)&&this.update(this.lh)};
h.Hh.Wa=function(a,c,d){a=h.g.j.J(h.g.D.yv,{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(h.g.j.J(h.g.D.Ik,{stroke:c.colour},a),1<c.length&&h.g.j.J(h.g.D.Ik,{stroke:c.colour},a)):h.g.j.J(h.g.D.Ik,{},a);return a};h.Mv=function(a,c){this.m=a;this.ag=c;this.Dm=[];this.Qe=Object.create(null)};b=h.Mv.prototype;b.Qf=function(){return this.ag};b.um=function(a){var c=this.ag;this.ag=a;if(a=ca(this.m))c&&h.g.j.fd(a,c.ne()),h.g.j.Nb(a,this.ag.ne());for(c=0;a=this.Dm[c];c++)Hc(a);c=0;a=Object.keys(this.Qe);for(var d;d=a[c];c++)for(var e=0,f;f=this.Qe[d][e];e++)f.element.style[f.propertyName]=this.ag&&ab(this.ag,d)||"";h.ic()};
b.subscribe=function(a,c,d){this.Qe[c]||(this.Qe[c]=[]);this.Qe[c].push({element:a,propertyName:d});a.style[d]=this.ag&&ab(this.ag,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.Qe),d=0,e;e=c[d];d++){for(var f=this.Qe[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.Qe[e].length||delete this.Qe[e]}};b.H=function(){this.Qe=this.Dm=this.ag=this.Qd=null};h.Vc=function(a,c){h.Vc.v.constructor.call(this,a,c);this.Fo=!1;this.nd=Object.create(null);this.Py=this.km=0;this.Ix=this.ht=null};h.g.object.V(h.Vc,h.Ie);h.Vc.EB=5;h.Vc.FB=6;b=h.Vc.prototype;b.Fr=function(a){this.Ix=this.Kb.options.zb&&this.Kb.options.zb.ty;h.Vc.v.Fr.call(this,a);!this.Co&&h.Touch.Jo(a)&&Ic(this,a)};
b.sj=function(a){this.ht=h.N.Ba(document,"mousedown",null,this.yD.bind(this),!0);this.$o=h.N.Ba(document,"mousemove",null,this.Mj.bind(this),!0);this.ap=h.N.Ba(document,"mouseup",null,this.vo.bind(this),!0);a.preventDefault();a.stopPropagation()};b.yD=function(a){!this.bd()&&h.Touch.Jo(a)&&(Ic(this,a),this.Fo&&h.Yg())};
b.Mj=function(a){if(this.bd())h.Touch.Vt(a)&&h.Vc.v.Mj.call(this,a);else if(this.Fo){if(h.Touch.Jo(a)){this.nd[h.Touch.to(a)]=Jc(this,a);var c=Object.keys(this.nd);if(this.Ix&&2===c.length){c=Object.keys(this.nd);c=h.g.T.Er(this.nd[c[0]],this.nd[c[1]])/this.Py;if(0<this.km&&Infinity>this.km){var d=c-this.km;d=0<d?d*h.Vc.EB:d*h.Vc.FB;var e=this.Kb,f=h.g.cm(a,t(e),Va(e));e.zoom(f.x,f.y,d)}this.km=c;a.preventDefault()}else h.Vc.v.Mj.call(this,a)}h.Yg()}else h.Vc.v.Mj.call(this,a)};
b.vo=function(a){if(h.Touch.Jo(a)&&!this.bd()){var c=h.Touch.to(a);this.nd[c]&&delete this.nd[c];2>Object.keys(this.nd).length&&(this.nd=Object.create(null),this.km=0)}!this.Fo||this.bd()?h.Touch.Vt(a)&&h.Vc.v.vo.call(this,a):(a.preventDefault(),a.stopPropagation(),this.H())};b.H=function(){h.Vc.v.H.call(this);this.ht&&h.N.yb(this.ht)};function Ic(a,c){a.nd[h.Touch.to(c)]=Jc(a,c);var d=Object.keys(a.nd);2==d.length&&(a.Py=h.g.T.Er(a.nd[d[0]],a.nd[d[1]]),a.Fo=!0,c.preventDefault())}
function Jc(a,c){return a.Kb?new h.g.T(c.changedTouches?c.changedTouches[0].pageX:c.pageX,c.changedTouches?c.changedTouches[0].pageY:c.pageY):null};h.Tv=function(a){this.ot=a;this.Pk=Object.create(null)};b=h.Tv.prototype;b.Cs=null;b.H=function(){this.Pk=this.ot=null};b.load=function(a,c){if(a.length){try{var d=new h.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new h.g.global.Audio(g);break}}e&&e.play&&(this.Pk[c]=e)}};
b.preload=function(){for(var a in this.Pk){var c=this.Pk[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(h.g.userAgent.Fk||h.g.userAgent.Zu)break}};b.play=function(a,c){var d=this.Pk[a];d?(a=new Date,null!=this.Cs&&a-this.Cs<h.oB||(this.Cs=a,d=h.g.userAgent.Fk||h.g.userAgent.Tm?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.ot&&this.ot.Yc.play(a,c)};h.Vv=function(a){this.hl=a;this.Wa()};b=h.Vv.prototype;b.gb=null;b.hl=null;b.Wa=function(){this.gb||(this.gb=h.g.j.J(h.g.D.jj,{xmlns:h.g.j.Cn,"xmlns:html":h.g.j.Up,"xmlns:xlink":h.g.j.ld,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.hl.appendChild(this.gb))};b.Oi=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.gb.style.display="block";h.g.j.rm(this.gb,"translate3d("+a+"px, "+c+"px, 0px)")};b.js=function(){return h.g.qe(this.gb)};
b.Rn=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.gb.childNodes[0],d=this.gb.childNodes[1];if(!(c&&d&&h.g.j.os(c,"blocklyBlockCanvas")&&h.g.j.os(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.wt?h.g.j.Qj(c,this.wt):a.insertBefore(c,a.firstChild);h.g.j.Qj(d,c);this.gb.style.display="none";if(this.gb.childNodes.length)throw Error("Drag surface was not cleared.");h.g.j.rm(this.gb,
"");this.wt=null};
h.dc=function(a,c,d){h.dc.v.constructor.call(this,a);this.dd=new (h.u.Of(h.u.R.jv,a,!0))(this);this.pe=a.pe||this.dd.pe.bind(this.dd);this.sm=a.sm||h.dc.fF;this.Hf=new h.Fb;this.Yn=h.Yi.Ca(this.If);c&&(this.md=c);d&&(this.Si=d);this.wp=!!this.Si&&h.g.li();this.Ml=[];this.Yc=new h.Tv(a.ed);this.Jd=this.options.ns?new h.Hh(this.options.ns,a.qx):null;this.se=new h.Lk(this);this.cu=Object.create(null);this.Rw=Object.create(null);h.na&&h.na.Zh&&Kc(this,h.Ph,h.na.Zh);h.Pv&&h.Pv.Zh&&Kc(this,h.zB,h.Pv.Zh);
h.Ta&&h.Ta.Zh&&(Kc(this,h.lq,h.Ta.Zh),D(this,h.Ta.dE));this.mc=this.options.ed?this.options.ed.mc:new h.Mv(this,this.options.sF||h.xf.gg);this.mc.Dm.push(this);this.ob=h.i.Ca(this.options.Ft||"geras",this.Qf(),this.options.Gt);this.Xq=null;this.Ul=!1;this.Im=[];this.Hr=[];this.Wq=new h.g.Uc(0,0)};h.g.object.V(h.dc,h.rb);b=h.dc.prototype;b.kp=null;b.va=!0;b.Uf=!0;b.Sf=!1;b.Go=!1;b.It=!0;b.scrollX=0;b.scrollY=0;b.Mw=null;b.scale=1;b.$s=1;b.ky=0;b.gy=0;b.kk=null;b.Ua=null;b.za=null;b.pb=null;b.tc=null;
b.md=null;b.Si=null;b.wp=!1;b.Bo=!1;b.ws=null;b.Ox=null;b.Ea=null;b.Gx=null;b.xs=!0;b.Zf=function(a){this.se.Zf(a)};b.nh=function(a){this.se.nh(a)};b.Gl=function(a){return this.se?this.se.Gl(a):null};b.Dl=function(){return this.se?this.se.Dl():null};b.Qf=function(){return this.mc.Qf()};b.um=function(a){a||(a=h.xf.gg);this.mc.um(a)};
function Hc(a){a.O&&a.ob.yt(a.O,a.Qf());Lc(C(a,!1).filter(function(c){return!!c.Cm}));Mc(a);a.pb&&Hc(a.pb);a.isVisible()&&a.Jb(!0);a=new (h.h.get(h.h.yq))(a.Qf().name,a.id);h.h.Ha(a)}function Lc(a){for(var c=0,d;d=a[c];c++){var e=d.Cm;e&&(d.Li(e),d.ue&&d.ue.HK())}}function Va(a){if(a.xs){var c=t(a).getScreenCTM();c&&(a.Gx=c.inverse(),a.xs=!1)}return a.Gx}b.Nm=function(){this.xs=!0};b.isVisible=function(){return this.Uf};
function oa(a,c){var d=0,e=0,f=1;if(h.g.j.containsNode(a.xb,c)||h.g.j.containsNode(a.$f,c))f=a.scale;do{var g=h.g.qe(c);if(c==a.xb||c==a.$f)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=t(a));return new h.g.T(d,e)}function Ec(a){a=a.Wq;return new h.g.Uc(a.width,a.height)}function ca(a){if(!a.ws)for(var c=a.O;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.ws=c;break}c=c.parentNode}return a.ws}
b.Wa=function(a){this.O=h.g.j.J(h.g.D.Sc,{"class":"blocklyWorkspace"},null);a&&(this.kc=h.g.j.J(h.g.D.Mb,{height:"100%",width:"100%","class":a},this.O),"blocklyMainBackground"==a&&this.Jd?this.kc.style.fill="url(#"+this.Jd.Lj.id+")":this.mc.subscribe(this.kc,"workspaceBackgroundColour","fill"));this.xb=h.g.j.J(h.g.D.Sc,{"class":"blocklyBlockCanvas"},this.O);this.$f=h.g.j.J(h.g.D.Sc,{"class":"blocklyBubbleCanvas"},this.O);this.Sf||(h.N.Ba(this.O,"mousedown",this,this.bh,!1,!0),h.N.Ba(this.O,"wheel",
this,this.rE));this.options.Jl&&(this.pb=new (h.u.Of(h.u.R.vB,this.options,!0))(this));this.Jd&&this.Jd.update(this.scale);Nc(this);var c=h.u.Of(h.u.R.xk,this.options);c&&(a=this.se,c=new c,a.Gd&&a.Gd.Id&&a.Gd.Id.H(),a.Gd=c,a.Gd&&(c=a.Gd,c=new h.i.og(a.m,a.m.ob.ka(),c),a.Gd.Id=c,a.Zf(a.Gd.Id.Wa())));this.ob.Wa(this.O,this.Qf());return this.O};
b.H=function(){this.va=!1;this.tc&&this.tc.cancel();this.O&&(h.g.j.removeNode(this.O),this.O=null);this.$f=this.xb=null;this.pb&&(this.pb.H(),this.pb=null);this.za&&(this.za.H(),this.za=null);this.kk&&(this.kk.H(),this.kk=null);this.Ua&&(this.Ua.H(),this.Ua=null);this.Rm&&(this.Rm.H(),this.Rm=null);this.Yc&&(this.Yc.H(),this.Yc=null);this.Jd&&(this.Jd.H(),this.Jd=null);this.ob.H();this.se&&(this.se.H(),this.se=null);h.dc.v.H.call(this);if(this.mc){var a=this.mc,c=a.Dm.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.Dm.splice(c,1);this.mc.unsubscribe(this.kc);this.options.ed||(this.mc.H(),this.mc=null)}this.Rw=this.cu=this.Yn=null;this.options.ed||(a=t(this))&&a.parentNode&&h.g.j.removeNode(a.parentNode);this.kp&&(h.N.yb(this.kp),this.kp=null)};b.Us=function(a,c){return new h.Ya(this,a,c)};function Bc(a,c){return a.za||c?a.za:a.pb?Bc(a.pb):null}function ia(a){a.It&&a.va&&(a.Ua&&a.Ua.resize(),a.Nm())}
b.resize=function(){this.pb&&this.pb.position();this.za&&this.za.position();var a=sa(this.Hf,h.Fb.Tb.zv);var c=this.dd;c={fz:ob(c),In:Dc(c),Wy:Cc(c)};for(var d=[],e=0,f;f=a[e];e++)f.position(c,d),(f=f.Bl())&&d.push(f);this.Ua&&this.Ua.resize();this.Nm();Nc(this)};function wb(a){var c=h.g.iD();h.g.T.Nf(a.Ox,c)||(a.Ox=c,a.Nm(),Nc(a))}function Oc(a,c,d){var e=t(a);c&&(a.Wq.width=c,e.aC=c);d&&(a.Wq.height=d,e.$B=d)}
function t(a){if(!a.Xq)for(var c=a.O;c;){if("svg"==c.tagName){a.Xq=c;break}c=c.parentNode}return a.Xq}function Ha(a){if(h.h.isEnabled()){var c=a.scale,d=-a.scrollY,e=-a.scrollX;if(!(c==a.$s&&1>Math.abs(d-a.ky)&&1>Math.abs(e-a.gy))){var f=new (h.h.get(h.h.Sk))(d,e,c,a.id,a.$s);a.$s=c;a.ky=d;a.gy=e;h.h.Ha(f)}}}
b.translate=function(a,c){if(this.wp&&this.Bo)this.Si.Oi(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.xb.setAttribute("transform",d);this.$f.setAttribute("transform",d)}if(this.md){d=this.md;var e=this.scale;d.lh=e;var f=a.toFixed(0),g=c.toFixed(0);d.kw.x=parseInt(f,10);d.kw.y=parseInt(g,10);d.Ve.setAttribute("transform","translate("+f+","+g+") scale("+e+")")}this.Jd&&this.Jd.moveTo(a,c);Ha(this)};
function Xa(a){if(a.wp){a.Bo=!1;var c=a.Si.js();a.Si.Rn(a.O);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.xb.setAttribute("transform",c);a.$f.setAttribute("transform",c)}}
function Wa(a){if(a.wp&&!a.Bo){a.Bo=!0;var c=a.xb.previousSibling,d=parseInt(t(a).getAttribute("width"),10),e=parseInt(t(a).getAttribute("height"),10),f=h.g.qe(a.xb),g=a.Si,k=a.xb,l=a.$f,m=a.scale;if(g.gb.childNodes.length)throw Error("Already dragging a block.");g.wt=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.gb.setAttribute("width",d);g.gb.setAttribute("height",e);g.gb.appendChild(k);g.gb.appendChild(l);g.gb.style.display=
"block";a.Si.Oi(f.x,f.y)}}b.Hl=function(){var a=this.pe();return a?a.Bc/this.scale:0};b.Jb=function(a){this.Uf=a;if(this.O)if(this.Ua&&this.Ua.Ii(a),Bc(this)&&Bc(this).Ii(a),t(this).style.display=a?"block":"none",this.pb&&this.pb.Jb(a),a){a=C(this,!1);for(var c=a.length-1;0<=c;c--)a[c].Xl();this.Ka();this.pb&&this.pb.position()}else h.ic(!0)};
b.Ka=function(){for(var a=C(this,!1),c=a.length-1;0<=c;c--)a[c].Ka(!1);if(this.tc)for(a=this.tc.Ij(),c=0;c<a.length;c++)a[c].Ka(!1);c=this.se;c.m.Ul&&c.Kf&&c.m.Dl().draw()};function Pc(a,c){var d=y;if(void 0===c){for(var e=0,f;f=d.Ml[e];e++)f.xe(!1);d.Ml.length=0}if(f=a?d.Lc(a):null)(a=void 0===c||c)?-1==d.Ml.indexOf(f)&&d.Ml.push(f):h.g.Xk(d.Ml,f),f.xe(a)}
b.fp=function(a){if(this.va&&a.tagName&&!(a.getElementsByTagName("block").length>=fb(this)))if(this.tc&&this.tc.cancel(),"comment"==a.tagName.toLowerCase()){h.h.disable();try{var c=h.oj.Al(a),d=parseInt(a.getAttribute("x"),10),e=parseInt(a.getAttribute("y"),10);isNaN(d)||isNaN(e)||(this.I&&(d=-d),c.moveBy(d+50,e+50))}finally{h.h.enable()}h.h.isEnabled()&&h.Uv.HJ(c);c.select()}else{h.h.disable();try{var f=h.K.Fj(a,this),g=parseInt(a.getAttribute("x"),10),k=parseInt(a.getAttribute("y"),10);if(!isNaN(g)&&
!isNaN(k)){this.I&&(g=-g);do{a=!1;var l=C(this,!1);c=0;for(var m;m=l[c];c++){var n=m.$a();if(1>=Math.abs(g-n.x)&&1>=Math.abs(k-n.y)){a=!0;break}}if(!a){var q=f.oe(!1);c=0;for(var p;p=q[c];c++)if(p.closest(h.oc,new h.g.T(g,k)).connection){a=!0;break}}a&&(g=this.I?g-h.oc:g+h.oc,k+=2*h.oc)}while(a);f.moveBy(g,k)}}finally{h.h.enable()}h.h.isEnabled()&&!f.Ma&&h.h.Ha(new (h.h.get(h.h.xh))(f));f.select()}};function Mc(a){(a=a.Sf?a.Ea:a)&&!a.tc&&a.pb&&Bc(a.pb)&&a.pb.iK()}
b.Fi=function(a,c){h.dc.v.Fi.call(this,a,c);Mc(this)};b.Cj=function(a){h.dc.v.Cj.call(this,a);Mc(this)};b.ke=function(a,c,d){a=h.dc.v.ke.call(this,a,c,d);Mc(this);return a};function Nc(a){var c=sa(a.Hf,h.Fb.Tb.Op);a.Hr=[];for(var d=0,e;e=c[d];d++){var f=e.Xw();f&&a.Hr.push({bl:e,kC:f})}}function Da(a,c){for(var d=0,e;e=a.Hr[d];d++)if(e.kC.contains(c.clientX,c.clientY))return e.bl;return null}b.bh=function(a){var c=this.Kg(a);c&&Bb(c,a,this)};
b.zm=function(a,c){a=h.g.cm(a,t(this),Va(this));a.x/=this.scale;a.y/=this.scale;this.Mw=h.g.T.ql(c,a)};b.bd=function(){return null!=this.tc&&this.tc.bd()};b.wc=function(){return this.options.yc&&!!this.options.yc.scrollbars||this.options.yc&&this.options.yc.mk||this.options.yc&&this.options.yc.Mf||this.options.zb&&this.options.zb.mk||this.options.zb&&this.options.zb.ty};function rb(a){var c=!!a.Ua;return a.wc()&&(!c||c&&!!a.Ua.jb)}function sb(a){var c=!!a.Ua;return a.wc()&&(!c||c&&!!a.Ua.Va)}
b.rE=function(a){if(h.Ie.ki())a.preventDefault(),a.stopPropagation();else{var c=this.options.zb&&this.options.zb.mk,d=this.options.yc&&this.options.yc.mk;if(c||d){var e=h.g.kx(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=h.g.cm(a,t(this),Va(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function ea(a){a=[].concat(a.Im);if(!a.length)return new h.g.Rect(0,0,0,0);for(var c=a[0].Bl(),d=1;d<a.length;d++){var e=a[d];e.sd&&e.sd()||(e=e.Bl(),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}return c}b.vm=function(a){if(!this.options.readOnly&&!this.Sf){var c=hc(h.Fa.Hc.Wc,{B:this});this.oC&&this.oC(c,a);h.Sa.show(a,c,this.I)}};
function ba(a){if(a.options.ed)ba(a.options.ed);else{h.Vl=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{t(a).focus({preventScroll:!0})}catch(c){try{t(a).parentNode.setActive()}catch(d){t(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.zb.$E,d);var e=this.scale*d;if(this.scale!=e){e>this.options.zb.Zl?d=this.options.zb.Zl/this.scale:e<this.options.zb.bm&&(d=this.options.zb.bm/this.scale);var f=this.xb.getCTM(),g=t(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.zb.Zl&&a>this.options.zb.Zl?a=this.options.zb.Zl:this.options.zb.bm&&a<this.options.zb.bm&&(a=this.options.zb.bm);this.scale=a;h.ic(!1);this.za&&(this.za.xt(),Nc(this));this.Jd&&this.Jd.update(this.scale);a=this.pe();this.scrollX-=a.Ic;this.scrollY-=a.Xc;a.Wd+=a.Ic;a.Xd+=a.Xc;this.scroll(this.scrollX,this.scrollY);if(this.Ua)if(this.za){var c=this.Ua;c.jb&&Qa(c.jb,a);c.Va&&Sa(c.Va,a)}else c=this.Ua,c.jb&&Ra(c.jb,a),c.Va&&Ta(c.Va,a)};
b.scroll=function(a,c){h.ic(!0);var d=this.pe();a=Math.min(a,-d.scrollLeft);c=Math.min(c,-d.scrollTop);var e=d.scrollTop+Math.max(0,d.scrollHeight-d.Qc);a=Math.max(a,-(d.scrollLeft+Math.max(0,d.scrollWidth-d.Bc)));c=Math.max(c,-e);this.scrollX=a;this.scrollY=c;this.Ua&&this.Ua.set(-(a+d.scrollLeft),-(c+d.scrollTop),!1);a+=d.Ic;c+=d.Xc;this.translate(a,c)};
h.dc.fF=function(a){var c=this.pe();"number"==typeof a.x&&(this.scrollX=-(c.scrollLeft+(c.scrollWidth-c.Bc)*a.x));"number"==typeof a.y&&(this.scrollY=-(c.scrollTop+(c.scrollHeight-c.Qc)*a.y));this.translate(this.scrollX+c.Ic,this.scrollY+c.Xc)};b=h.dc.prototype;b.Lc=function(a){return h.dc.v.Lc.call(this,a)};b.vb=function(a){return h.dc.v.vb.call(this,a)};b.Kn=function(a){this.Im.push(a);h.dc.v.Kn.call(this,a)};b.jp=function(a){h.g.Xk(this.Im,a);h.dc.v.jp.call(this,a)};
b.ac=function(a){var c=!this.It&&a;this.It=a;c&&ia(this)};b.clear=function(){this.ac(!1);h.dc.v.clear.call(this);this.Im=[];this.ac(!0)};function Qc(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.Rw.CREATE_VARIABLE=c}function Kc(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.cu[c]=d}
b.Kg=function(a){var c="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.tc;return d?c&&d.ei?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:c?this.tc=new h.Vc(a,this):null};function vc(a){a.tc&&a.tc.cancel()};h.Gh=function(a){h.Gh.v.constructor.call(this);a.sm=this.eF.bind(this);var c=this.m=new h.dc(a),d=new h.Dk(this.m,this);c.dd=d;c.pe=c.dd.pe.bind(c.dd);this.m.Sf=!0;this.m.Jb(this.Uf);this.id=h.g.Xe();this.I=!!a.I;this.Kd=!1;this.qh=a.Pc;this.Pr=[];this.Qo=[];this.Yk=[];this.Nc=[];this.tt=[];this.jk=this.m.ob.ka().En;this.Ea=null};h.g.object.V(h.Gh,h.hn);b=h.Gh.prototype;b.Qh=!0;b.Uf=!1;b.Vh=!0;b.qb=8;b.Ih=h.Gh.prototype.qb;b.nA=3*h.Gh.prototype.Ih;b.oA=3*h.Gh.prototype.Ih;b.mB=2.5;b.kb=0;b.vc=0;
b.KC=70;b.Wa=function(a){this.O=h.g.j.J(a,{"class":"blocklyFlyout",style:"display: none"},null);this.kc=h.g.j.J(h.g.D.Ke,{"class":"blocklyFlyoutBackground"},this.O);this.O.appendChild(this.m.Wa());this.m.mc.subscribe(this.kc,"flyoutBackgroundColour","fill");this.m.mc.subscribe(this.kc,"flyoutOpacity","fill-opacity");return this.O};
b.Ca=function(a){this.Ea=a;this.m.Ea=a;this.m.Ua=new h.wq(this.m,this.Kd,!this.Kd,"blocklyFlyoutScrollbar",this.mB);this.ab();Array.prototype.push.apply(this.Pr,h.N.Ba(this.O,"wheel",this,this.EF));this.Qh||(this.po=this.Qr.bind(this),D(this.Ea,this.po));Array.prototype.push.apply(this.Pr,h.N.Ba(this.kc,"mousedown",this,this.bh));this.m.Kg=this.Ea.Kg.bind(this.Ea);this.m.St(this.Ea.Pa);var c=this.m;c.$j=new h.Fq(c);pa(a.Hf,{bl:this,weight:1,Cg:[h.Fb.Tb.Lp,h.Fb.Tb.Op]})};
b.H=function(){this.ab();qa(this.m.Hf,this.id);h.N.yb(this.Pr);this.po&&(jb(this.Ea,this.po),this.po=null);this.m&&(this.m.mc.unsubscribe(this.kc),this.m.Ea=null,this.m.H(),this.m=null);this.O&&(h.g.j.removeNode(this.O),this.O=null);this.Ea=this.kc=null};b.Hl=function(){return this.kb};b.isVisible=function(){return this.Uf};b.Jb=function(a){var c=a!=this.isVisible();this.Uf=a;c&&(this.Qh||Nc(this.m),this.Mm())};b.Ii=function(a){var c=a!=this.Vh;this.Vh=a;c&&this.Mm()};
b.Mm=function(){var a=this.Vh?this.isVisible():!1;this.O.style.display=a?"block":"none";this.m.Ua.Ii(a)};b.ab=function(){if(this.isVisible()){this.Jb(!1);for(var a=0,c;c=this.Nc[a];a++)h.N.yb(c);this.Nc.length=0;this.jh&&(jb(this.m,this.jh),this.jh=null)}};
b.show=function(a){this.m.ac(!1);this.ab();Rc(this);"string"==typeof a&&(a=Sc(this,a));this.Jb(!0);a=h.g.W.yw(a);a=Tc(this,a);Uc(this,a.sC,a.XC);this.Nc.push(h.N.Ba(this.kc,"mouseover",this,function(){for(var c=this.m.vb(!1),d=0,e;e=c[d];d++)e.om()}));this.Kd?this.vc=0:this.kb=0;this.m.ac(!0);this.xt();this.Qr();this.position();this.jh=this.xt.bind(this);D(this.m,this.jh)};
function Tc(a,c){var d=[],e=[];a.tt.length=0;for(var f=a.Kd?a.nA:a.oA,g=0,k;k=c[g];g++){if(k.custom){var l=Sc(a,k.custom);l=h.g.W.yw(l);c.splice.apply(c,[g,1].concat(l));k=c[g]}switch(k.kind.toUpperCase()){case "BLOCK":l=k;var m=l;k=null;var n=m.blockxml;n&&"string"!=typeof n?k=n:n&&"string"==typeof n?(k=h.K.ze(n),m.blockxml=k):m.type&&(k=h.g.xml.createElement("xml"),k.setAttribute("type",m.type),k.setAttribute("disabled",m.disabled),m.blockxml=k);if(!k)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");
m=k;k=a;n=h.K.Fj(m,k.m);n.isEnabled()||k.tt.push(n);k=n;l=parseInt(l.gap||m.getAttribute("gap"),10);e.push(isNaN(l)?f:l);d.push({type:"block",block:k});break;case "SEP":l=e;m=f;k=parseInt(k.gap,10);!isNaN(k)&&0<l.length?l[l.length-1]=k:l.push(m);break;case "LABEL":l=Vc(a,k,!0);d.push({type:"button",button:l});e.push(f);break;case "BUTTON":l=Vc(a,k,!1),d.push({type:"button",button:l}),e.push(f)}}return{sC:d,XC:e}}
function Sc(a,c){c=a.m.Ea.cu[c]||null;if("function"!=typeof c)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=c(a.m.Ea);if(!Array.isArray(a))throw new TypeError("Result of toolbox category callback must be an array.");return a}function Vc(a,c,d){if(!h.mA)throw Error("Missing require for Blockly.FlyoutButton");return new h.mA(a.m,a.Ea,c,d)}
function Rc(a){for(var c=a.m.vb(!1),d=0,e;e=c[d];d++)e.B==a.m&&e.H(!1,!1);for(d=0;d<a.Qo.length;d++)if(c=a.Qo[d])h.G.gu(c),h.g.j.removeNode(c);for(d=a.Qo.length=0;c=a.Yk[d];d++)c.H();a.Yk.length=0;a.m.$j.clear()}function Wc(a,c){return function(d){var e=a.Ea.Kg(d);e&&(Db(e,c),Cb(e,d,a))}}b.bh=function(a){var c=this.Ea.Kg(a);c&&Cb(c,a,this)};
function xb(a,c){var d=null;h.h.disable();var e=a.Ea.$h();a.Ea.ac(!1);try{var f=a.Ea;if(!c.pa())throw Error("oldBlock is not rendered.");var g=h.K.Df(c,!0);f.ac(!1);var k=h.K.Fj(g,f);if(!k.pa())throw Error("block is not rendered.");var l=h.g.Fl(f.xb),m=h.g.Fl(a.m.xb),n=c.$a();n.scale(a.m.scale);var q=h.g.T.sum(m,n),p=h.g.T.ql(q,l);p.scale(1/f.scale);k.moveBy(p.x,p.y);d=k}finally{h.h.enable()}h.ic();c=h.na.Vw(a.Ea,e);if(h.h.isEnabled()){h.h.ua(!0);for(e=0;e<c.length;e++)f=c[e],h.h.Ha(new (h.h.get(h.h.Rk))(f));
h.h.Ha(new (h.h.get(h.h.xh))(d))}a.Qh?a.ab():a.Qr();return d}b.Qr=function(){for(var a=this.m.vb(!1),c=0,d;d=a[c];c++)if(-1==this.tt.indexOf(d))for(var e=gb(this.Ea,h.g.Wr(d));d;)d.jf(e),d=w(d)};
b.xt=function(){this.jh&&jb(this.m,this.jh);this.m.scale=this.Ea.scale;for(var a=0,c=this.m.vb(!1),d=0,e;e=c[d];d++){var f=r(e).width;e.S&&(f-=this.jk);a=Math.max(a,f)}for(d=0;e=this.Yk[d];d++)a=Math.max(a,e.width);a+=1.5*this.Ih+this.jk;a*=this.m.scale;a+=h.La.jc;if(this.kb!=a){for(d=0;e=c[d];d++){if(this.I){f=e.$a().x;var g=a/this.m.scale-this.Ih;e.S||(g-=this.jk);e.moveBy(g-f,0)}e.Sw&&(f=e.Sw,g=e,e=r(g),f.setAttribute("width",e.width),f.setAttribute("height",e.height),g=g.$a(),f.setAttribute("y",
g.y),f.setAttribute("x",this.I?g.x-e.width:g.x))}if(this.I)for(d=0;e=this.Yk[d];d++)c=e.QJ().y,e.moveTo(a/this.m.scale-e.width-this.Ih-this.jk,c);this.Ea.Pc!=this.qh||this.qh!=h.g.W.Qa.Hb||this.Ea.pb||this.Ea.translate(this.Ea.scrollX+a,this.Ea.scrollY);this.kb=a;this.position();Nc(this.Ea)}this.jh&&D(this.m,this.jh)};function vb(a){return a.m.Ua?a.m.Ua.isVisible():!1};h.Tk=function(a){h.Tk.v.constructor.call(this,a)};h.g.object.V(h.Tk,h.Gh);h.Tk.lK="verticalFlyout";b=h.Tk.prototype;b.eF=function(a){if(this.isVisible()){var c=this.m.dd,d=c.ci(),e=ob(c);c=Dc(c);"number"==typeof a.y&&(this.m.scrollY=-(d.top+(d.height-e.height)*a.y));this.m.translate(this.m.scrollX+c.left,this.m.scrollY+c.top)}};
b.position=function(){if(this.isVisible()&&this.Ea.isVisible()){var a=ob(this.Ea.dd);this.vc=a.height;var c=this.kb-this.qb;a=a.height-2*this.qb;var d=this.qh==h.g.W.Qa.Gc,e=c+this.qb;e=["M "+(d?e:0)+",0"];e.push("h",d?-c:c);e.push("a",this.qb,this.qb,0,0,d?0:1,d?-this.qb:this.qb,this.qb);e.push("v",Math.max(0,a));e.push("a",this.qb,this.qb,0,0,d?0:1,d?this.qb:-this.qb,this.qb);e.push("h",d?c:-c);e.push("z");this.kc.setAttribute("d",e.join(" "));this.isVisible()?(d=this.Ea.dd,c=Dc(d),a=ob(d),d=Cc(d),
d=this.Ea.Pc==this.qh?this.Ea.pb?this.qh==h.g.W.Qa.Hb?d.width:a.width-this.kb:this.qh==h.g.W.Qa.Hb?0:a.width:this.qh==h.g.W.Qa.Hb?0:a.width+c.left-this.kb):d=0;c=this.kb;a=this.vc;this.O.setAttribute("width",c);this.O.setAttribute("height",a);Oc(this.m,c,a);"svg"==this.O.tagName?h.g.j.rm(this.O,"translate("+d+"px,0px)"):this.O.setAttribute("transform","translate("+d+",0)");if(c=this.m.Ua)c.lp(d,0),c.resize(),c.jb&&c.jb.setPosition(c.jb.position.x,c.jb.position.y),c.Va&&c.Va.setPosition(c.Va.position.x,
c.Va.position.y)}};b.Iy=function(){var a=this.m.Ua;a.Va&&a.Va.set(0,!0)};b.EF=function(a){var c=h.g.kx(a);if(c.y){var d=this.m.dd,e=d.ci();c=ob(d).top-e.top+c.y;d=this.m.Ua;d.Va&&d.Va.set(c,!0);h.Z.ab();h.C.wo()}a.preventDefault();a.stopPropagation()};
function Uc(a,c,d){a.m.scale=a.Ea.scale;for(var e=a.Ih,f=a.I?e:e+a.jk,g=0,k;k=c[g];g++)if("block"==k.type){k=k.block;for(var l=v(k,!1),m=0,n;n=l[m];m++)n.cd=!0;k.Ka();n=k.pa();l=r(k);m=k.S?f-a.jk:f;k.moveBy(m,e);var q=a,p=k,u=g;m=h.g.j.J(h.g.D.Mb,{"fill-opacity":0,x:a.I?m-l.width:m,y:e,height:l.height,width:l.width},null);m.Vd=p;h.G.sj(m);q.m.xb.insertBefore(m,p.pa());p.Sw=m;q.Qo[u]=m;q=a;q.Nc.push(h.N.Ba(n,"mousedown",null,Wc(q,k)));q.Nc.push(h.N.Ba(m,"mousedown",null,Wc(q,k)));q.Nc.push(h.N.bind(n,
"mouseenter",k,k.Jn));q.Nc.push(h.N.bind(n,"mouseleave",k,k.om));q.Nc.push(h.N.bind(m,"mouseenter",k,k.Jn));q.Nc.push(h.N.bind(m,"mouseleave",k,k.om));e+=l.height+d[g]}else"button"==k.type&&(l=a,m=k.button,n=f,q=e,p=m.Wa(),m.moveTo(n,q),m.show(),l.Nc.push(h.N.Ba(p,"mousedown",l,l.bh)),l.Yk.push(m),e+=k.button.height+d[g])}
b.Xw=function(){if(!this.O||this.Qh||!this.isVisible())return null;var a=this.O.getBoundingClientRect(),c=a.left;return this.qh==h.g.W.Qa.Hb?new h.g.Rect(-1E9,1E9,-1E9,c+a.width):new h.g.Rect(-1E9,1E9,c,1E9)};h.u.register(h.u.R.Tp,h.u.Zi,h.Tk);h.h.Ck=function(a){this.rd="undefined"==typeof a;this.Yb=a?a.id:"";this.group=h.h.Wb();this.Oa=!1};h.g.object.V(h.h.Ck,h.h.Abstract);h.h.Ck.prototype.type=h.h.Sp;h.h.Ck.prototype.ra=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Yb&&(a.workspaceId=this.Yb);return a};h.h.Ck.prototype.ba=function(a){this.rd=!1;this.Yb=a.workspaceId;this.group=a.group};h.u.register(h.u.R.Gb,h.h.Sp,h.h.Ck);h.yu=function(a){this.hl=a;this.Wa()};b=h.yu.prototype;b.gb=null;b.Ve=null;b.hl=null;b.lh=1;b.Em=null;b.kw=new h.g.T(0,0);b.Wa=function(){this.gb||(this.gb=h.g.j.J(h.g.D.jj,{xmlns:h.g.j.Cn,"xmlns:html":h.g.j.Up,"xmlns:xlink":h.g.j.ld,version:"1.1","class":"blocklyBlockDragSurface"},this.hl),this.Ve=h.g.j.J(h.g.D.Sc,{},this.gb))};function Ca(a,c){if(a.Ve.childNodes.length)throw Error("Already dragging a block.");a.Ve.appendChild(c);a.gb.style.display="block";a.Em=new h.g.T(0,0)}
b.Oi=function(a,c){this.Em=new h.g.T(a*this.lh,c*this.lh);a=this.Em.x;c=this.Em.y;a=a.toFixed(0);c=c.toFixed(0);this.gb.style.display="block";h.g.j.rm(this.gb,"translate3d("+a+"px, "+c+"px, 0px)")};b.js=function(){var a=h.g.qe(this.gb);return new h.g.T(a.x/this.lh,a.y/this.lh)};b.Wb=function(){return this.Ve};b.pa=function(){return this.gb};
b.Rn=function(a){a?a.appendChild(this.Ve.firstChild):this.Ve.removeChild(this.Ve.firstChild);this.gb.style.display="none";if(this.Ve.childNodes.length)throw Error("Drag group was not cleared.");this.Em=null};h.Zd={};h.Zd.vs=!1;h.Zd.register=function(a){if(h.Zd.vs)throw Error("CSS already injected");Array.prototype.push.apply(h.Zd.Ip,a);a.length=0};h.Zd.Rg=function(a,c){if(!h.Zd.vs){h.Zd.vs=!0;var d=h.Zd.Ip.join("\n");h.Zd.Ip.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};
h.Zd.Ip=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];h.Rg=function(a,c){h.dC();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!h.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new h.jd(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;h.g.Ab.np(d,h.g.Ab.State.EA,h.M.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=h.jl(d,c);var e=new h.yu(d),f=new h.Vv(d),g=h.vC(a,c,e,f);h.HD(g);h.Vl=g;h.Gm(g);d.addEventListener("focusin",function(){h.Vl=g});return g};
h.jl=function(a,c){a.setAttribute("dir","LTR");h.Zd.Rg(c.zD,c.hp);a=h.g.j.J(h.g.D.jj,{xmlns:h.g.j.Cn,"xmlns:html":h.g.j.Up,"xmlns:xlink":h.g.j.ld,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=h.g.j.J(h.g.D.Hu,{},a);c.ns=h.Hh.Wa(String(Math.random()).substring(2),c.qx,d);return a};
h.vC=function(a,c,d,e){c.ed=null;c=new h.dc(c,d,e);d=c.options;c.scale=d.zb.nF;a.appendChild(c.Wa("blocklyMainBackground"));h.g.j.Nb(ca(c),c.ob.ne());h.g.j.Nb(ca(c),c.Qf().ne());if(!d.Jl&&d.si){e=h.g.D.jj;var f=new h.jd({parentWorkspace:c,rtl:c.I,oneBasedIndex:c.options.bp,horizontalLayout:c.Kd,renderer:c.options.Ft,rendererOverrides:c.options.Gt,move:{scrollbars:!0}});f.Pc=c.options.Pc;c.za=c.Kd?new (h.u.Of(h.u.R.Pu,c.options,!0))(f):new (h.u.Of(h.u.R.Tp,c.options,!0))(f);c.za.Qh=!1;c.za.m.Jb(!0);
e=c.za.Wa(e);h.g.j.Qj(e,a)}if(d.vx){if(!h.Vb)throw Error("Missing require for Blockly.Trashcan");c.kk=new h.Vb(c);e=c.kk.Wa();c.O.insertBefore(e,c.xb)}if(d.zb&&d.zb.controls){if(!h.GB)throw Error("Missing require for Blockly.ZoomControls");c.Rm=new h.GB(c);d=c.Rm.Wa();c.O.appendChild(d)}c.mc.subscribe(a,"workspaceBackgroundColour","background-color");c.translate(0,0);D(c,h.YB(c));h.Gm(c);h.Z.Wa();h.C.Wa();h.G.Wa();return c};
h.QC=function(a,c){var d=null;switch(c.type){case h.h.xh:case h.h.yh:(d=a.Lc(c.hb))&&(d=d.re());break;case h.h.cn:case h.h.vk:d=a.Vn[c.Pe]||null}return d};h.fw=function(a){var c=a.dd;if(!(rb(c.m)&&sb(c.m)||a.bd())){c=c.ci(!0);for(var d=[].concat(a.Im),e=0,f;f=d[e];e++)h.Uq(a,c,f)}};
h.YB=function(a){return function(c){var d=a.dd;if(!(rb(d.m)&&sb(d.m)||a.bd()))if(-1!==h.h.yz.indexOf(c.type)){d=d.ci(!0);var e=h.QC(a,c);if(e){var f=h.h.Wb();h.h.ua(c.group);h.Uq(a,d,e)&&!c.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==f&&h.h.ua(f)}}else c.type===h.h.Sk&&c.scale>c.em&&h.fw(a)}};
h.Uq=function(a,c,d){var e=d.Bl(),f=h.g.Md.al(c.top,e.top,c.top+c.height-(e.bottom-e.top))-e.top,g=c.left;c=c.left+c.width-(e.right-e.left);a.I?g=Math.min(c,g):c=Math.max(g,c);return(a=h.g.Md.al(g,e.left,c)-e.left)||f?(d.moveBy(a,f),!0):!1};
h.HD=function(a){var c=a.options,d=t(a);h.N.Ba(d.parentNode,"contextmenu",null,function(f){h.g.Ho(f)||f.preventDefault()});d=h.N.Ba(window,"resize",null,function(){h.ic(!0);h.Gm(a);h.fw(a)});a.kp=d;h.Rg.SB();if(c.si){d=a.pb;var e=Bc(a,!0);d?d.Ca():e&&(e.Ca(a),e.show(c.si),"function"==typeof e.Iy&&e.Iy())}c.vx&&a.kk.Ca();c.zb&&c.zb.controls&&a.Rm.Ca();c.yc&&c.yc.scrollbars?(a.Ua=new h.wq(a,!0===c.yc.scrollbars||!!c.yc.scrollbars.Nl,!0===c.yc.scrollbars||!!c.yc.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),
a.Ua.resize()):a.sm({x:.5,y:.5});c.BD&&h.Rg.TD(c.hp,a)};h.Rg.SB=function(){h.HC||(h.N.Ba(document,"scroll",null,function(){for(var a=h.rb.getAll(),c=0,d;d=a[c];c++)d.Nm&&d.Nm()}),h.N.Ba(document,"keydown",null,h.et),h.N.bind(document,"touchend",null,h.Yg),h.N.bind(document,"touchcancel",null,h.Yg),h.g.userAgent.Fk&&h.N.Ba(window,"orientationchange",document,function(){h.Gm(h.Lg())}));h.HC=!0};
h.Rg.TD=function(a,c){function d(){for(;f.length;)h.N.yb(f.pop());e.preload()}var e=c.Yc;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(h.N.Ba(document,"mousemove",null,d,!0));f.push(h.N.Ba(document,"touchstart",null,d,!0))};h.Bd=function(a,c){this.dz=c||"";this.Fy=Object.create(null);if(a)for(a=a.split(","),c=0;c<a.length;c++)this.Fy[a[c]]=!0;this.reset()};h.Bd.Mp="DEVELOPER_VARIABLE";h.Bd.prototype.reset=function(){this.Te=Object.create(null);this.Dw=Object.create(null);this.Pa=null};h.Bd.prototype.St=function(a){this.Pa=a};
function Xc(a,c,d){var e=c;d==h.Ph&&(a.Pa?c=(c=a.Pa.Ng(c))?c.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),c=null),c&&(e=c));c=e.toLowerCase();var f=d==h.Ph||d==h.Bd.Mp?a.dz:"";d in a.Te||(a.Te[d]=Object.create(null));var g=a.Te[d];if(c in g)return f+g[c];e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,
"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e=h.M.UNNAMED_KEY||"unnamed";for(var k="";a.Dw[e+k]||e+k in a.Fy;)k=k?k+1:2;e+=k;a.Dw[e]=!0;a=(d==h.Ph||d==h.Bd.Mp?a.dz:"")+e;g[c]=a.substr(f.length);return a}h.Bd.Nf=function(a,c){return a.toLowerCase()==c.toLowerCase()};h.Ta={};h.Ta.RA=h.lq;h.Ta.Kz="x";h.Ta.bw=function(a){var c=eb(a,"procedures_defnoreturn").map(function(d){return d.Jj()});a=eb(a,"procedures_defreturn").map(function(d){return d.Jj()});c.sort(h.Ta.By);a.sort(h.Ta.By);return[c,a]};h.Ta.By=function(a,c){return a[0].localeCompare(c[0],void 0,{sensitivity:"base"})};h.Ta.SC=function(a,c){if(c.cd)return a;for(a=a||h.M.UNNAMED_KEY||"unnamed";!h.Ta.MD(a,c.B,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
h.Ta.MD=function(a,c,d){return!h.Ta.OD(a,c,d)};h.Ta.OD=function(a,c,d){c=C(c,!1);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].Jj){var f=c[e].Jj();if(h.Bd.Nf(f[0],a))return!0}return!1};h.Ta.nK=function(a){a=a.trim();var c=h.Ta.SC(a,this.$()),d=this.getValue();if(d!=a&&d!=c){a=C(this.$().B,!1);for(var e=0;e<a.length;e++)a[e].UE&&a[e].UE(d,c)}return c};
h.Ta.Zh=function(a){function c(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],n=g[l][1],q=h.g.xml.createElement("block");q.setAttribute("type",k);q.setAttribute("gap",16);var p=h.g.xml.createElement("mutation");p.setAttribute("name",m);q.appendChild(p);for(m=0;m<n.length;m++){var u=h.g.xml.createElement("arg");u.setAttribute("name",n[m]);p.appendChild(u)}d.push(q)}}var d=[];if(h.nc.procedures_defnoreturn){var e=h.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=h.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(h.g.xml.createTextNode(h.M.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}h.nc.procedures_defreturn&&(e=h.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=h.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(h.g.xml.createTextNode(h.M.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));h.nc.procedures_ifreturn&&(e=h.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=h.Ta.bw(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
h.Ta.Zy=function(a){for(var c=[],d=eb(a,"procedures_mutatorarg"),e=0,f;f=d[e];e++)c.push(cb(f,"NAME"));d=h.g.xml.createElement("xml");e=h.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=h.g.xml.createElement("field");f.setAttribute("name","NAME");c=h.g.xml.createTextNode(h.na.Uw(h.Ta.Kz,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);if(c=h.g.W.zw(d)){if(!a.options.si)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(h.g.W.Jl(c)){if(!a.pb)throw Error("Existing toolbox has no categories.  Can't change mode.");
a.options.si=c;a.pb.Ka(c)}else{if(!a.za)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.si=c;a.za.show(c)}}else if(a.options.si)throw Error("Can't nullify an existing toolbox.");};h.Ta.dE=function(a){if(a.type==h.h.xu&&"mutator"===a.pJ&&a.zs){a=h.rb.Cl(a.Yb).Lc(a.hb);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.ue.m,h.Ta.Zy(a),D(a,h.Ta.cE)}};h.Ta.cE=function(a){a.type!=h.h.xh&&a.type!=h.h.Cp&&a.type!=h.h.wh||h.Ta.Zy(h.rb.Cl(a.Yb))};
h.Ta.aD=function(a,c){var d=[];c=C(c,!1);for(var e=0;e<c.length;e++)if(c[e].mD){var f=c[e].mD();f&&h.Bd.Nf(f,a)&&d.push(c[e])}return d};h.Ta.fK=function(a){var c=h.h.Oa,d=a.Jj()[0],e=a.Od(!0);a=h.Ta.aD(d,a.B);d=0;for(var f;f=a[d];d++){var g=f.Od();g=g&&h.K.Hd(g);f.Lf(e);var k=f.Od();k=k&&h.K.Hd(k);g!=k&&(h.h.Oa=!1,h.h.Ha(new (h.h.get(h.h.wh))(f,"mutation",null,g,k)),h.h.Oa=c)}};h.Ta.MJ=function(a,c){c=C(c,!1);for(var d=0;d<c.length;d++)if(c[d].Jj){var e=c[d].Jj();if(e&&h.Bd.Nf(e[0],a))return c[d]}return null};h.Ub=function(){h.Ub.u=this;this.Sd=Object.create(null);this.Xj=Object.create(null)};h.Ub.To={Shift:h.g.la.zn,Control:h.g.la.Ch,Alt:h.g.la.Ui,Meta:h.g.la.cj};h.Ub.prototype.register=function(a,c){if(this.Sd[a.name]&&!c)throw Error('Shortcut with name "'+a.name+'" already exists.');this.Sd[a.name]=a};
h.Ub.prototype.unregister=function(a){if(!this.Sd[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var c in this.Xj){var d=c,e=this.Xj[d],f=e.indexOf(a);-1<f&&(e.splice(f,1),0==e.length&&delete this.Xj[d])}delete this.Sd[a];return!0};function G(a,c){var d=h.Ub.u;a=String(a);var e=d.Xj[a];if(e)throw Error('Shortcut with name "'+c+'" collides with shortcuts '+e.toString());d.Xj[a]=[c]}
h.Ub.prototype.et=function(a,c){var d="";for(e in h.Ub.To)c.getModifierState(e)&&(""!=d&&(d+="+"),d+=e);""!=d&&c.keyCode?d=d+"+"+c.keyCode:c.keyCode&&(d=c.keyCode.toString());d=this.Xj[d]||[];if(!d)return!1;var e=0;for(var f;f=d[e];e++)if(f=this.Sd[f],(!f.Db||f.Db(a))&&f.ib&&f.ib(a,c,f))return!0;return!1};
function J(a,c){var d="";if(c){for(var e=h.g.object.values(h.Ub.To),f=0,g;g=c[f];f++)if(0>e.indexOf(g))throw Error(g+" is not a valid modifier key.");for(var k in h.Ub.To)-1<c.indexOf(h.Ub.To[k])&&(""!=d&&(d+="+"),d+=k)}""!=d&&a?d=d+"+"+a:a&&(d=a.toString());return d}new h.Ub;h.Hn=function(a,c,d,e){this.B=a;this.name=c;this.type=d||"";this.ED=e||h.g.Xe();h.h.Ha(new (h.h.get(h.h.Rk))(this))};h.Hn.prototype.hc=function(){return this.ED};h.Hn.mC=function(a,c){return a.name.localeCompare(c.name,void 0,{sensitivity:"base"})};h.na={};h.na.RA=h.Ph;h.na.Iq=function(a){var c=C(a,!1);a=Object.create(null);for(var d=0;d<c.length;d++){var e=ka(c[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.hc();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};h.na.ou={};
h.na.IB=function(a){a=C(a,!1);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.NJ;!f&&e.hD&&(f=e.hD,h.na.ou[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),h.na.ou[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
h.na.Zh=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");Qc(a,function(e){h.na.Bw(e.RJ())});c.push(d);a=h.na.VC(a);return c=c.concat(a)};
h.na.VC=function(a){a=a.uo("");var c=[];if(0<a.length){var d=a[a.length-1];if(h.nc.variables_set){var e=h.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",h.nc.math_change?8:24);e.appendChild(h.na.Ur(d));c.push(e)}h.nc.math_change&&(e=h.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",h.nc.variables_get?20:8),e.appendChild(h.na.Ur(d)),d=h.K.ze('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(h.nc.variables_get){a.sort(h.Hn.mC);d=0;for(var f;f=a[d];d++)e=h.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(h.na.Ur(f)),c.push(e)}}return c};h.na.Ov="ijkmnopqrstuvwxyzabcdefgh";h.na.YC=function(a){return h.na.Uw(h.na.Ov.charAt(0),a.Vr())};
h.na.Uw=function(a,c){if(!c.length)return a;for(var d=h.na.Ov,e="",f=d.indexOf(a);;){for(var g=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){g=!0;break}if(!g)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
h.na.Bw=function(a,c,d){function e(g){h.na.Cy(h.M.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=h.na.fE(k,a);if(l){if(l.type==f)var m=h.M.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=h.M.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);h.alert(m,function(){e(k)})}else a.ke(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};h.na.ke=h.na.Bw;
h.na.Dy=function(a,c){function d(e){var f=h.M.RENAME_VARIABLE_TITLE.replace("%1",c.name);h.na.Cy(f,e,function(g){if(g){var k=h.na.gE(g,c.type,a);k?(k=h.M.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),h.alert(k,function(){d(g)})):a.Fi(c.hc(),g)}})}d("")};h.na.Cy=function(a,c,d){h.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==h.M.RENAME_VARIABLE||e==h.M.NEW_VARIABLE)&&(e=null);d(e)})};
h.na.gE=function(a,c,d){d=d.Pa.$h();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};h.na.fE=function(a,c){c=c.Pa.$h();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};h.na.Ur=function(a){var c=h.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.hc());c.setAttribute("variabletype",a.type);a=h.g.xml.createTextNode(a.name);c.appendChild(a);return c};
h.na.PJ=function(a,c,d,e){var f=h.na.Mg(a,c,d,e);f||(f=h.na.wC(a,c,d,e));return f};h.na.Mg=function(a,c,d,e){var f=a.$j,g=null;if(c&&(g=a.Ng(c),!g&&f&&(g=f.Ng(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.Mg(d,e);!g&&f&&(g=f.Mg(d,e))}return g};h.na.wC=function(a,c,d,e){var f=a.$j;d||(d=h.na.YC(a.Sf?a.Ea:a));return f?f.ke(d,e,c):a.ke(d,e,c)};
h.na.Vw=function(a,c){a=a.$h();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};h.VERSION="uncompiled";h.Vl=null;h.selected=null;h.Gj=[];h.wj=null;h.Tn=null;h.er=null;h.sJ=null;h.cp=null;h.DK=function(a){h.g.Dj.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize");return new h.g.Uc(a.aC,a.$B)};h.pK=function(a){ia(a)};
h.Gm=function(a){for(;a.options.ed;)a=a.options.ed;var c=t(a),d=Ec(a),e=c.parentNode;if(e){var f=e.offsetWidth;e=e.offsetHeight;d.width!=f&&(c.setAttribute("width",f+"px"),Oc(a,f,null));d.height!=e&&(c.setAttribute("height",e+"px"),Oc(a,null,e));a.resize()}};h.et=function(a){var c=h.Vl;!c||h.g.Ho(a)||c.va&&!c.isVisible()||h.Ub.u.et(c,a)};h.rr=function(a){a.B.Sf||(h.h.ua(!0),h.ic(),a.S?a.H(!1,!0):a.H(!0,!0),h.h.ua(!1))};
h.kr=function(a){if(a.Uj)a=null;else{var c=h.K.Df(a,!0);h.K.CC(c);var d=a.$a();c.setAttribute("x",a.I?-d.x:d.x);c.setAttribute("y",d.y);a={xml:c,source:a.B,zF:h.g.Wr(a,!0)}}a&&(h.wj=a.xml,h.Tn=a.source,h.er=a.zF)};h.fp=function(){if(!h.wj)return!1;var a=h.Tn;a.Sf&&(a=a.Ea);return h.er&&gb(a,h.er)?(h.h.ua(!0),a.fp(h.wj),h.h.ua(!1),!0):!1};h.duplicate=function(a){var c=h.wj,d=h.Tn;h.kr(a);a.B.fp(h.wj);h.wj=c;h.Tn=d};h.gK=function(a){h.g.Ho(a)||a.preventDefault()};
h.ic=function(a){h.G.ab();h.Z.ab();h.C.wo();var c=!!a;sa(h.Lg().Hf,h.Fb.Tb.tu).forEach(function(d){!c&&d.pd&&d.pd&&d.pd.isVisible()&&(d.pd.ab(),yc(d,!1))})};h.Lg=function(){return h.Vl};h.alert=function(a,c){alert(a);c&&c()};h.confirm=function(a,c){c(confirm(a))};h.prompt=function(a,c,d){d(prompt(a,c))};h.RD=function(a){return function(){cc(this,a)}};
h.EJ=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(h.nc[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),h.nc[e]={Ca:h.RD(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};h.PD=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};h.UJ=function(a){return h.g.tb.Cx(a)};
h.dC=function(){h.qc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);h.qc("LOGIC_HUE",["Constants","Logic","HUE"],210);h.qc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);h.qc("LOOPS_HUE",["Constants","Loops","HUE"],120);h.qc("MATH_HUE",["Blocks","math","HUE"],void 0);h.qc("MATH_HUE",["Constants","Math","HUE"],230);h.qc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);h.qc("TEXTS_HUE",["Constants","Text","HUE"],160);h.qc("LISTS_HUE",["Blocks","lists","HUE"],void 0);h.qc("LISTS_HUE",["Constants","Lists","HUE"],
260);h.qc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);h.qc("COLOUR_HUE",["Constants","Colour","HUE"],20);h.qc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);h.qc("VARIABLES_HUE",["Constants","Variables","HUE"],330);h.qc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);h.qc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
h.qc=function(a,c,d){for(var e="Blockly",f=h,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};h.xK=function(a){h.cp=a};h.Rh=h.N.bind;h.vp=h.N.yb;h.oJ=h.N.Ba;h.JF=h.lb.Yd.Hb;h.IF=h.lb.Yd.Zm;h.KF=h.lb.Yd.Gc;h.Zb=h.X.Zb;h.Tc=h.X.Tc;h.$b=h.X.$b;h.kd=h.X.kd;h.hG=h.Ia.Ge;h.YI=h.g.W.Qa.ee;h.VI=h.g.W.Qa.eg;h.WI=h.g.W.Qa.Hb;h.XI=h.g.W.Qa.Gc;var Yc={am:"\u12a0\u121b\u122d\u129b",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",ca:"Catal\u00e0",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",
fi:"Suomi",fo:"F\u00f8royskt",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hr:"Hrvatski",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",kn:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",
nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438","sr-latn":"Srpski",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",
ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},Zc="ace ar fa he mzn ps ur".split(" "),K=window.BlocklyGamesLang,$c=window.BlocklyGamesLanguages,ad=/\.html$/.test(window.location.pathname);
function bd(a){try{if(0!=a.lineno||0!=a.colno){var c=Date.now();if(!(bd.Nx+1E4>c)){bd.Nx=c;var d=new XMLHttpRequest,e="error="+encodeURIComponent(a.message+" "+a.filename+" "+a.lineno+":"+a.colno)+"&amp;url="+encodeURIComponent(window.location);d.open("POST","/errorReporter");d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.send(e);console.log("Error reported.")}}}catch(f){console.log(a.error)}}bd.Nx=0;ad||window.addEventListener("error",bd);
function cd(a,c,d){var e=Math,f=e.floor,g=Number;a=(a=window.location.search.match(new RegExp("[?&]"+a+"=([^&]+)")))?decodeURIComponent(a[1].replace(/\+/g,"%20")):"NaN";e=f.call(e,g(a));return isNaN(e)?c:h.g.Md.al(c,e,d)}function dd(){return-1!=Zc.indexOf(K)}var M=cd("level",1,10);
function ed(){document.title=document.getElementById("title").textContent;document.dir=dd()?"rtl":"ltr";document.head.parentElement.setAttribute("lang",K);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<$c.length;d++){var e=$c[d];c.push([Yc[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==K&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}for(d=1;10>=
d;d++)a=document.getElementById("level"+d),c=!!fd(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(gd,1)}function fd(a){var c=hd;try{var d=window.localStorage[c+a]}catch(e){}return d}function N(a){var c;(c=document.getElementById(a))?(c=c.textContent,c=c.replace(/\\n/g,"\n")):c=null;return null===c?"[Unknown message: "+a+"]":c}
function id(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",function(d){d.preventDefault();c(d)},!0)}
function gd(){if(!ad){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};h.oa={};h.oa.Bt=function(){h.Fa.u.register({Kc:function(){return h.M.UNDO},Db:function(a){return 0<a.B.Pi.length?"enabled":"disabled"},ib:function(a){ib(a.B,!1)},ud:h.Fa.Hc.Wc,id:"undoWorkspace",weight:1})};h.oa.At=function(){h.Fa.u.register({Kc:function(){return h.M.REDO},Db:function(a){return 0<a.B.nm.length?"enabled":"disabled"},ib:function(a){ib(a.B,!0)},ud:h.Fa.Hc.Wc,id:"redoWorkspace",weight:2})};
h.oa.CE=function(){h.Fa.u.register({Kc:function(){return h.M.CLEAN_UP},Db:function(a){return a.B.wc()?1<a.B.vb(!1).length?"enabled":"disabled":"hidden"},ib:function(a){a=a.B;a.ac(!1);h.h.ua(!0);for(var c=a.vb(!0),d=0,e=0,f;f=c[e];e++)if(f.wc()){var g=f.$a();f.moveBy(-g.x,d-g.y);tc(f);d=f.$a().y+r(f).height+a.ob.ka().Jk}h.h.ua(!1);a.ac(!0)},ud:h.Fa.Hc.Wc,id:"cleanWorkspace",weight:3})};h.oa.Vy=function(a,c){for(var d=0,e=0;e<c.length;e++)for(var f=c[e];f;)setTimeout(f.Hi.bind(f,a),d),f=w(f),d+=10};
h.oa.DE=function(){h.Fa.u.register({Kc:function(){return h.M.COLLAPSE_ALL},Db:function(a){if(a.B.options.collapse){a=a.B.vb(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(!d.isCollapsed())return"enabled";d=w(d)}return"disabled"}return"hidden"},ib:function(a){h.oa.Vy(!0,a.B.vb(!0))},ud:h.Fa.Hc.Wc,id:"collapseWorkspace",weight:4})};
h.oa.OE=function(){h.Fa.u.register({Kc:function(){return h.M.EXPAND_ALL},Db:function(a){if(a.B.options.collapse){a=a.B.vb(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(d.isCollapsed())return"enabled";d=w(d)}return"disabled"}return"hidden"},ib:function(a){h.oa.Vy(!1,a.B.vb(!0))},ud:h.Fa.Hc.Wc,id:"expandWorkspace",weight:5})};h.oa.Zv=function(a,c){if(a.cf())Array.prototype.push.apply(c,v(a,!1));else{a=z(a,!1);for(var d=0;d<a.length;d++)h.oa.Zv(a[d],c)}};
h.oa.$r=function(a){var c=[];a=a.vb(!0);for(var d=0;d<a.length;d++)h.oa.Zv(a[d],c);return c};h.oa.bo=function(a,c){h.h.ua(c);var d=a.shift();d&&(d.B?(d.H(!1,!0),setTimeout(h.oa.bo,10,a,c)):h.oa.bo(a,c));h.h.ua(!1)};
h.oa.KE=function(){h.Fa.u.register({Kc:function(a){if(a.B)return a=h.oa.$r(a.B).length,1==a?h.M.DELETE_BLOCK:h.M.DELETE_X_BLOCKS.replace("%1",String(a))},Db:function(a){if(a.B)return 0<h.oa.$r(a.B).length?"enabled":"disabled"},ib:function(a){if(a.B){vc(a.B);var c=h.oa.$r(a.B),d=h.g.Xe();2>c.length?h.oa.bo(c,d):h.confirm(h.M.DELETE_ALL_BLOCKS.replace("%1",c.length),function(e){e&&h.oa.bo(c,d)})}},ud:h.Fa.Hc.Wc,id:"workspaceDelete",weight:6})};
h.oa.SE=function(){h.oa.Bt();h.oa.At();h.oa.CE();h.oa.DE();h.oa.OE();h.oa.KE()};h.oa.ME=function(){h.Fa.u.register({Kc:function(){return h.M.DUPLICATE_BLOCK},Db:function(a){a=a.block;return!a.cd&&a.cf()&&a.wc()?(hb(a.B)?gb(a.B,h.g.Wr(a,!0)):1)?"enabled":"disabled":"hidden"},ib:function(a){a.block&&h.duplicate(a.block)},ud:h.Fa.Hc.Sb,id:"blockDuplicate",weight:1})};
h.oa.FE=function(){h.Fa.u.register({Kc:function(a){return a.block.Fd?h.M.REMOVE_COMMENT:h.M.ADD_COMMENT},Db:function(a){a=a.block;return h.g.userAgent.ae||a.cd||!a.B.options.lC||a.isCollapsed()||!a.Ld()?"hidden":"enabled"},ib:function(a){a=a.block;a.Fd?a.ck(null):a.ck("")},ud:h.Fa.Hc.Sb,id:"blockComment",weight:2})};
h.oa.QE=function(){h.Fa.u.register({Kc:function(a){return ya(a.block)?h.M.EXTERNAL_INPUTS:h.M.INLINE_INPUTS},Db:function(a){a=a.block;if(!a.cd&&a.wc()&&!a.isCollapsed())for(var c=1;c<a.U.length;c++)if(a.U[c-1].type!=h.Ia.pc&&a.U[c].type!=h.Ia.pc)return"enabled";return"hidden"},ib:function(a){a.block.Ji(!ya(a.block))},ud:h.Fa.Hc.Sb,id:"blockInline",weight:3})};
h.oa.EE=function(){h.Fa.u.register({Kc:function(a){return a.block.isCollapsed()?h.M.EXPAND_BLOCK:h.M.COLLAPSE_BLOCK},Db:function(a){a=a.block;return!a.cd&&a.wc()&&a.B.options.collapse?"enabled":"hidden"},ib:function(a){a.block.Hi(!a.block.isCollapsed())},ud:h.Fa.Hc.Sb,id:"blockCollapseExpand",weight:4})};
h.oa.LE=function(){h.Fa.u.register({Kc:function(a){return a.block.isEnabled()?h.M.DISABLE_BLOCK:h.M.ENABLE_BLOCK},Db:function(a){a=a.block;return!a.cd&&a.B.options.disable&&a.Ld()?ac(a)?"disabled":"enabled":"hidden"},ib:function(a){a=a.block;var c=h.h.Wb();c||h.h.ua(!0);a.jf(!a.isEnabled());c||h.h.ua(!1)},ud:h.Fa.Hc.Sb,id:"blockDisable",weight:5})};
h.oa.zt=function(){h.Fa.u.register({Kc:function(a){var c=a.block;a=v(c,!1).length;(c=w(c))&&(a-=v(c,!1).length);return 1==a?h.M.DELETE_BLOCK:h.M.DELETE_X_BLOCKS.replace("%1",String(a))},Db:function(a){return!a.block.cd&&a.block.cf()?"enabled":"hidden"},ib:function(a){h.h.ua(!0);a.block&&h.rr(a.block);h.h.ua(!1)},ud:h.Fa.Hc.Sb,id:"blockDelete",weight:6})};
h.oa.PE=function(){h.Fa.u.register({Kc:function(){return h.M.HELP},Db:function(a){a=a.block;return("function"==typeof a.Oj?a.Oj():a.Oj)?"enabled":"hidden"},ib:function(a){a.block.showHelp()},ud:h.Fa.Hc.Sb,id:"blockHelp",weight:7})};h.oa.BE=function(){h.oa.ME();h.oa.FE();h.oa.QE();h.oa.EE();h.oa.LE();h.oa.zt();h.oa.PE()};h.oa.IE=function(){h.oa.SE();h.oa.BE()};h.oa.IE();h.ub={};h.ub.names={Zz:"escape",Dh:"delete",Cz:"copy",Hz:"cut",$A:"paste",yB:"undo",kB:"redo"};h.ub.NE=function(){var a={name:h.ub.names.Zz,Db:function(c){return!c.options.readOnly},ib:function(){h.ic();return!0}};h.Ub.u.register(a);G(h.g.la.Yz,a.name)};
h.ub.zt=function(){var a={name:h.ub.names.Dh,Db:function(c){return!c.options.readOnly&&h.selected&&h.selected.cf()},ib:function(c,d){d.preventDefault();if(h.Ie.ki())return!1;h.rr(h.selected);return!0}};h.Ub.u.register(a);G(h.g.la.Dh,a.name);G(h.g.la.uz,a.name)};
h.ub.GE=function(){var a={name:h.ub.names.Cz,Db:function(d){return!d.options.readOnly&&!h.Ie.ki()&&h.selected&&h.selected.cf()&&h.selected.wc()},ib:function(d,e){e.preventDefault();h.ic();h.kr(h.selected);return!0}};h.Ub.u.register(a);var c=J(h.g.la.Gp,[h.g.la.Ch]);G(c,a.name);c=J(h.g.la.Gp,[h.g.la.Ui]);G(c,a.name);c=J(h.g.la.Gp,[h.g.la.cj]);G(c,a.name)};
h.ub.HE=function(){var a={name:h.ub.names.Hz,Db:function(d){return!d.options.readOnly&&!h.Ie.ki()&&h.selected&&h.selected.cf()&&h.selected.wc()&&!h.selected.B.Sf},ib:function(){h.kr(h.selected);h.rr(h.selected);return!0}};h.Ub.u.register(a);var c=J(h.g.la.Gq,[h.g.la.Ch]);G(c,a.name);c=J(h.g.la.Gq,[h.g.la.Ui]);G(c,a.name);c=J(h.g.la.Gq,[h.g.la.cj]);G(c,a.name)};
h.ub.RE=function(){var a={name:h.ub.names.$A,Db:function(d){return!d.options.readOnly&&!h.Ie.ki()},ib:function(){return h.fp()}};h.Ub.u.register(a);var c=J(h.g.la.Dq,[h.g.la.Ch]);G(c,a.name);c=J(h.g.la.Dq,[h.g.la.Ui]);G(c,a.name);c=J(h.g.la.Dq,[h.g.la.cj]);G(c,a.name)};
h.ub.Bt=function(){var a={name:h.ub.names.yB,Db:function(d){return!d.options.readOnly&&!h.Ie.ki()},ib:function(d){h.ic();ib(d,!1);return!0}};h.Ub.u.register(a);var c=J(h.g.la.pj,[h.g.la.Ch]);G(c,a.name);c=J(h.g.la.pj,[h.g.la.Ui]);G(c,a.name);c=J(h.g.la.pj,[h.g.la.cj]);G(c,a.name)};
h.ub.At=function(){var a={name:h.ub.names.kB,Db:function(d){return!h.Ie.ki()&&!d.options.readOnly},ib:function(d){h.ic();ib(d,!0);return!0}};h.Ub.u.register(a);var c=J(h.g.la.pj,[h.g.la.zn,h.g.la.Ch]);G(c,a.name);c=J(h.g.la.pj,[h.g.la.zn,h.g.la.Ui]);G(c,a.name);c=J(h.g.la.pj,[h.g.la.zn,h.g.la.cj]);G(c,a.name);c=J(h.g.la.CB,[h.g.la.Ch]);G(c,a.name)};h.ub.JE=function(){h.ub.NE();h.ub.zt();h.ub.GE();h.ub.HE();h.ub.RE();h.ub.Bt();h.ub.At()};h.ub.JE();h.g.A={};h.g.A.Ja=function(a,c){return" "+a+","+c+" "};h.g.A.curve=function(a,c){return" "+a+c.join("")};h.g.A.moveTo=function(a,c){return" M "+a+","+c+" "};h.g.A.moveBy=function(a,c){return" m "+a+","+c+" "};h.g.A.lineTo=function(a,c){return" l "+a+","+c+" "};h.g.A.line=function(a){return" l"+a.join("")};h.g.A.Y=function(a,c){return" "+a+" "+c+" "};h.g.A.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};h.i.tf=function(){this.Je=0;this.nB=3;this.Ad=5;this.hv=8;this.Fc=10;this.Iv=this.Ad;this.Qk=15;this.lj=5;this.En=8;this.SA=15;this.hq=4;this.OA=12;this.Sz=16;this.Rz=this.Iu=this.Qk;this.qb=8;this.tB=this.Nk=15;this.Fv=0;this.Hv=20;this.vz=4;this.wB=this.Ad;this.xB=this.Fc;this.xz=this.Ad;this.wz=this.Fc;this.Sm=!1;this.rB=15;this.sB=100;this.qB=15;this.Jk=24;this.Uz=14.5;this.Tz=this.Qk+11;this.$z=2;this.Vz=this.Jk;this.Ev=h.g.A.moveBy(0,0);this.BA=12;this.CA=6;this.Fh=11;this.lg="normal";this.kg=
"sans-serif";this.Qp=this.nn=-1;this.mn=4;this.Lu=16;this.zk=5;this.gA="#fff";this.Rp=!h.g.userAgent.ae&&!h.g.userAgent.Eh;this.Mu=this.Lu;this.iA=this.hA=this.Nu=!1;this.kA=this.zk;this.Ak=12;this.jA="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.mm=String(Math.random()).substring(2);this.no="";this.Or=null;this.Jw="";this.zr=null;this.Ew="";this.ll=this.nr=null;this.dn="#cc0a0a";this.rn="#4286f4";this.gn=100;this.Sv=5;this.fn=10;this.Ez=2;this.Gz=4;this.Xp="#000000";this.on=.2;this.Dv={bB:1,dj:2}};b=h.i.tf.prototype;
b.Ca=function(){this.aj=this.Ks();this.dj=this.Ls();this.ij=this.Ns();this.mq=this.Ms();var a=this.qb,c=h.g.A.arc("a","0 0,0",a,h.g.A.Ja(-a,a)),d=h.g.A.arc("a","0 0,0",a,h.g.A.Ja(a,a));this.pn={width:a,height:a,rt:c,gp:d};a=this.qb;c=h.g.A.moveBy(0,a)+h.g.A.arc("a","0 0,1",a,h.g.A.Ja(a,-a));d=h.g.A.arc("a","0 0,1",a,h.g.A.Ja(a,a));var e=h.g.A.arc("a","0 0,1",a,h.g.A.Ja(-a,-a)),f=h.g.A.arc("a","0 0,1",a,h.g.A.Ja(-a,a));this.Ok={du:c,wF:d,VB:f,Rq:e,XE:a}};
b.um=function(a){this.Ag=Object.create(null);var c=a.Ag,d;for(d in c)this.Ag[d]=jd(c[d]);this.kg=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.kg;this.lg=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.lg;this.Fh=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.Fh;c=h.g.j.XD(this.Fh+"pt",this.lg,this.kg);this.nn=c.height;this.Qp=c.ge;this.dn=ab(a,"cursorColour")||this.dn;this.rn=ab(a,"markerColour")||this.rn;this.Xp=ab(a,"insertionMarkerColour")||this.Xp;
this.on=Number(ab(a,"insertionMarkerOpacity"))||this.on;this.Sm=null!=a.Xt?a.Xt:this.Sm};function wc(a,c){var d="auto_"+c;a.Ag[d]||(a.Ag[d]=jd({colourPrimary:c}));return{style:a.Ag[d],name:d}}function sc(a,c){return a.Ag[c||""]||(c&&0==c.indexOf("auto_")?wc(a,c.substring(5)).style:jd({colourPrimary:"#000000"}))}
function jd(a){var c={};a&&h.g.object.$g(c,a);a=h.g.ep(c.colourPrimary||"#000");c.Th=a.Kl;c.colourSecondary?a=h.g.ep(c.colourSecondary).Kl:(a=c.Th,a=h.g.tb.Oq("#fff",a,.6)||a);c.Un=a;c.colourTertiary?a=h.g.ep(c.colourTertiary).Kl:(a=c.Th,a=h.g.tb.Oq("#fff",a,.3)||a);c.xj=a;c.Ze=c.hat||"";return c}b.H=function(){this.Or&&h.g.j.removeNode(this.Or);this.zr&&h.g.j.removeNode(this.zr);this.nr&&h.g.j.removeNode(this.nr);this.ll=null};
b.Ks=function(){var a=this.BA,c=this.CA,d=h.g.A.line([h.g.A.Ja(c,a/4),h.g.A.Ja(2*-c,a/2),h.g.A.Ja(c,a/4)]);return{height:a,width:c,path:d}};b.Ns=function(){var a=this.rB,c=this.sB,d=h.g.A.curve("c",[h.g.A.Ja(30,-a),h.g.A.Ja(70,-a),h.g.A.Ja(c,0)]);return{height:a,width:c,path:d}};
b.Ms=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,m=h.g.A.Ja(c,g*l);return h.g.A.curve("c",[h.g.A.Ja(0,g*(l+2.5)),h.g.A.Ja(-c,k*(l+.5)),h.g.A.Ja(-c,g*l)])+h.g.A.curve("s",[h.g.A.Ja(c,2.5*k),m])}var c=this.En,d=this.Qk,e=a(!0),f=a(!1);return{type:this.Dv.bB,width:c,height:d,Rd:f,hm:e}};b.Ls=function(){function a(k){return h.g.A.line([h.g.A.Ja(k*e,d),h.g.A.Ja(3*k,0),h.g.A.Ja(k*e,-d)])}var c=this.SA,d=this.hq,e=(c-3)/2,f=a(1),g=a(-1);return{type:this.Dv.dj,width:c,height:d,hh:f,sy:g}};
function xa(a,c){switch(c.type){case h.X.Zb:case h.X.Tc:return a.mq;case h.X.kd:case h.X.$b:return a.dj;default:throw Error("Unknown connection type");}}
b.Wa=function(a,c,d){d=this.Xr(d);c="blockly-renderer-style-"+c;this.ll=document.getElementById(c);var e=d.join("\n");this.ll?this.ll.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.ll=d);a=h.g.j.J(h.g.D.Hu,{},a);c=h.g.j.J(h.g.D.Ou,{id:"blocklyEmbossFilter"+this.mm},a);h.g.j.J(h.g.D.dA,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=h.g.j.J(h.g.D.fA,{"in":"blur",surfaceScale:1,
specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);h.g.j.J(h.g.D.eA,{x:-5E3,y:-1E4,z:2E4},d);h.g.j.J(h.g.D.Pp,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);h.g.j.J(h.g.D.Pp,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.no=c.id;this.Or=c;c=h.g.j.J(h.g.D.yv,{id:"blocklyDisabledPattern"+this.mm,patternUnits:"userSpaceOnUse",width:10,height:10},a);h.g.j.J(h.g.D.Mb,{width:10,height:10,fill:"#aaa"},c);h.g.j.J(h.g.D.Ke,
{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},c);this.Jw=c.id;this.zr=c;h.i.Rc&&(a=h.g.j.J(h.g.D.Ou,{id:"blocklyDebugFilter"+this.mm,height:"160%",width:"180%",y:"-30%",x:"-40%"},a),c=h.g.j.J(h.g.D.aA,{result:"outBlur"},a),h.g.j.J(h.g.D.cA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c),h.g.j.J(h.g.D.bA,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},a),h.g.j.J(h.g.D.Pp,{"in":"outColor",in2:"outBlur",operator:"in",result:"outGlow"},a),this.Ew=a.id,this.nr=a)};
b.Xr=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.lg+" "+this.Fh+"pt "+this.kg+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.gA+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.kg+";","font-weight: "+this.lg+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.on+
";","stroke: none;","}"]};h.i.o={NONE:0,Dc:1,Ru:2,Uu:4,tq:8,uu:16,Yu:32,Ku:64,zd:128,Wu:256,Gv:512,Bz:1024,kq:2048,gq:4096,WA:8192,Jp:16384,aq:32768,$p:65536,qq:131072,pq:262144,bv:524288,rq:1048576,zq:2097152,Dp:4194304,Xu:8388608};h.i.o.pH=h.i.o.aq|h.i.o.$p;h.i.o.GI=h.i.o.qq|h.i.o.pq;h.i.o.Xs=16777216;h.i.o.getType=function(a){Object.prototype.hasOwnProperty.call(h.i.o,a)||(h.i.o[a]=h.i.o.Xs,h.i.o.Xs<<=1);return h.i.o[a]};h.i.o.df=function(a){return a.type&h.i.o.Dc};h.i.o.pi=function(a){return a.type&h.i.o.Ru};
h.i.o.Sj=function(a){return a.type&h.i.o.Uu};h.i.o.td=function(a){return a.type&h.i.o.tq};h.i.o.ZJ=function(a){return a.type&h.i.o.Yu};h.i.o.Tf=function(a){return a.type&h.i.o.zd};h.i.o.Rl=function(a){return a.type&h.i.o.Ku};h.i.o.Tg=function(a){return a.type&h.i.o.Wu};h.i.o.ri=function(a){return a.type&h.i.o.Gv};h.i.o.Wj=function(a){return a.type&h.i.o.kq};h.i.o.Vg=function(a){return a.type&h.i.o.gq};h.i.o.QD=function(a){return a.type&(h.i.o.kq|h.i.o.gq)};h.i.o.Ug=function(a){return a.type&h.i.o.$p};
h.i.o.Jx=function(a){return a.type&h.i.o.pq};h.i.o.Sl=function(a){return a.type&h.i.o.aq};h.i.o.$J=function(a){return a.type&h.i.o.qq};h.i.o.YJ=function(a){return a.type&h.i.o.Jp};h.i.o.Hx=function(a){return a.type&h.i.o.bv};h.i.o.bK=function(a){return a.type&h.i.o.rq};h.i.o.KD=function(a){return a.type&h.i.o.uu};h.i.o.Io=function(a){return a.type&h.i.o.zq};h.i.o.Ao=function(a){return a.type&h.i.o.Dp};h.i.o.Lx=function(a){return a.type&(h.i.o.zq|h.i.o.Dp)};h.i.o.LD=function(a){return a.type&h.i.o.Xu};h.i.pg=function(a){this.height=this.width=0;this.type=h.i.o.NONE;this.Dg=this.ta=0;this.s=a;this.Pd=this.s.Nk};h.i.wa=function(a,c){h.i.wa.v.constructor.call(this,a);this.rc=c;this.shape=xa(this.s,c);this.oi=!!this.shape.isDynamic;this.type|=h.i.o.Bz};h.g.object.V(h.i.wa,h.i.pg);h.i.jq=function(a,c){h.i.jq.v.constructor.call(this,a,c);this.type|=h.i.o.WA;this.height=this.oi?0:this.shape.height;this.Ud=this.width=this.oi?0:this.shape.width;this.od=this.s.lj;this.fl=0};h.g.object.V(h.i.jq,h.i.wa);
h.i.nq=function(a,c){h.i.nq.v.constructor.call(this,a,c);this.type|=h.i.o.kq;this.height=this.shape.height;this.width=this.shape.width};h.g.object.V(h.i.nq,h.i.wa);h.i.iq=function(a,c){h.i.iq.v.constructor.call(this,a,c);this.type|=h.i.o.gq;this.height=this.shape.height;this.width=this.shape.width};h.g.object.V(h.i.iq,h.i.wa);h.i.Hk=function(a,c){h.i.Hk.v.constructor.call(this,a,c.connection);this.type|=h.i.o.zd;this.input=c;this.align=c.align;(this.Fg=c.connection&&c.connection.sa()?c.connection.sa():null)?(a=r(this.Fg),this.dl=a.width,this.Xn=a.height):this.Xn=this.dl=0;this.od=this.fl=0};h.g.object.V(h.i.Hk,h.i.wa);
h.i.mg=function(a,c){h.i.mg.v.constructor.call(this,a,c);this.type|=h.i.o.Wu;this.Fg?(this.width=this.dl,this.height=this.Xn):(this.height=this.s.Tz,this.width=this.s.Uz);this.yj=this.oi?this.shape.height(this.height):this.shape.height;this.Se=this.oi?this.shape.width(this.height):this.shape.width;this.Fg||(this.width+=this.Se*(this.oi?2:1));this.od=this.oi?this.shape.od(this.yj):this.s.lj;this.fl=this.oi?this.shape.fl(this.Se):0};h.g.object.V(h.i.mg,h.i.Hk);
h.i.vg=function(a,c){h.i.vg.v.constructor.call(this,a,c);this.type|=h.i.o.Gv;this.height=this.Fg?this.Xn+this.s.Fv:this.s.Vz;this.width=this.s.tB+this.shape.width};h.g.object.V(h.i.vg,h.i.Hk);h.i.ln=function(a,c){h.i.ln.v.constructor.call(this,a,c);this.type|=h.i.o.Ku;this.height=this.Fg?this.Xn-this.s.lj-this.s.Ad:this.shape.height;this.width=this.shape.width+this.s.$z;this.od=this.s.lj;this.yj=this.shape.height;this.Se=this.shape.width};h.g.object.V(h.i.ln,h.i.Hk);h.i.Yp=function(a,c){h.i.Yp.v.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=h.i.o.Uu;a=c.LJ();this.height=a.height;this.width=a.width};h.g.object.V(h.i.Yp,h.i.pg);h.i.Zp=function(a){h.i.Zp.v.constructor.call(this,a);this.type|=h.i.o.bv;this.height=this.s.aj.height;this.width=this.s.aj.width};h.g.object.V(h.i.Zp,h.i.pg);
h.i.yd=function(a,c){h.i.yd.v.constructor.call(this,a);this.Hj=c;this.Ld=c.yk;this.UC=c.ax();this.type|=h.i.o.Dc;a=this.Hj.Pf();this.height=a.height;this.width=a.width};h.g.object.V(h.i.yd,h.i.pg);h.i.Vp=function(a){h.i.Vp.v.constructor.call(this,a);this.type|=h.i.o.Ru;this.height=this.s.ij.height;this.width=this.s.ij.width;this.rj=this.height};h.g.object.V(h.i.Vp,h.i.pg);
h.i.kj=function(a,c){h.i.kj.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.o.qq:h.i.o.aq)|h.i.o.Jp;this.width=this.height=this.s.Je};h.g.object.V(h.i.kj,h.i.pg);h.i.yn=function(a,c){h.i.yn.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.o.pq:h.i.o.$p)|h.i.o.Jp;this.width=this.s.qb;this.height=this.s.qb/2};h.g.object.V(h.i.yn,h.i.pg);h.i.uf=function(a,c){h.i.uf.v.constructor.call(this,a);this.type=this.type|h.i.o.tq|h.i.o.Yu;this.width=c;this.height=this.s.qB};h.g.object.V(h.i.uf,h.i.pg);h.i.Lh=function(a){this.type=h.i.o.rq;this.elements=[];this.ta=this.Lb=this.xd=this.minWidth=this.minHeight=this.width=this.height=0;this.tx=this.Nj=this.ps=this.Qb=this.Pg=!1;this.s=a;this.Pd=this.s.Nk;this.align=null};h.i.Lh.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function O(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.i.o.Tf(d))return d;return null}h.i.Lh.prototype.rp=function(){return!0};h.i.Lh.prototype.vl=function(){return!0};
h.i.Oh=function(a){h.i.Oh.v.constructor.call(this,a);this.type|=h.i.o.zq;this.rj=this.Ef=0;this.AD=!1;this.connection=null};h.g.object.V(h.i.Oh,h.i.Lh);h.i.Oh.prototype.qs=function(a){var c=(a.Ze?"cap"===a.Ze:this.s.Sm)&&!a.S&&!a.aa,d=a.aa&&a.aa.sa();return!!a.S||c||(d?w(d)==a:!1)};
h.i.Oh.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.o.td(f)||(h.i.o.pi(f)?d=Math.max(d,f.rj):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.Ef=this.rj=d;this.xd=this.width};h.i.Oh.prototype.rp=function(){return!1};h.i.Oh.prototype.vl=function(){return!1};h.i.Bh=function(a){h.i.Bh.v.constructor.call(this,a);this.type|=h.i.o.Dp;this.ux=!1;this.connection=null;this.ge=this.ol=0};
h.g.object.V(h.i.Bh,h.i.Lh);h.i.Bh.prototype.qs=function(a){return!!a.S||!!w(a)};h.i.Bh.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.o.td(f)||(h.i.o.Vg(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.ol=d;this.xd=this.width};h.i.Bh.prototype.rp=function(){return!1};h.i.Bh.prototype.vl=function(){return!1};
h.i.Dn=function(a,c,d){h.i.Dn.v.constructor.call(this,a);this.type=this.type|h.i.o.tq|h.i.o.uu;this.width=d;this.height=c;this.Tw=!1;this.xd=0;this.elements=[new h.i.uf(this.s,d)]};h.g.object.V(h.i.Dn,h.i.Lh);h.i.Dn.prototype.measure=function(){};h.i.$i=function(a){h.i.$i.v.constructor.call(this,a);this.type|=h.i.o.Xu;this.sw=0};h.g.object.V(h.i.$i,h.i.Lh);
h.i.$i.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,h.i.o.Tf(d)&&(h.i.o.ri(d)?a+=d.dl:h.i.o.Rl(d)&&0!=d.dl&&(a+=d.dl-d.Se)),h.i.o.td(d)||(this.height=Math.max(this.height,d.height));this.sw=a;this.xd=this.width+a};h.i.$i.prototype.vl=function(){return!this.Pg&&!this.Qb};h.i.ce=function(a,c){this.Ga=c;this.ob=a;this.s=this.ob.ka();this.S=c.S?new h.i.jq(this.s,c.S):null;this.Tj=ya(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.sd=c.sd();this.I=c.I;this.ph=this.width=this.vh=this.height=0;this.rows=[];this.Fx=[];this.yx=[];this.Rb=new h.i.Oh(this.s);this.sb=new h.i.Bh(this.s);this.qp=this.Ud=0};b=h.i.ce.prototype;
b.measure=function(){var a=!!this.Ga.aa,c=(this.Ga.Ze?"cap"===this.Ga.Ze:this.s.Sm)&&!this.S&&!a,d=this.Rb.qs(this.Ga)?h.i.kj:h.i.yn;this.Rb.elements.push(new d(this.s));c?(a=new h.i.Vp(this.s),this.Rb.elements.push(a),this.Rb.Ef=a.rj):a&&(this.Rb.AD=!0,this.Rb.connection=new h.i.nq(this.s,this.Ga.aa),this.Rb.elements.push(this.Rb.connection));this.Ga.U.length&&this.Ga.U[0].type==h.Ia.pc&&!this.Ga.isCollapsed()?this.Rb.minHeight=this.s.xB:this.Rb.minHeight=this.s.wB;d=h.i.kj;this.Rb.elements.push(new d(this.s,
"right"));this.rows.push(this.Rb);a=new h.i.$i(this.s);this.Fx.push(a);d=Aa(this.Ga);c=0;for(var e;e=d[c];c++){var f=new h.i.Yp(this.s,e);this.isCollapsed&&e.vJ?this.yx.push(f):a.elements.push(f)}e=null;for(c=0;d=this.Ga.U[c];c++)if(d.isVisible()){!e||d.type!=h.Ia.pc&&e.type!=h.Ia.pc&&(d.type!=h.Ia.Ne&&d.type!=h.Ia.Ge||this.Tj)||(this.rows.push(a),a=new h.i.$i(this.s),this.Fx.push(a));for(e=0;f=d.fb[e];e++)a.elements.push(new h.i.yd(this.s,f,d));this.aw(d,a);e=d}this.isCollapsed&&(a.tx=!0,a.elements.push(new h.i.Zp(this.s)));
(a.elements.length||a.Nj)&&this.rows.push(a);this.ut();this.rows.push(this.sb);this.$v();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)if(this.rows.push(a[c]),c!=a.length-1){d=this.rows;e=d.push;f=a[c];var g=a[c+1],k=new h.i.Dn(this.s,this.mx(f,g),this.width-this.Ud);f.Qb&&(k.Tw=!0);g.Qb&&(k.hK=!0);e.call(d,k)}for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Qb&&(a=Math.max(a,f.width-O(f).width)),d=Math.max(d,f.xd);this.ph=a;this.width=c;for(e=0;f=this.rows[e];e++)f.Qb&&(f.ph=
this.ph);this.vh=Math.max(c,d);this.S&&(this.Ud=this.S.width,this.width+=this.S.width,this.vh+=this.S.width);this.Hq();this.Pw()};
b.ut=function(){this.sb.ux=!!this.Ga.ea;this.sb.minHeight=this.Ga.U.length&&this.Ga.U[this.Ga.U.length-1].type==h.Ia.pc?this.s.wz:this.s.xz;this.sb.qs(this.Ga)?this.sb.elements.push(new h.i.kj(this.s)):this.sb.elements.push(new h.i.yn(this.s));this.sb.ux&&(this.sb.connection=new h.i.iq(this.s,this.Ga.ea),this.sb.elements.push(this.sb.connection));this.sb.elements.push(new h.i.kj(this.s,"right"))};
b.aw=function(a,c){this.Tj&&a.type==h.Ia.Ne?(c.elements.push(new h.i.mg(this.s,a)),c.ps=!0):a.type==h.Ia.pc?(c.elements.push(new h.i.vg(this.s,a)),c.Qb=!0):a.type==h.Ia.Ne?(c.elements.push(new h.i.ln(this.s,a)),c.Pg=!0):a.type==h.Ia.Ge&&(c.minHeight=Math.max(c.minHeight,a.$()&&a.$().Ma?this.s.Rz:this.s.Iu),c.Nj=!0);null==c.align&&(c.align=a.align)};
b.$v=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.rp()&&c.elements.push(new h.i.uf(this.s,this.ai(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new h.i.uf(this.s,this.ai(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.vl()&&c.elements.push(new h.i.uf(this.s,this.ai(d[d.length-1],null)))}}};
b.ai=function(a,c){if(!a&&c&&h.i.o.ri(c))return this.s.Hv;if(a&&h.i.o.Tf(a)&&!c){if(h.i.o.Rl(a))return this.s.Je;if(h.i.o.Tg(a))return this.s.Fc;if(h.i.o.ri(a))return this.s.Je}return a&&h.i.o.Sl(a)&&c&&(h.i.o.Wj(c)||h.i.o.Vg(c))?c.Pd:a&&h.i.o.Ug(a)&&c&&(h.i.o.Wj(c)||h.i.o.Vg(c))?c.Pd-this.s.qb:this.s.Ad};b.Hq=function(){for(var a=0,c;c=this.rows[a];a++)if(c.Qb)kd(this,c);else{var d=this.El(c)-c.width;0<d&&ld(c,d);h.i.o.Lx(c)&&(c.xd=c.width)}};b.El=function(){return this.width-this.Ud};
function ld(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(h.i.o.td(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(h.i.o.td(f)){e=f;break a}e=null}if(a.Pg||a.Qb)a.xd+=c;a.align==h.lb.Yd.Hb?e.width+=c:a.align==h.lb.Yd.Zm?(d.width+=c/2,e.width+=c/2):a.align==h.lb.Yd.Gc?d.width+=c:e.width+=c;a.width+=c}
function kd(a,c){var d=O(c),e=c.width-d.width,f=a.ph;e=f-e;0<e&&ld(c,e);e=c.width;f=a.El(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.xd=Math.max(c.width,a.ph+c.sw)}b.mx=function(){return this.s.Ad};b.$w=function(a,c){return h.i.o.td(c)?a.Lb+c.height/2:h.i.o.Ao(a)?(a=a.Lb+a.height-a.ol,h.i.o.Vg(c)?a+c.height/2:a-c.height/2):h.i.o.Io(a)?h.i.o.pi(c)?a.Ef-c.height/2:a.Ef+c.height/2:a.Lb+a.height/2};
function md(a,c){for(var d=c.ta,e=0,f;f=c.elements[e];e++)h.i.o.td(f)&&(f.height=c.height),f.ta=d,f.Dg=a.$w(c,f),d+=f.width}b.Pw=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.Lb=c,e.ta=this.Ud,c+=e.height,a=Math.max(a,e.xd),md(this,e);this.S&&this.Ga.ea&&this.Ga.ea.isConnected()&&(a=Math.max(a,r(this.Ga.ea.sa()).width));this.vh=a+this.Ud;this.height=c;this.qp=this.Rb.Ef;this.sb.ge=c-this.sb.ol};h.i.Rc=function(a){this.me=[];this.nf=null;this.s=a};h.i.Rc.Re={ZE:!0,MC:!0,rows:!0,NC:!0,vw:!0,TB:!0,rw:!0,Ka:!0};
function nd(a,c,d){if(h.i.Rc.Re.NC){var e=c.ta;d&&(e=-(e+c.width));d=c.Dg-c.height/2;a.me.push(h.g.j.J(h.g.D.Mb,{"class":"rowRenderingRect blockRenderDebug",x:e,y:d,width:c.width,height:c.height,stroke:"black",fill:"none","stroke-width":"1px"},a.nf));h.i.o.df(c)&&c.Hj instanceof h.hd&&a.me.push(h.g.j.J(h.g.D.Mb,{"class":"rowRenderingRect blockRenderDebug",x:e,y:d+a.s.Qp,width:c.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},a.nf))}h.i.o.Tf(c)&&h.i.Rc.Re.vw&&od(a,c.rc)}
function od(a,c){if(h.i.Rc.Re.vw){if(c.type==h.X.Zb){var d=4;var e="magenta";var f="none"}else c.type==h.X.Tc?(d=2,f=e="magenta"):c.type==h.X.$b?(d=4,e="goldenrod",f="none"):c.type==h.X.kd&&(d=2,f=e="goldenrod");a.me.push(h.g.j.J(h.g.D.zu,{"class":"blockRenderDebug",cx:c.Xf.x,cy:c.Xf.y,r:d,fill:f,stroke:e},a.nf))}}
function pd(a,c,d){for(var e=0,f;f=a.me[e];e++)h.g.j.removeNode(f);a.me=[];a.nf=c.pa();a.AE="#"+Math.floor(16777215*Math.random()).toString(16);f=e=0;for(var g;g=d.rows[f];f++){if(h.i.o.KD(g)){var k=e;if(h.i.Rc.Re.ZE){var l=Math.abs(g.height),m=0>g.height;m&&(k-=l);a.me.push(h.g.j.J(h.g.D.Mb,{"class":"rowSpacerRect blockRenderDebug",x:d.I?-(g.ta+g.width):g.ta,y:k,width:g.width,height:l,stroke:m?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},a.nf))}}else{m=a;l=g;k=d.I;for(var n=
0,q=l.elements.length;n<q;n++){var p=l.elements[n];if(p)if(h.i.o.td(p)){if(h.i.Rc.Re.MC){var u=Math.abs(p.width),H=0>p.width,L=H?p.ta-u:p.ta;k&&(L=-(L+u));m.me.push(h.g.j.J(h.g.D.Mb,{"class":"elemSpacerRect blockRenderDebug",x:L,y:p.Dg-p.height/2,width:u,height:p.height,stroke:"pink",fill:H?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},m.nf))}}else nd(m,p,k);else console.warn("A row has an undefined or null element.",l,p)}h.i.Rc.Re.rows&&(m.me.push(h.g.j.J(h.g.D.Mb,{"class":"elemRenderingRect blockRenderDebug",
x:k?-(l.ta+l.width):l.ta,y:l.Lb,width:l.width,height:l.height,stroke:"red",fill:"none","stroke-width":"1px"},m.nf)),h.i.o.Lx(l)||h.i.Rc.Re.rw&&m.me.push(h.g.j.J(h.g.D.Mb,{"class":"connectedBlockWidth blockRenderDebug",x:k?-(l.ta+l.xd):l.ta,y:l.Lb,width:l.xd,height:l.height,stroke:m.AE,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},m.nf)))}e+=g.height}c.aa&&od(a,c.aa);c.ea&&od(a,c.ea);c.S&&od(a,c.S);d.YE&&nd(a,d.YE,d.I);h.i.Rc.Re.TB&&(e=d.I?-d.width:0,a.me.push(h.g.j.J(h.g.D.Mb,{"class":"blockBoundingBox blockRenderDebug",
x:e,y:0,width:d.width,height:d.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},a.nf)),h.i.Rc.Re.rw&&(e=d.I?-d.vh:0,a.me.push(h.g.j.J(h.g.D.Mb,{"class":"blockRenderDebug",x:e,y:0,width:d.vh,height:d.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},a.nf))));qd(a,c.wb.Eb)}function qd(a,c){h.i.Rc.Re.Ka&&(c.setAttribute("filter","url(#"+a.s.Ew+")"),setTimeout(function(){c.setAttribute("filter","")},100))};h.i.Cc=function(a,c){this.Ga=a;this.qa=c;a.$a();this.zo=this.Na="";this.s=c.ob.ka()};b=h.i.Cc.prototype;b.draw=function(){rd(this);sd(this);td(this);this.Ga.wb.Qt(this.Na+"\n"+this.zo);this.qa.I&&this.Ga.wb.Tr();h.i.Om&&pd(this.Ga.Ht,this.Ga,this.qa);ud(this)};function ud(a){a.Ga.height=a.qa.height;a.Ga.width=a.qa.vh}function rd(a){for(var c=0,d;d=a.qa.yx[c];c++)d.icon.DD.setAttribute("display","none")}
function sd(a){a.Mr();for(var c=1;c<a.qa.rows.length-1;c++){var d=a.qa.rows[c];d.tx?a.tl(d):d.Qb?a.Lr(d):d.Pg?a.Nr(d):a.Nw(d)}a.Ir();a.Kr()}
b.Mr=function(){var a=this.qa.Rb,c=a.elements,d=this.qa.Rb;if(d.connection){var e=d.ta+d.Pd;F(d.connection.rc,this.qa.I?-e:e,0)}this.Na+=h.g.A.moveBy(a.ta,this.qa.qp);for(d=0;e=c[d];d++)h.i.o.Ug(e)?this.Na+=this.s.Ok.du:h.i.o.Jx(e)?this.Na+=this.s.Ok.wF:h.i.o.Wj(e)?this.Na+=e.shape.hh:h.i.o.pi(e)?this.Na+=this.s.ij.path:h.i.o.td(e)&&(this.Na+=h.g.A.Y("h",e.width));this.Na+=h.g.A.Y("v",a.height)};b.tl=function(a){this.Na+=this.s.aj.path+h.g.A.Y("v",a.height-this.s.aj.height)};
b.Nr=function(a){var c=O(a);this.wy(a);var d="function"==typeof c.shape.Rd?c.shape.Rd(c.height):c.shape.Rd;this.Na+=h.g.A.Y("H",c.ta+c.width)+d+h.g.A.Y("v",a.height-c.yj)};b.Lr=function(a){var c=O(a);this.Na+=h.g.A.Y("H",c.ta+c.Pd+c.shape.width)+(c.shape.sy+h.g.A.Y("h",-(c.Pd-this.s.pn.width))+this.s.pn.rt)+h.g.A.Y("v",a.height-2*this.s.pn.height)+this.s.pn.gp+h.g.A.Y("H",a.ta+a.width);this.zy(a)};b.Nw=function(a){this.Na+=h.g.A.Y("V",a.Lb+a.height)};
b.Ir=function(){var a=this.qa.sb,c=a.elements;this.yy();for(var d=0,e="",f=c.length-1,g;g=c[f];f--)h.i.o.Vg(g)?e+=g.shape.sy:h.i.o.Sl(g)?e+=h.g.A.Y("H",a.ta):h.i.o.Ug(g)?e+=this.s.Ok.Rq:h.i.o.Jx(g)?(e+=this.s.Ok.VB,d=this.s.Ok.XE):h.i.o.td(g)&&(e+=h.g.A.Y("h",-1*g.width));this.Na+=h.g.A.Y("V",a.ge-d);this.Na+=e};
b.Kr=function(){var a=this.qa.S;if(this.qa.S){var c=this.qa.Ud+this.qa.S.fl;F(this.Ga.S,this.qa.I?-c:c,this.qa.S.od)}a&&(c=a.od+a.height,a="function"==typeof a.shape.hm?a.shape.hm(a.height):a.shape.hm,this.Na+=h.g.A.Y("V",c)+a);this.Na+="z"};
function td(a){for(var c=0,d;d=a.qa.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(h.i.o.Tg(f))a.Jr(f);else if(h.i.o.Sj(f)||h.i.o.df(f)){var g=a;if(h.i.o.df(f))var k=f.Hj.pa();else h.i.o.Sj(f)&&(k=f.icon.DD);var l=f.Dg-f.height/2,m=f.ta,n="";g.qa.I&&(m=-(m+f.width),f.UC&&(m+=f.width,n="scale(-1 1)"));h.i.o.Sj(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),f.icon.nC()):k.setAttribute("transform","translate("+m+","+l+")"+n);g.qa.sd&&k.setAttribute("display",
"none")}}b.Jr=function(a){var c=a.width,d=a.height,e=a.od,f=a.yj+e;this.zo+=h.g.A.moveTo(a.ta+a.Se,a.Dg-d/2)+h.g.A.Y("v",e)+a.shape.Rd+h.g.A.Y("v",d-f)+h.g.A.Y("h",c-a.Se)+h.g.A.Y("v",-d)+"z";this.xy(a)};b.xy=function(a){var c=a.Dg-a.height/2;if(a.rc){var d=a.ta+a.Se+a.fl;this.qa.I&&(d*=-1);F(a.rc,d,c+a.od)}};b.zy=function(a){var c=O(a);if(c.rc){var d=a.ta+a.ph+c.Pd;this.qa.I&&(d*=-1);F(c.rc,d,a.Lb)}};b.wy=function(a){var c=O(a);if(c.rc){var d=a.ta+a.width;this.qa.I&&(d*=-1);F(c.rc,d,a.Lb)}};
b.yy=function(){var a=this.qa.sb;if(a.connection){var c=a.connection,d=c.ta;F(c.rc,this.qa.I?-d:d,a.ge)}};h.h.ng=function(a,c,d,e){var f=a?a.B.id:void 0;e&&e.getType()==h.F.types.Wc&&(f=e.Da.id);h.h.ng.v.constructor.call(this,f);this.hb=a?a.id:null;this.iy=d;this.ay=e;this.bf=c};h.g.object.V(h.h.ng,h.h.fe);h.h.ng.prototype.type=h.h.cq;h.h.ng.prototype.ra=function(){var a=h.h.ng.v.ra.call(this);a.isCursor=this.bf;a.blockId=this.hb;a.oldNode=this.iy;a.newNode=this.ay;return a};h.h.ng.prototype.ba=function(a){h.h.ng.v.ba.call(this,a);this.bf=a.isCursor;this.hb=a.blockId;this.iy=a.oldNode;this.ay=a.newNode};
h.u.register(h.u.R.Gb,h.h.cq,h.h.ng);h.i.og=function(a,c,d){this.m=a;this.Ps=d;this.gm=null;this.s=c;this.Aj=null;a=this.bf()?this.s.dn:this.s.rn;this.Ed=d.tb||a};h.i.og.Fz="blocklyCursor";h.i.og.KA="blocklyMarker";h.i.og.rA=.75;b=h.i.og.prototype;b.pa=function(){return this.O};b.Gl=function(){return this.Ps};b.bf=function(){return"cursor"==this.Ps.type};
b.Wa=function(){var a=this.bf()?h.i.og.Fz:h.i.og.KA;this.O=h.g.j.J(h.g.D.Sc,{"class":a},null);this.Wf=h.g.j.J(h.g.D.Sc,{width:this.s.gn,height:this.s.Sv},this.O);this.Zg=h.g.j.J(h.g.D.Mb,{width:this.s.gn,height:this.s.Sv,style:"display: none"},this.Wf);this.yi=h.g.j.J(h.g.D.Mb,{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.Wf);this.xi=h.g.j.J(h.g.D.Ke,{transform:"",style:"display: none"},this.Wf);this.Vf=h.g.j.J(h.g.D.Ke,{transform:"",style:"display: none",fill:"none","stroke-width":this.s.Gz},
this.Wf);this.bf()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.Ed+";transparent;transparent;",repeatCount:"indefinite"},h.g.j.J(h.g.D.Ap,a,this.Zg),h.g.j.J(h.g.D.Ap,a,this.xi),a.attributeName="stroke",h.g.j.J(h.g.D.Ap,a,this.Vf));return this.O};function vd(a,c){a.bf()?(a.gm&&a.gm.Zf(null),c.Zf(a.pa())):(a.gm&&a.gm.nh(null),c.nh(a.pa()));a.gm=c}
b.draw=function(a,c){if(c){this.s=this.m.ob.ka();var d=this.bf()?this.s.dn:this.s.rn;this.Ed=this.Ps.tb||d;this.Zg.setAttribute("fill",this.Ed);this.yi.setAttribute("stroke",this.Ed);this.xi.setAttribute("fill",this.Ed);this.Vf.setAttribute("stroke",this.Ed);this.bf()&&(d=this.Ed+";transparent;transparent;",this.Zg.firstChild.setAttribute("values",d),this.xi.firstChild.setAttribute("values",d),this.Vf.firstChild.setAttribute("values",d));d=c.Da.type;if(c.getType()==h.F.types.Sb)wd(this,c);else if(c.getType()==
h.F.types.Kh)wd(this,c);else if(d==h.X.Zb){var e=c.Da;d=e.$();var f=e.Xf.x,g=e.Xf.y;e=h.g.A.moveTo(0,0)+xa(this.s,e).Rd;this.xi.setAttribute("d",e);this.xi.setAttribute("transform","translate("+f+","+g+")"+(this.m.I?" scale(-1 1)":""));this.Aj=this.xi;vd(this,d);xd(this)}else if(d==h.X.$b)g=c.Da,d=g.$(),f=0,g=g.Xf.y,e=r(d).width,this.m.I&&(f=-e),yd(this,f,g,e),vd(this,d),xd(this);else if(c.getType()==h.F.types.tg)wd(this,c);else if(c.getType()==h.F.types.Dc)d=c.Da,f=d.Pf().width,g=d.Pf().height,zd(this,
0,0,f,g),vd(this,d),xd(this);else if(c.getType()==h.F.types.Wc)f=c.lz,d=f.x,f=f.y,this.m.I&&(d-=this.s.gn),yd(this,d,f,this.s.gn),vd(this,this.m),xd(this);else if(c.getType()==h.F.types.Mh){d=c.Da;g=r(d);f=g.width+this.s.fn;g=g.height+this.s.fn;var k=e=-this.s.fn/2,l=-this.s.fn/2;this.m.I&&(k=-(f+e));zd(this,k,l,f,g);vd(this,d);xd(this)}d=c.$();a=new (h.h.get(h.h.cq))(d,this.bf(),a,c);h.h.Ha(a);a=this.Aj.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.ab()};
function wd(a,c){c=c.$();var d=c.width,e=c.height,f=e*h.i.og.rA,g=a.s.Ez;if(c.aa){var k=xa(a.s,c.aa);e=k;d=h.g.A.moveBy(-g,f)+h.g.A.Y("V",-g)+h.g.A.Y("H",a.s.Nk)+e.hh+h.g.A.Y("H",d+2*g)+h.g.A.Y("V",f);a.Vf.setAttribute("d",d)}else c.S?(f=k=xa(a.s,c.S),d=h.g.A.moveBy(d,0)+h.g.A.Y("h",-(d-f.width))+h.g.A.Y("v",a.s.lj)+f.Rd+h.g.A.Y("V",e)+h.g.A.Y("H",d),a.Vf.setAttribute("d",d)):(d=h.g.A.moveBy(-g,f)+h.g.A.Y("V",-g)+h.g.A.Y("H",d+2*g)+h.g.A.Y("V",f),a.Vf.setAttribute("d",d));a.m.I&&a.zl(a.Vf);a.Aj=a.Vf;
vd(a,c);xd(a)}function xd(a){a.ab();a.Aj.style.display=""}function yd(a,c,d,e){a.Zg.setAttribute("x",c);a.Zg.setAttribute("y",d);a.Zg.setAttribute("width",e);a.Aj=a.Zg}function zd(a,c,d,e,f){a.yi.setAttribute("x",c);a.yi.setAttribute("y",d);a.yi.setAttribute("width",e);a.yi.setAttribute("height",f);a.Aj=a.yi}b.zl=function(a){a.setAttribute("transform","scale(-1 1)")};b.ab=function(){this.Zg.style.display="none";this.yi.style.display="none";this.xi.style.display="none";this.Vf.style.display="none"};
b.H=function(){this.O&&h.g.j.removeNode(this.O)};h.i.vf=function(a,c,d){this.lb=d;this.mf=a;this.Eb=h.g.j.J(h.g.D.Ke,{"class":"blocklyPath"},this.mf);this.style=c;this.Os=this.ml=null};b=h.i.vf.prototype;b.Qt=function(a){this.Eb.setAttribute("d",a)};b.Tr=function(){this.Eb.setAttribute("transform","scale(-1 1)")};b.Zf=function(a){a?(this.mf.appendChild(a),this.ml=a):this.ml=null};b.nh=function(a){a?(this.ml?this.mf.insertBefore(a,this.ml):this.mf.appendChild(a),this.Os=a):this.Os=null};
b.ec=function(a){this.Eb.setAttribute("stroke",this.style.xj);this.Eb.setAttribute("fill",this.style.Th);this.$y(a.Ma);this.iu(!a.isEnabled()||ac(a))};b.Li=function(a){this.style=a};function B(a,c,d){d?h.g.j.Nb(a.mf,c):h.g.j.fd(a.mf,c)}b.Yy=function(a){a?this.Eb.setAttribute("filter","url(#"+this.lb.no+")"):this.Eb.setAttribute("filter","none")};b.$y=function(a){a&&(this.Eb.setAttribute("stroke","none"),this.Eb.setAttribute("fill",this.style.Un))};
b.iu=function(a){B(this,"blocklyDisabled",a);a&&this.Eb.setAttribute("fill","url(#"+this.lb.Jw+")")};h.i.wf=function(a){this.name=a;this.nt=this.s=null};b=h.i.wf.prototype;b.ne=function(){return this.name+"-renderer"};b.Ca=function(a,c){this.s=this.Js();c&&(this.nt=c,h.g.object.$g(this.s,c));this.s.um(a);this.s.Ca()};b.Wa=function(a,c){this.s.Wa(a,this.name+"-"+c.name,"."+this.ne()+"."+c.ne())};b.yt=function(a,c){var d=this.ka();d.H();this.s=this.Js();this.nt&&h.g.object.$g(this.s,this.nt);this.s.mm=d.mm;this.s.um(c);this.s.Ca();this.Wa(a,c)};b.H=function(){this.s&&this.s.H()};b.Js=function(){return new h.i.tf};
b.Sx=function(a){return new h.i.ce(this,a)};b.Qx=function(a,c){return new h.i.Cc(a,c)};b.Rx=function(a,c){return new h.i.vf(a,c,this.s)};b.ka=function(){return this.s};b.Ka=function(a){if(h.i.Om&&!a.Ht){if(!h.i.Rc)throw Error("Missing require for Blockly.blockRendering.Debug");var c=new h.i.Rc(this.ka());a.Ht=c}c=this.Sx(a);c.measure();this.Qx(a,c).draw()};h.ga={};h.ga.tf=function(){h.ga.tf.v.constructor.call(this);this.Rp=!1;this.bc=1;this.LA=30;this.Fv=-this.hq/2};h.g.object.V(h.ga.tf,h.i.tf);h.ga.tf.prototype.Xr=function(a){return h.ga.tf.v.Xr.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.on+";","stroke: none;","}"])};h.ga.Tu=function(a){this.qa=a;this.Ol=this.ma="";this.cc=this.qa.I;a=a.ob;this.s=a.ka();this.qd=a.qd;this.ad=this.qd.OFFSET;this.mt=this.qd.XA;this.Rj=this.qd.AA;this.lm=this.qd.mq;this.jE=this.qd.dj;this.mF=this.qd.ij;this.Mx=this.qd.aj};h.ga.Tu.prototype.tl=function(a){this.qa.I&&(this.ma+=this.Mx.hh+h.g.A.Y("v",a.height-this.Mx.height-this.ad))};
function Ad(a,c){var d=c.ta+c.width-a.ad;c.Tw&&(a.ma+=h.g.A.Y("H",d));a.cc&&(a.ma+=h.g.A.Y("H",d),c.height>a.ad&&(a.ma+=h.g.A.Y("V",c.Lb+c.height-a.ad)))};h.ga.mg=function(a,c){h.ga.mg.v.constructor.call(this,a,c);this.Fg&&(this.width+=this.s.bc,this.height+=this.s.bc)};h.g.object.V(h.ga.mg,h.i.mg);h.ga.vg=function(a,c){h.ga.vg.v.constructor.call(this,a,c);this.Fg&&(this.height+=this.s.bc)};h.g.object.V(h.ga.vg,h.i.vg);h.ga.ce=function(a,c){h.ga.ce.v.constructor.call(this,a,c)};h.g.object.V(h.ga.ce,h.i.ce);b=h.ga.ce.prototype;b.ut=function(){h.ga.ce.v.ut.call(this);this.Ga.U.length&&this.Ga.U[this.Ga.U.length-1].type==h.Ia.pc||(this.sb.minHeight=this.s.Ad-this.s.bc)};
b.aw=function(a,c){this.Tj&&a.type==h.Ia.Ne?(c.elements.push(new h.ga.mg(this.s,a)),c.ps=!0):a.type==h.Ia.pc?(c.elements.push(new h.ga.vg(this.s,a)),c.Qb=!0):a.type==h.Ia.Ne?(c.elements.push(new h.i.ln(this.s,a)),c.Pg=!0):a.type==h.Ia.Ge&&(c.minHeight=Math.max(c.minHeight,this.s.Iu),c.Nj=!0);this.Tj||null!=c.align||(c.align=a.align)};
b.$v=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.Pg&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.rp()&&d.elements.push(new h.i.uf(this.s,this.ai(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var g=this.ai(e[f],e[f+1]);d.elements.push(new h.i.uf(this.s,g))}d.elements.push(e[e.length-1]);d.vl()&&(g=this.ai(e[e.length-1],null),a&&d.Nj&&(g+=this.s.En),d.elements.push(new h.i.uf(this.s,g)))}}};
b.ai=function(a,c){if(!a)return c&&h.i.o.df(c)&&c.Ld?this.s.Ad:c&&h.i.o.Tg(c)?this.s.hv:c&&h.i.o.ri(c)?this.s.Hv:this.s.Fc;if(!h.i.o.Tf(a)&&(!c||h.i.o.ri(c)))return h.i.o.df(a)&&a.Ld?this.s.Ad:h.i.o.Sj(a)?2*this.s.Fc+1:h.i.o.pi(a)?this.s.Je:h.i.o.QD(a)?this.s.Fc:h.i.o.Ug(a)?this.s.OA:h.i.o.Hx(a)?this.s.Je:this.s.Fc;if(h.i.o.Tf(a)&&!c){if(h.i.o.Rl(a))return this.s.Je;if(h.i.o.Tg(a))return this.s.Fc;if(h.i.o.ri(a))return this.s.Je}if(!h.i.o.Tf(a)&&c&&h.i.o.Tf(c)){if(h.i.o.df(a)&&a.Ld){if(h.i.o.Tg(c)||
h.i.o.Rl(c))return this.s.nB}else{if(h.i.o.Tg(c)||h.i.o.Rl(c))return this.s.hv;if(h.i.o.ri(c))return this.s.Fc}return this.s.Fc-1}if(h.i.o.Sj(a)&&c&&!h.i.o.Tf(c))return this.s.Fc;if(h.i.o.Tg(a)&&c&&h.i.o.df(c))return c.Ld?this.s.Ad:this.s.Fc;if(h.i.o.Sl(a)&&c){if(h.i.o.pi(c))return this.s.Je;if(h.i.o.Wj(c))return c.Pd;if(h.i.o.Vg(c))return a=(this.I?1:-1)*this.s.bc/2,c.Pd+a}if(h.i.o.Ug(a)&&c){if(h.i.o.Wj(c))return c.Pd-this.s.qb;if(h.i.o.Vg(c))return a=(this.I?1:-1)*this.s.bc/2,c.Pd-this.s.qb+a}return h.i.o.df(a)&&
c&&h.i.o.df(c)&&a.Ld==c.Ld||c&&h.i.o.Hx(c)?this.s.Fc:this.s.Ad};b.mx=function(a,c){return h.i.o.Io(a)&&h.i.o.Ao(c)?this.s.Sz:h.i.o.Io(a)||h.i.o.Ao(c)?this.s.Je:a.Pg&&c.Pg?this.s.Fc:!a.Qb&&c.Qb?this.s.vz:a.Qb&&c.Qb||!a.Qb&&c.Nj||a.Nj?this.s.Fc:this.s.Ad};
b.$w=function(a,c){if(h.i.o.td(c))return a.Lb+c.height/2;if(h.i.o.Ao(a))return a=a.Lb+a.height-a.ol,h.i.o.Vg(c)?a+c.height/2:a-c.height/2;if(h.i.o.Io(a))return h.i.o.pi(c)?a.Ef-c.height/2:a.Ef+c.height/2;var d=a.Lb;h.i.o.df(c)||h.i.o.Sj(c)?(d+=c.height/2,(a.ps||a.Qb)&&c.height+this.s.Iv<=a.height&&(d+=this.s.Iv)):d=h.i.o.Tg(c)?d+c.height/2:d+a.height/2;return d};
b.Hq=function(){if(this.Tj){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.Ws=a,h.i.o.LD(e)&&(e.Qb&&kd(this,e),c&&c.Qb&&e.width<c.width?e.Ws=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.Qb?a=this.El(e):h.i.o.td(e)?e.width=Math.max(a,e.Ws):(a=Math.max(a,e.Ws)-e.width,0<a&&ld(e,a),a=e.width)}else h.ga.ce.v.Hq.call(this)};b.El=function(a){return this.Tj&&a.Qb?this.ph+this.s.LA+this.Ud:h.ga.ce.v.El.call(this,a)};
b.Pw=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.Lb=c;e.ta=this.Ud;c+=e.height;a=Math.max(a,e.xd);var f=c-this.Rb.rj;e==this.sb&&f<this.s.Jk&&(f=this.s.Jk-f,this.sb.height+=f,c+=f);md(this,e)}this.S&&this.Ga.ea&&this.Ga.ea.isConnected()&&(a=Math.max(a,r(this.Ga.ea.sa()).width-this.s.bc));this.sb.ge=c-this.sb.ol;this.vh=a+this.Ud+this.s.bc;this.width+=this.s.bc;this.height=c+this.s.bc;this.qp=this.Rb.Ef};h.ga.Cc=function(a,c){h.ga.Cc.v.constructor.call(this,a,c);this.af=new h.ga.Tu(c)};h.g.object.V(h.ga.Cc,h.i.Cc);b=h.ga.Cc.prototype;b.draw=function(){rd(this);sd(this);td(this);var a=this.Ga.wb;a.Qt(this.Na+"\n"+this.zo);var c=this.af;a.Mi.setAttribute("d",c.ma+"\n"+c.Ol);this.qa.I&&a.Tr();h.i.Om&&pd(this.Ga.Ht,this.Ga,this.qa);ud(this)};
b.Mr=function(){var a=this.af,c=this.qa.Rb;a.ma+=h.g.A.moveBy(c.ta,a.qa.qp);for(var d=0,e;e=c.elements[d];d++)h.i.o.Sl(e)?a.ma+=a.qd.Ev:h.i.o.Ug(e)?a.ma+=a.mt.du(a.cc):h.i.o.Wj(e)?a.ma+=a.jE.hh:h.i.o.pi(e)?a.ma+=a.mF.path(a.cc):h.i.o.td(e)&&0!=e.width&&(a.ma+=h.g.A.Y("H",e.ta+e.width-a.ad));a.ma+=h.g.A.Y("H",c.ta+c.width-a.ad);Ad(this.af,this.qa.Rb);h.ga.Cc.v.Mr.call(this)};b.tl=function(a){this.af.tl(a);h.ga.Cc.v.tl.call(this,a)};
b.Nr=function(a){var c=this.af,d=O(a);if(c.cc){var e=a.height-d.yj;c.ma+=h.g.A.moveTo(d.ta+d.width-c.ad,a.Lb)+c.lm.Rd(c.cc)+h.g.A.Y("v",e)}else c.ma+=h.g.A.moveTo(d.ta+d.width,a.Lb)+c.lm.Rd(c.cc);h.ga.Cc.v.Nr.call(this,a)};
b.Lr=function(a){var c=this.af,d=O(a);if(c.cc){var e=a.height-2*c.Rj.height;c.ma+=h.g.A.moveTo(d.ta,a.Lb)+c.Rj.rt(c.cc)+h.g.A.Y("v",e)+c.Rj.gp(c.cc)+h.g.A.lineTo(a.width-d.ta-c.Rj.width,0)}else c.ma+=h.g.A.moveTo(d.ta,a.Lb+a.height)+c.Rj.gp(c.cc)+h.g.A.lineTo(a.width-d.ta-c.Rj.width,0);h.ga.Cc.v.Lr.call(this,a)};b.Nw=function(a){Ad(this.af,a);this.Na+=h.g.A.Y("H",a.ta+a.width)+h.g.A.Y("V",a.Lb+a.height)};
b.Ir=function(){var a=this.af,c=this.qa.sb;if(a.cc)a.ma+=h.g.A.Y("V",c.ge-a.ad);else{var d=a.qa.sb.elements[0];h.i.o.Sl(d)?a.ma+=h.g.A.moveTo(c.ta+a.ad,c.ge-a.ad):h.i.o.Ug(d)&&(a.ma+=h.g.A.moveTo(c.ta,c.ge),a.ma+=a.mt.Rq())}h.ga.Cc.v.Ir.call(this)};
b.Kr=function(){var a=this.af,c=a.qa.S;c&&(c=c.od+c.height,a.cc?a.ma+=h.g.A.moveTo(a.qa.Ud,c):(a.ma+=h.g.A.moveTo(a.qa.Ud+a.ad,a.qa.sb.ge-a.ad),a.ma+=h.g.A.Y("V",c)),a.ma+=a.lm.hm(a.cc));a.cc||(c=a.qa.Rb,a.ma=h.i.o.Ug(c.elements[0])?a.ma+h.g.A.Y("V",a.mt.height):a.ma+h.g.A.Y("V",c.Ef+a.ad));h.ga.Cc.v.Kr.call(this)};
b.Jr=function(a){var c=this.af,d=c.ad,e=a.ta+a.Se,f=a.Dg-a.height/2,g=a.width-a.Se,k=f+d;if(c.cc){f=a.od-d;var l=a.height-(a.od+a.yj)+d;c.Ol+=h.g.A.moveTo(e-d,k)+h.g.A.Y("v",f)+c.lm.Rd(c.cc)+h.g.A.Y("v",l)+h.g.A.Y("h",g)}else c.Ol+=h.g.A.moveTo(a.ta+a.width+d,k)+h.g.A.Y("v",a.height)+h.g.A.Y("h",-g)+h.g.A.moveTo(e,f+a.od)+c.lm.Rd(c.cc);h.ga.Cc.v.Jr.call(this,a)};b.xy=function(a){var c=a.Dg-a.height/2;if(a.rc){var d=a.ta+a.Se+this.s.bc;this.qa.I&&(d*=-1);F(a.rc,d,c+a.od+this.s.bc)}};
b.zy=function(a){var c=O(a);if(c.rc){var d=a.ta+a.ph+c.Pd;d=this.qa.I?-1*d:d+this.s.bc;F(c.rc,d,a.Lb+this.s.bc)}};b.wy=function(a){var c=O(a);if(c.rc){var d=a.ta+a.width+this.s.bc;this.qa.I&&(d*=-1);F(c.rc,d,a.Lb)}};b.yy=function(){var a=this.qa.sb;if(a.connection){var c=a.connection,d=c.ta;F(c.rc,(this.qa.I?-d:d)+this.s.bc/2,a.ge+this.s.bc)}};h.ga.Su=function(a){this.zj=a;this.OFFSET=.5;this.Ev=h.g.A.moveBy(this.OFFSET,this.OFFSET)};b=h.ga.Su.prototype;b.Ca=function(){this.AA=Bd(this);this.XA=Cd(this);this.mq=this.Ms();this.dj=this.Ls();this.aj=this.Ks();this.ij=this.Ns()};
function Bd(a){var c=a.zj.qb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c+a)-a,e=h.g.A.moveBy(d,d)+h.g.A.arc("a","0 0,0",c,h.g.A.Ja(-d-a,c-d)),f=h.g.A.arc("a","0 0,0",c+a,h.g.A.Ja(c+a,c+a)),g=h.g.A.moveBy(d,-d)+h.g.A.arc("a","0 0,0",c+a,h.g.A.Ja(c-d,d+a));return{width:c+a,height:c,rt:function(k){return k?e:""},gp:function(k){return k?f:g}}}
function Cd(a){var c=a.zj.qb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c-a)+a,e=h.g.A.moveBy(d,d)+h.g.A.arc("a","0 0,1",c-a,h.g.A.Ja(c-d,-d+a)),f=h.g.A.moveBy(a,c)+h.g.A.arc("a","0 0,1",c-a,h.g.A.Ja(c,-c+a)),g=-d,k=h.g.A.moveBy(d,g)+h.g.A.arc("a","0 0,1",c-a,h.g.A.Ja(-d+a,-g-c));return{height:c,du:function(l){return l?e:f},Rq:function(){return k}}}
b.Ms=function(){var a=this.zj.En,c=this.zj.Qk,d=h.g.A.moveBy(-2,-c+3.4)+h.g.A.lineTo(-.45*a,-2.1),e=h.g.A.Y("v",2.5)+h.g.A.moveBy(.97*-a,2.5)+h.g.A.curve("q",[h.g.A.Ja(.05*-a,10),h.g.A.Ja(.3*a,9.5)])+h.g.A.moveBy(.67*a,-1.9)+h.g.A.Y("v",2.5),f=h.g.A.Y("v",-1.5)+h.g.A.moveBy(-.92*a,-.5)+h.g.A.curve("q",[h.g.A.Ja(-.19*a,-5.5),h.g.A.Ja(0,-11)])+h.g.A.moveBy(.92*a,1),g=h.g.A.moveBy(-5,c-.7)+h.g.A.lineTo(.46*a,-2.1);return{width:a,height:c,hm:function(k){return k?d:f},Rd:function(k){return k?e:g}}};
b.Ls=function(){return{hh:h.g.A.Y("h",this.OFFSET)+this.zj.dj.hh}};b.Ks=function(){return{hh:h.g.A.lineTo(5.1,2.6)+h.g.A.moveBy(-10.2,6.8)+h.g.A.lineTo(5.1,2.6),height:12,width:10.2}};b.Ns=function(){var a=this.zj.ij.height,c=h.g.A.moveBy(25,-8.7)+h.g.A.curve("c",[h.g.A.Ja(29.7,-6.2),h.g.A.Ja(57.2,-.5),h.g.A.Ja(75,8.7)]),d=h.g.A.curve("c",[h.g.A.Ja(17.8,-9.2),h.g.A.Ja(45.3,-14.9),h.g.A.Ja(75,-8.7)])+h.g.A.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};h.ga.vf=function(a,c,d){this.lb=d;this.mf=a;this.Fm=h.g.j.J(h.g.D.Ke,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.mf);this.Eb=h.g.j.J(h.g.D.Ke,{"class":"blocklyPath"},this.mf);this.Mi=h.g.j.J(h.g.D.Ke,{"class":"blocklyPathLight"},this.mf);this.gr="#000000";this.style=c};h.g.object.V(h.ga.vf,h.i.vf);b=h.ga.vf.prototype;b.Qt=function(a){this.Eb.setAttribute("d",a);this.Fm.setAttribute("d",a)};
b.Tr=function(){this.Eb.setAttribute("transform","scale(-1 1)");this.Mi.setAttribute("transform","scale(-1 1)");this.Fm.setAttribute("transform","translate(1,1) scale(-1 1)")};b.ec=function(a){this.Mi.style.display="";this.Fm.style.display="";this.Mi.setAttribute("stroke",this.style.xj);this.Fm.setAttribute("fill",this.gr);h.ga.vf.v.ec.call(this,a);this.Eb.setAttribute("stroke","none")};b.Li=function(a){this.style=a;this.gr=h.g.tb.Oq("#000",this.style.Th,.2)||this.gr};
b.Yy=function(a){a?(this.Eb.setAttribute("filter","url(#"+this.lb.no+")"),this.Mi.style.display="none"):(this.Eb.setAttribute("filter","none"),this.Mi.style.display="inline")};b.$y=function(a){a&&(this.Mi.style.display="none",this.Fm.setAttribute("fill",this.style.Un),this.Eb.setAttribute("stroke","none"),this.Eb.setAttribute("fill",this.style.Un))};b.iu=function(a){h.ga.vf.v.iu.call(this,a);a&&this.Eb.setAttribute("stroke","none")};h.ga.wf=function(a){h.ga.wf.v.constructor.call(this,a);this.qd=null};h.g.object.V(h.ga.wf,h.i.wf);b=h.ga.wf.prototype;b.Ca=function(a,c){h.ga.wf.v.Ca.call(this,a,c);this.qd=new h.ga.Su(this.ka());this.qd.Ca()};b.yt=function(a,c){h.ga.wf.v.yt.call(this,a,c);this.qd.Ca()};b.Js=function(){return new h.ga.tf};b.Sx=function(a){return new h.ga.ce(this,a)};b.Qx=function(a,c){return new h.ga.Cc(a,c)};b.Rx=function(a,c){return new h.ga.vf(a,c,this.ka())};h.i.register("geras",h.ga.wf);h.M.ADD_COMMENT="Add Comment";h.M.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";h.M.CLEAN_UP="Clean up Blocks";h.M.COLLAPSE_ALL="Collapse Blocks";h.M.COLLAPSE_BLOCK="Collapse Block";h.M.DELETE_ALL_BLOCKS="Delete all %1 blocks?";h.M.DELETE_BLOCK="Delete Block";h.M.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";h.M.DELETE_X_BLOCKS="Delete %1 Blocks";h.M.DIALOG_CANCEL="Cancel";h.M.DIALOG_OK="OK";
h.M.DISABLE_BLOCK="Disable Block";h.M.DUPLICATE_BLOCK="Duplicate";h.M.DUPLICATE_COMMENT="Duplicate Comment";h.M.ENABLE_BLOCK="Enable Block";h.M.EXPAND_ALL="Expand Blocks";h.M.EXPAND_BLOCK="Expand Block";h.M.EXTERNAL_INPUTS="External Inputs";h.M.HELP="Help";h.M.INLINE_INPUTS="Inline Inputs";h.M.NEW_VARIABLE="Create variable...";h.M.NEW_VARIABLE_TITLE="New variable name:";h.M.PROCEDURES_DEFNORETURN_PROCEDURE="do something";h.M.REDO="Redo";h.M.REMOVE_COMMENT="Remove Comment";h.M.RENAME_VARIABLE="Rename variable...";
h.M.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";h.M.UNDO="Undo";h.M.UNNAMED_KEY="unnamed";h.M.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";h.M.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";h.M.WORKSPACE_ARIA_LABEL="Blockly Workspace";h.M.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";h.M.PROCEDURES_DEFRETURN_PROCEDURE=h.M.PROCEDURES_DEFNORETURN_PROCEDURE;var BlocklyStorage={},Dd=null,Ed=null,Fd=null;function Gd(){var a=Dd();Hd("xml="+encodeURIComponent(a),Id)}var Jd={};
function Hd(a,c){Jd["/storage"]&&Jd["/storage"].abort();Jd["/storage"]=new XMLHttpRequest;Jd["/storage"].onload=function(){200===this.status?c&&c.call(this):Kd(N("Games_httpRequestError")+"\nXHR status: "+this.status);Jd["/storage"]=null};Jd["/storage"].open("POST","/storage");Jd["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");Jd["/storage"].send(a)}
function Id(){window.location.hash=this.responseText.trim();Kd(N("Games_linkAlert").replace("%1",window.location.href));Fd=Dd()}function Ld(){var a=this.responseText.trim();a.length?Ed(a):Kd(N("Games_hashError").replace("%1",window.location.hash));Fd=Dd()}function Kd(a){if("object"===typeof P){var c=document.getElementById("linkButton");P.pF(c,a)}else alert(a)};var y=null,Md="",Nd="";function Od(){ed();var a=document.getElementById("linkButton");a&&(ad?a.style.display="none":(Dd=Pd,Ed=Qd,id(a,Gd)));(a=document.getElementById("languageMenu"))&&a.addEventListener("change",Rd,!0)}
function Sd(){var a='<xml><block movable="'+(1!=M)+'" type="maze_moveForward" x="70" y="70"></block></xml>';if(!ad&&1<window.location.hash.length)Hd("key="+encodeURIComponent(window.location.hash.substring(1)),Ld);else{var c=null;try{c=window.sessionStorage.Hs}catch(e){}c&&delete window.sessionStorage.Hs;var d=fd(M);(a=c||d||a)&&Qd(a)}}function Qd(a){a=h.K.ze(a);y.clear();h.K.Xh(a,y);a=y;a.Pi.length=0;a.nm.length=0;h.h.jC()}
function Pd(){var a=h.K.hz(!0);if(1==y.vb(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return h.K.Hd(a)}function Td(){"object"==typeof BlocklyStorage&&null!==Fd&&Fd!=Pd()&&(window.location.hash="",Fd=null)}function Ud(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;y=h.Rg("blockly",a);D(y,Td)}function Vd(){window.location=(ad?"index.html":"./")+"?lang="+K}
function Rd(){window.sessionStorage&&(window.sessionStorage.Hs=Pd());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function Wd(){10>M?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+K+"&level="+(M+1):Vd()}function Xd(a){if(a){var c=a.match(/^block_id_([^']+)$/);c&&(a=c[1])}Pc(a,void 0)}function Yd(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function Zd(a){if("click"==a.type&&"touchend"==$d&&ae+2E3>Date.now()||$d==a.type&&ae+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;$d=a.type;ae=Date.now();return!1}
var $d=null,ae=0;function be(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}function ce(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)};var P={mi:!1,Gw:null,co:null,wm:function(a,c,d,e,f,g){function k(){if(P.mi){l.style.visibility="visible";l.style.zIndex=10;m.style.visibility="hidden";var q=a.getElementsByClassName("primary");q.length||(q=a.getElementsByClassName("secondary"),q.length||(q=a.getElementsByTagName("button")));q.length&&q[0].focus()}}if(!a)throw TypeError("Content not found: "+a);P.mi&&P.$e(!1);h.Lg()&&h.ic(!0);P.mi=!0;P.Gw=c;P.co=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=
document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),e.id="dialogHeader",l.appendChild(e),P.vr=h.Rh(e,"mousedown",null,P.DC));f=a.getElementsByClassName("dialogOk");for(e=0;e<f.length;e++)f[e].textContent=h.M.DIALOG_OK;f=a.getElementsByClassName("dialogCancel");for(e=0;e<f.length;e++)f[e].textContent=h.M.DIALOG_CANCEL;l.appendChild(a);a.className=a.className.replace("dialogHiddenContent",
"");try{c.blur()}catch(q){}d&&c?(P.Po(c,!1,.2),P.Po(l,!0,.8),setTimeout(k,175)):k()},Hw:0,Iw:0,DC:function(a){P.yr();if(!h.g.Tl(a)){var c=document.getElementById("dialog");P.Hw=c.offsetLeft-a.clientX;P.Iw=c.offsetTop-a.clientY;P.xr=h.Rh(document,"mouseup",null,P.yr);P.wr=h.Rh(document,"mousemove",null,P.EC);a.stopPropagation()}},EC:function(a){var c=document.getElementById("dialog"),d=P.Hw+a.clientX;a=P.Iw+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=
Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},yr:function(){P.xr&&(h.vp(P.xr),P.xr=null);P.wr&&(h.vp(P.wr),P.wr=null)},$e:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(P.mi){P.yr();P.vr&&(h.vp(P.vr),P.vr=null);P.mi=!1;P.co&&P.co();P.co=null;var d=!1===a?null:P.Gw;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?
(P.Po(a,!1,.8),P.Po(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},Po:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=g.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),g=P.Ww(a);c?(f.className="dialogAnimate",
setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},Ww:function(a){var c=h.g.style.bi(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},pF:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");
P.wm(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},P.Ry);P.Oy()},Xv:function(){if(!fd(M))if(P.mi||y.bd())setTimeout(P.Xv,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",P.$e,!0);c.addEventListener("touchend",P.$e,!0);c=document.getElementById("abortOk");c.addEventListener("click",Vd,!0);c.addEventListener("touchend",Vd,!0);P.wm(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",
P.Wv,!0)});document.body.addEventListener("keydown",P.Wv,!0)}},pC:function(){var a=document.getElementById("dialogDone");if(y){var c=document.getElementById("dialogLinesText");c.textContent="";var d=Nd;d=Yd(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),
f.innerHTML=d);d=1==e?N("Games_linesOfCode1"):N("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d=10>M?N("Games_nextLevel").replace("%1",String(M+1)):N("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",P.$e,!0);c.addEventListener("touchend",P.$e,!0);c=document.getElementById("doneOk");c.addEventListener("click",Wd,!0);c.addEventListener("touchend",Wd,!0);P.wm(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",
P.qw,!0)});document.body.addEventListener("keydown",P.qw,!0);document.getElementById("dialogDoneText").textContent=d},ho:function(a){!P.mi||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(P.$e(!0),a.stopPropagation(),a.preventDefault())},Oy:function(){document.body.addEventListener("keydown",P.ho,!0)},Ry:function(){document.body.removeEventListener("keydown",P.ho,!0)},qw:function(a){P.ho(a);13!=a.keyCode&&32!=a.keyCode||Wd()},Wv:function(a){P.ho(a);13!=a.keyCode&&32!=a.keyCode||Vd()}};
window.BlocklyDialogs=P;P.hideDialog=P.$e;h.Generator=function(a){this.dm=a};b=h.Generator.prototype;b.Vu=null;b.An=null;b.Bn=null;b.yA="  ";b.Az=60;b.wn=[];b.Do=null;function de(a,c){return c+a.replace(/(?!\n$)\n/g,"\n"+c)}
function ee(a,c){!1===a.Do&&console.warn("Generator init was not called before blockToCode was called.");if(!c)return"";if(!c.isEnabled())return ee(a,w(c));if(c.sd())return ee(a,z(c,!1)[0]);var d=a[c.type];if("function"!=typeof d)throw Error('Language "'+a.dm+'" does not know how to generate code for block type "'+c.type+'".');d=d.call(c,c);if(Array.isArray(d)){if(!c.S)throw TypeError("Expecting string from statement block: "+c.type);return[a.Lt(c,d[0],void 0),d[1]]}if("string"==typeof d)return a.An&&
!c.Zt&&(d=fe(a.An,c)+d),a.Bn&&!c.Zt&&(d+=fe(a.Bn,c)),a.Lt(c,d,void 0);if(null===d)return"";throw SyntaxError("Invalid code generated: "+d);}
function ge(a,c,d,e){if(isNaN(e))throw TypeError("Expecting valid order from block: "+c.type);var f=gc(c,d);if(!f)return"";d=ee(a,f);if(""===d)return"";if(!Array.isArray(d))throw TypeError("Expecting tuple from value block: "+f.type);c=d[0];d=d[1];if(isNaN(d))throw TypeError("Expecting valid order from value block: "+f.type);if(!c)return"";f=!1;var g=Math.floor(e),k=Math.floor(d);if(g<=k&&(g!=k||0!=g&&99!=g))for(f=!0,g=0;g<a.wn.length;g++)if(a.wn[g][0]==e&&a.wn[g][1]==d){f=!1;break}f&&(c="("+c+")");
return c}function he(a,c){var d=h.P;a=gc(a,c);c=ee(d,a);if("string"!=typeof c)throw TypeError("Expecting code from statement block: "+(a&&a.type));c&&(c=de(c,d.yA));return c}function fe(a,c){c=c.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+c+"'")}b.oq="";function ie(a,c){a.oq+=c+","}
Object.defineProperty(h.Generator.prototype,"variableDB_",{get:function(){h.g.Dj.warn("variableDB_","May 2021","May 2026","nameDB_");return this.ef},set:function(a){h.g.Dj.warn("variableDB_","May 2021","May 2026","nameDB_");this.ef=a}});h.Generator.prototype.Ca=function(){this.qr=Object.create(null);this.WC=Object.create(null)};h.Generator.prototype.Lt=function(a,c){return c};h.Generator.prototype.finish=function(a){delete this.qr;delete this.WC;return a};h.Generator.prototype.Jy=function(a){return a};h.P=new h.Generator("JavaScript");ie(h.P,"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(h.g.global).join(","));h.P.XH=0;h.P.oI=1.1;h.P.vn=1.2;h.P.un=2;h.P.lI=3;h.P.fI=3;h.P.$H=4.1;h.P.rI=4.2;h.P.vv=4.3;h.P.qv=4.4;
h.P.qI=4.5;h.P.sI=4.6;h.P.gI=4.7;h.P.YH=4.8;h.P.jI=5;h.P.tv=5.1;h.P.hI=5.2;h.P.nI=5.3;h.P.uv=6.1;h.P.tn=6.2;h.P.bI=7;h.P.pI=8;h.P.kI=8;h.P.mI=8;h.P.iI=9;h.P.ZH=10;h.P.cI=11;h.P.aI=12;h.P.pv=13;h.P.rv=14;h.P.eI=15;h.P.WH=16;h.P.tI=17;h.P.dI=18;h.P.VA=99;h.P.wn=[[h.P.un,h.P.vn],[h.P.un,h.P.un],[h.P.vn,h.P.vn],[h.P.vn,h.P.un],[h.P.qv,h.P.qv],[h.P.tv,h.P.tv],[h.P.tn,h.P.tn],[h.P.pv,h.P.pv],[h.P.rv,h.P.rv]];h.P.Do=!1;
h.P.Ca=function(a){Object.getPrototypeOf(this).Ca.call(this);this.ef?this.ef.reset():this.ef=new h.Bd(this.oq);this.ef.St(a.Pa);for(var c=this.ef,d=h.na.Iq(a),e=0;e<d.length;e++)Xc(c,d[e].hc(),h.Ph);c=this.ef;d=h.Ta.bw(a);d=d[0].concat(d[1]);for(e=0;e<d.length;e++)Xc(c,d[e][0],h.lq);c=[];e=h.na.IB(a);for(d=0;d<e.length;d++)c.push(Xc(this.ef,e[d],h.Bd.Mp));a=h.na.Iq(a);for(d=0;d<a.length;d++)c.push(Xc(this.ef,a[d].hc(),h.Ph));c.length&&(this.qr.variables="var "+c.join(", ")+";");this.Do=!0};
h.P.finish=function(a){var c=h.g.object.values(this.qr);a=Object.getPrototypeOf(this).finish.call(this,a);this.Do=!1;this.ef.reset();return c.join("\n\n")+"\n\n\n"+a};h.P.Jy=function(a){return a+";\n"};h.P.zE=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};h.P.eK=function(a){return a.split(/\n/g).map(this.zE).join(" + '\\n' +\n")};
h.P.Lt=function(a,c,d){var e="";if(!a.S||!a.S.ya){var f=a.je.text;f&&(f=h.g.Ra.iz(f,this.Az-3),e+=de(f+"\n","// "));for(var g=0;g<a.U.length;g++)if(a.U[g].type==h.Ia.Ne){var k=a.U[g].connection.sa();if(k){f=[];k=v(k,!0);for(var l=0;l<k.length;l++){var m=k[l].je.text;m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=de(f,"// "))}}}a=a.ea&&a.ea.sa();d=d?"":ee(this,a);return e+c+d};
h.P.KJ=function(a,c,d,e,f){d=d||0;f=f||this.VA;a.B.options.bp&&d--;var g=a.B.options.bp?"1":"0";a=0<d?ge(this,a,c,this.tn)||g:0>d?ge(this,a,c,this.uv)||g:e?ge(this,a,c,this.vv)||g:ge(this,a,c,f)||g;if(h.PD(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=this.tn}else 0>d&&(a=a+" - "+-d,k=this.uv);e&&(a=d?"-("+a+")":"-"+a,k=this.vv);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};h.$d=function(a,c,d,e,f,g,k){if(!a)throw Error("Src value of an image field is required");a=h.g.gd(a);d=Number(h.g.gd(d));c=Number(h.g.gd(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.zl=!1;this.Ln="";h.$d.v.constructor.call(this,a,null,k);k||(this.zl=!!g,this.Ln=h.g.gd(e)||"");this.zc=new h.g.Uc(c,d+h.$d.DB);this.FD=d;this.Gf=null;"function"==
typeof f&&(this.Gf=f);this.Mc=null};h.g.object.V(h.$d,h.yd);h.$d.prototype.Kp="";h.$d.ba=function(a){return new h.$d(a.src,a.width,a.height,void 0,void 0,void 0,a)};h.$d.DB=1;b=h.$d.prototype;b.yk=!1;b.Sg=!1;b.cl=function(a){h.$d.v.cl.call(this,a);this.zl=!!a.flipRtl;this.Ln=h.g.gd(a.alt)||""};b.xo=function(){this.Mc=h.g.j.J(h.g.D.Ek,{height:this.FD+"px",width:this.zc.width+"px",alt:this.Ln},this.$c);this.Mc.setAttributeNS(h.g.j.ld,"xlink:href",this.pf);this.Gf&&(this.Mc.style.cursor="pointer")};
b.az=function(){};b.lo=function(a){return"string"!=typeof a?null:a};b.rl=function(a){this.pf=a;this.Mc&&this.Mc.setAttributeNS(h.g.j.ld,"xlink:href",String(this.pf))};b.ax=function(){return this.zl};b.pp=function(){this.Gf&&this.Gf(this)};b.ks=function(){return this.Ln};h.Jg.register("field_image",h.$d);var je={},Q,ke,le,R,S,T,me;h.nc.maze_moveForward={Ca:function(){cc(this,{message0:N("Maze_moveForward"),previousStatement:null,nextStatement:null,colour:290,tooltip:N("Maze_moveForwardTooltip")})}};h.P.maze_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};h.nc.maze_turn={Ca:function(){var a=[[N("Maze_turnLeft"),"turnLeft"],[N("Maze_turnRight"),"turnRight"]];a[0][0]+=" \u21ba";a[1][0]+=" \u21bb";this.we(290);E(bc(this),new h.Za(a),"DIR");this.Ki(!0);this.ek(!0);this.ye(N("Maze_turnTooltip"))}};
h.P.maze_turn=function(a){return cb(a,"DIR")+"('block_id_"+a.id+"');\n"};h.nc.maze_if={Ca:function(){var a=[[N("Maze_pathAhead"),"isPathForward"],[N("Maze_pathLeft"),"isPathLeft"],[N("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.we(210);E(bc(this),new h.Za(a),"DIR");E(this.Cf(h.Ia.pc,"DO"),N("Maze_doCode"));this.ye(N("Maze_ifTooltip"));this.Ki(!0);this.ek(!0)}};h.P.maze_if=function(a){var c=cb(a,"DIR")+"('block_id_"+a.id+"')";a=he(a,"DO");return"if ("+c+") {\n"+a+"}\n"};
h.nc.maze_ifElse={Ca:function(){var a=[[N("Maze_pathAhead"),"isPathForward"],[N("Maze_pathLeft"),"isPathLeft"],[N("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.we(210);E(bc(this),new h.Za(a),"DIR");E(this.Cf(h.Ia.pc,"DO"),N("Maze_doCode"));E(this.Cf(h.Ia.pc,"ELSE"),N("Maze_elseCode"));this.ye(N("Maze_ifelseTooltip"));this.Ki(!0);this.ek(!0)}};
h.P.maze_ifElse=function(a){var c=cb(a,"DIR")+"('block_id_"+a.id+"')",d=he(a,"DO");a=he(a,"ELSE");return"if ("+c+") {\n"+d+"} else {\n"+a+"}\n"};h.nc.maze_forever={Ca:function(){this.we(120);E(E(bc(this),N("Maze_repeatUntil")),new h.$d(U.Oo,12,16));E(this.Cf(h.Ia.pc,"DO"),N("Maze_doCode"));this.Ki(!0);this.ye(N("Maze_whileTooltip"))}};h.P.maze_forever=function(a){var c=he(a,"DO");h.P.Vu&&(c=h.P.Vu.replace(/%1/g,"'block_id_"+a.id+"'")+c);return"while (notDone()) {\n"+c+"}\n"};var ne=ne||{};function oe(a,c){function d(){}d.prototype=c.prototype;a.v=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.nJ=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}}if(!pe){var pe,qe="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(qe=navigator.userAgent);var re=0==qe.indexOf("Opera");pe={dK:{KG:"ScriptEngine"in window},VH:re,ae:!re&&-1!=qe.indexOf("MSIE"),Qv:!re&&-1!=qe.indexOf("WebKit")}}if(!te)var te={};
if(!ue)var ue={};if(!ve)var ve={};if(!we)var we={};if(!xe)var xe={};if(!ye)var ye={};var ze=ne.Jz?{qK:!0}:{},Ae=ne.Jz?{rK:!0}:{};function Be(){throw Error("Do not instantiate directly");}Be.prototype.ww=null;Be.prototype.toString=function(){return this.content};function Ce(a){if(null!=a)switch(a.ww){case 1:return 1;case -1:return-1;case 0:return 0}return null}function De(){Be.call(this)}oe(De,Be);De.prototype.xw=ze;
function V(a){return null!=a&&a.xw===ze?a:Ee(String(String(a)).replace(Fe,Ge),Ce(a))}var Ee=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.ww=e);return f}}(De),He={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};
function Ge(a){return He[a]}var Fe=/[\x00\x22\x26\x27\x3c\x3e]/g;function Ie(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary dialogOk" onclick="BlocklyDialogs.hideDialog(true)"></button></div>'};function Je(){var a="skin="+V(Ke),c='<table width="100%"><tr><td><h1><span id="title">'+((ad?'<a href="index.html?lang='+V(K)+'">':'<a href="./?lang='+V(K)+'">')+"Blockly Games</a> : "+V("Maze")+"</span>");if(M){a=""+(a?V(a):"");for(var d=" &nbsp; ",e=1;11>e;e++){var f="?lang="+V(K)+"&level="+V(e)+(a?"&"+V(a):"");d+=" "+(e==M?'<span class="level_number level_done" id="level'+V(e)+'">'+V(e)+"</span>":10==e?'<a class="level_number" id="level'+V(e)+'" href="'+V(f)+'">'+V(e)+"</a>":'<a class="level_dot" id="level'+
V(e)+'" href="'+V(f)+'"></a>')}a=d}else a="";return'<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Maze_moveForward">move forward</span><span id="Maze_turnLeft">turn left</span><span id="Maze_turnRight">turn right</span><span id="Maze_doCode">do</span><span id="Maze_elseCode">else</span><span id="Maze_helpIfElse">If-else blocks will do one thing or the other.</span><span id="Maze_pathAhead">if path ahead</span><span id="Maze_pathLeft">if path to the left</span><span id="Maze_pathRight">if path to the right</span><span id="Maze_repeatUntil">repeat until</span><span id="Maze_moveForwardTooltip">Moves the player forward one space.</span><span id="Maze_turnTooltip">Turns the player left or right by 90 degrees.</span><span id="Maze_ifTooltip">If there is a path in the specified direction, then do some actions.</span><span id="Maze_ifelseTooltip">If there is a path in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.</span><span id="Maze_whileTooltip">Repeat the enclosed actions until finish point is reached.</span><span id="Maze_capacity0">You have %0 blocks left.</span><span id="Maze_capacity1">You have %1 block left.</span><span id="Maze_capacity2">You have %2 blocks left.</span></div>'+
(c+a+'</h1></td><td id="header_cta" class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button>&nbsp;'+('<button id="pegmanButton"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>'.xw===Ae?"zSoyz":'<button id="pegmanButton"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>')+'</td></tr></table><div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgMaze" width="400px" height="400px"><g id="look"><path d="M 0,-15 a 15 15 0 0 1 15 15" /><path d="M 0,-35 a 35 35 0 0 1 35 35" /><path d="M 0,-55 a 55 55 0 0 1 55 55" /></g></svg><div id="capacityBubble"><div id="capacity"></div></div></div><table width="400"><tr><td style="width: 190px; text-align: center; vertical-align: top;"><td><button id="runButton" class="primary" title="Makes the player do what the blocks say."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Put the player back at the start of the maze."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><xml id="toolbox" xmlns="https://developers.google.com/blockly/xml"><block type="maze_moveForward"></block><block type="maze_turn"><field name="DIR">turnLeft</field></block><block type="maze_turn"><field name="DIR">turnRight</field></block>')+
((2<M?'<block type="maze_forever"></block>'+(6==M?'<block type="maze_if"><field name="DIR">isPathLeft</field></block>':6<M?'<block type="maze_if"></block>'+(8<M?'<block type="maze_ifElse"></block>':""):""):"")+'</xml><div id="blockly"></div><div id="pegmanMenu"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel" class="dialogCancel"></button><button id="doneOk" class="secondary dialogOk"></button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel" class="dialogCancel"></button><button id="abortOk" class="secondary dialogOk"></button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>')+
(Ie()+"</div>")+(1==M?'<div id="dialogHelpStack" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Stack a couple of \'move forward\' blocks together to help me reach the goal.</td><td valign="top"><img src="maze/help_stack.png" class="mirrorImg" height=63 width=136></td></tr></table></div><div id="dialogHelpOneTopBlock" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>On this level, you need to stack together all of the blocks in the white workspace.<div id="sampleOneTopBlock" class="readonly"></div></td></tr></table></div><div id="dialogHelpRun" class="dialogHiddenContent"><table><tr><td>Run your program to see what happens.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="maze/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':
2==M?'<div id="dialogHelpReset" class="dialogHiddenContent"><table><tr><td>Your program didn\'t solve the maze. Press \'Reset\' and try again.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="maze/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':3==M||4==M?(3==M?'<div id="dialogHelpRepeat" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>Reach the end of this path using only two blocks. Use \'repeat\' to run a block more than once.</td><td><img src="common/help.png"></td></tr></table></div>':
"")+'<div id="dialogHelpCapacity" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>You have used up all the blocks for this level. To create a new block, you first need to delete an existing block.</td></tr></table></div><div id="dialogHelpRepeatMany" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>You can fit more than one block inside a \'repeat\' block.</td><td><img src="common/help.png"></td></tr></table></div>':5==M?
'<div id="dialogHelpSkins" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td width="95%">Choose your favourite player from this menu.</td><td><img src="maze/help_up.png"></td></tr></table></div>':6==M?'<div id="dialogHelpIf" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>An \'if\' block will do something only if the condition is true. Try turning left if there is a path to the left.</td><td><img src="common/help.png"></td></tr></table></div>':
7==M?'<div id="dialogHelpMenu" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td id="helpMenuText">Click on %1 in the \'if\' block to change its condition.</td><td><img src="common/help.png"></td></tr></table></div>':9==M?'<div id="dialogHelpIfElse" class="dialogHiddenContent"><table><tr><td><img src="maze/help_down.png"></td><td>If-else blocks will do one thing or the other.</td><td><img src="common/help.png"></td></tr></table></div>':10==M?'<div id="dialogHelpWallFollow" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Can you solve this complicated maze? Try following the left-hand wall. Advanced programmers only!'+
Ie()+"</td></tr></table></div>":"")};var hd="maze";Wd=function(){10>M?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+K+"&level="+(M+1)+"&skin="+Ke:Vd()};
var Le=[void 0,Infinity,Infinity,2,5,5,5,5,10,7,10][M],Me=[{fk:"maze/pegman.png",$t:"maze/tiles_pegman.png",Oo:"maze/marker.png",background:!1,Is:"#000",lu:["maze/win.mp3","maze/win.ogg"],lr:["maze/fail_pegman.mp3","maze/fail_pegman.ogg"],Zn:1},{fk:"maze/astro.png",$t:"maze/tiles_astro.png",Oo:"maze/marker.png",background:"maze/bg_astro.jpg",Is:"#fff",lu:["maze/win.mp3","maze/win.ogg"],lr:["maze/fail_astro.mp3","maze/fail_astro.ogg"],Zn:2},{fk:"maze/panda.png",$t:"maze/tiles_panda.png",Oo:"maze/marker.png",
background:"maze/bg_panda.jpg",Is:"#000",lu:["maze/win.mp3","maze/win.ogg"],lr:["maze/fail_panda.mp3","maze/fail_panda.ogg"],Zn:3}],Ke=cd("skin",0,Me.length-1),U=Me[Ke],W=[void 0,[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,2,1,3,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,3,0,0,0],[0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,
0,0,0,0,0],[0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,3,1,0],[0,0,0,0,1,1,0,0],[0,0,0,1,1,0,0,0],[0,0,1,1,0,0,0,0],[0,2,1,0,0,0,0,0],[1,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,3,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,2,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,1,0,0,0,1,0,0],[0,1,1,3,0,1,0,0],[0,0,0,0,0,1,0,0],[0,2,1,1,1,1,0,0],
[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,1,1,0],[0,1,1,3,0,1,0,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,0,0,0],[0,1,0,0,1,1,0,0],[0,1,1,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,2,1,1,0,3,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,0,1,0,0,0,0,0],[3,1,1,1,1,1,1,0],[0,1,0,1,0,1,1,0],[1,1,1,1,1,0,1,0],[0,1,0,1,0,2,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,0,3,0,1,0],[0,1,1,
0,1,1,1,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,1,0,0,1,0],[0,2,1,1,1,0,1,0],[0,0,0,0,0,0,0,0]]][M],Ne=W.length,Oe=W[0].length,Pe=50*Oe,Qe=50*Ne,X=0,Y=[],Re={10010:[4,0],10001:[3,3],11E3:[0,1],10100:[0,2],11010:[4,1],10101:[3,2],10110:[0,0],10011:[2,0],11001:[4,2],11100:[2,3],11110:[1,1],10111:[1,0],11011:[2,1],11101:[1,2],11111:[2,2],null0:[4,3],null1:[3,0],null2:[3,1],null3:[0,3],null4:[1,3]};
function Se(){function a(m,n){return 0>m||m>=Oe||0>n||n>=Ne?"0":0==W[n][m]?"0":"1"}var c=document.getElementById("svgMaze"),d=50*Math.max(Ne,Oe);c.setAttribute("viewBox","0 0 "+d+" "+d);h.g.j.J("rect",{height:Qe,width:Pe,fill:"#F1EEE7","stroke-width":1,stroke:"#CCB"},c);if(U.background){var e=h.g.j.J("image",{height:Qe,width:Pe,x:0,y:0},c);e.setAttributeNS(h.g.j.ld,"xlink:href",U.background)}for(var f=d=0;f<Ne;f++)for(var g=0;g<Oe;g++){var k=a(g,f)+a(g,f-1)+a(g+1,f)+a(g,f+1)+a(g-1,f);Re[k]||(k="00000"==
k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));e=Re[k][0];k=Re[k][1];var l=h.g.j.J("clipPath",{id:"tileClipPath"+d},c);h.g.j.J("rect",{height:50,width:50,x:50*g,y:50*f},l);e=h.g.j.J("image",{height:200,width:250,"clip-path":"url(#tileClipPath"+d+")",x:50*(g-e),y:50*(f-k)},c);e.setAttributeNS(h.g.j.ld,"xlink:href",U.$t);d++}h.g.j.J("image",{id:"finish",height:34,width:20},c).setAttributeNS(h.g.j.ld,"xlink:href",U.Oo);d=h.g.j.J("clipPath",{id:"pegmanClipPath"},c);h.g.j.J("rect",{id:"clipRect",
height:52,width:49},d);h.g.j.J("image",{id:"pegman",height:52,width:1029,"clip-path":"url(#pegmanClipPath)"},c).setAttributeNS(h.g.j.ld,"xlink:href",U.fk)}
function Te(a){if(!(a&&a.As||y.bd()||1==X||fd(M))){a=dd();var c=h.K.Hd(h.K.hz()),d=y.za.m.vb(!0),e=null,f=null,g=null;if(1==M)2>C(y).length?(e=document.getElementById("dialogHelpStack"),g={width:"370px",top:"130px"},g[a?"right":"left"]="215px",f=d[0].pa()):(d=y.vb(!0),1<d.length?(e='<xml>;<block type="maze_moveForward" x="10" y="10">;<next>;<block type="maze_moveForward"></block>;</next>;</block>;</xml>'.split(";"),f=document.getElementById("sampleOneTopBlock"),f.firstChild||(f=h.Rg(f,{rtl:dd(),readOnly:!0}),
"string"!=typeof e&&(e=e.join("")),h.K.Xh(h.K.ze(e),f)),e=document.getElementById("dialogHelpOneTopBlock"),g={width:"360px",top:"120px"},g[a?"right":"left"]="225px",f=d[0].pa()):0==X&&(e=document.getElementById("dialogHelpRun"),g={width:"360px",top:"410px"},g[a?"right":"left"]="400px",f=document.getElementById("runButton")));else if(2==M)0!=X&&"none"==document.getElementById("runButton").style.display&&(e=document.getElementById("dialogHelpReset"),g={width:"360px",top:"410px"},g[a?"right":"left"]=
"400px",f=document.getElementById("resetButton"));else if(3==M)-1==c.indexOf("maze_forever")&&(0==fb(y)?(e=document.getElementById("dialogHelpCapacity"),g={width:"430px",top:"310px"},g[a?"right":"left"]="50px",f=document.getElementById("capacityBubble")):(e=document.getElementById("dialogHelpRepeat"),g={width:"360px",top:"360px"},g[a?"right":"left"]="425px",f=d[3].pa()));else if(4==M)if(0==fb(y)&&(-1==c.indexOf("maze_forever")||1<y.vb(!1).length))e=document.getElementById("dialogHelpCapacity"),g=
{width:"430px",top:"310px"},g[a?"right":"left"]="50px",f=document.getElementById("capacityBubble");else{c=!0;for(var k=C(y),l=0;l<k.length;l++){var m=k[l];if("maze_forever"==m.type){for(var n=0;m;)m=z(m),m=m.length?m[0]:null,n++;if(2<n){c=!1;break}}}c&&(e=document.getElementById("dialogHelpRepeatMany"),g={width:"360px",top:"360px"},g[a?"right":"left"]="425px",f=d[3].pa())}else if(5==M)0!=Ke||Ue.HB||(e=document.getElementById("dialogHelpSkins"),g={width:"360px",top:"60px"},g[a?"left":"right"]="20px",
f=document.getElementById("pegmanButton"));else if(6==M)-1==c.indexOf("maze_if")&&(e=document.getElementById("dialogHelpIf"),g={width:"360px",top:"430px"},g[a?"right":"left"]="425px",f=d[4].pa());else if(7==M){if(!Te.ID){k=document.createElement("span");k.className="helpMenuFake";l=[N("Maze_pathAhead"),N("Maze_pathLeft"),N("Maze_pathRight")];n=h.g.Ra.nw(l);m=h.g.Ra.ow(l);k.textContent=(m?l[0].slice(n,-m):l[0].substring(n))+" "+h.Za.Um;n=document.getElementById("helpMenuText");l=n.textContent;n.textContent=
"";m=l.split(/%\d/);for(l=0;l<m.length;l++)n.appendChild(document.createTextNode(m[l])),l!=m.length-1&&n.appendChild(k.cloneNode(!0));Te.ID=!0}-1==c.indexOf("isPathRight")&&(e=document.getElementById("dialogHelpMenu"),g={width:"360px",top:"430px"},g[a?"right":"left"]="425px",f=d[4].pa())}else 9==M&&-1==c.indexOf("maze_ifElse")&&(e=document.getElementById("dialogHelpIfElse"),g={width:"360px",top:"305px"},g[a?"right":"left"]="425px",f=d[5].pa());e?e.parentNode!=document.getElementById("dialog")&&P.wm(e,
f,!0,!1,g,null):P.$e(!1)}}function Ue(a){var c=document.getElementById("pegmanMenu");"block"==c.style.display?Ve(a):Zd(a)||(a=document.getElementById("pegmanButton"),a.classList.add("buttonHover"),c.style.top=a.offsetTop+a.offsetHeight+"px",c.style.left=a.offsetLeft+"px",c.style.display="block",je.st=h.Rh(document.body,"mousedown",null,Ve),(c=document.getElementById("dialogHelpSkins"))&&"dialogHiddenContent"!=c.className&&P.$e(!1),Ue.HB=!0)}
function Ve(a){Zd(a)||(document.getElementById("pegmanMenu").style.display="none",document.getElementById("pegmanButton").classList.remove("buttonHover"),je.st&&(h.vp(je.st),delete je.st))}
function We(a){for(var c=0;c<Y.length;c++)clearTimeout(Y[c]);Y=[];R=ke.x;S=ke.y;a?(T=2,Xe(!1),Y.push(setTimeout(function(){Q=100;Ye([R,S,4*T-4]);T++},5*Q))):(T=1,Z(R,S,4*T));c=document.getElementById("finish");c.setAttribute("x",50*(le.x+.5)-c.getAttribute("width")/2);c.setAttribute("y",50*(le.y+.6)-c.getAttribute("height"));c=document.getElementById("look");c.style.display="none";c.parentNode.appendChild(c);a=c.getElementsByTagName("path");c=0;for(var d;d=a[c];c++)d.setAttribute("stroke",U.Is)}
function Ze(a){if(!Zd(a))if(P.$e(!1),1==M&&1<y.vb(!1).length&&1!=X&&!fd(M))Te();else{a=document.getElementById("runButton");var c=document.getElementById("resetButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px");a.style.display="none";c.style.display="inline";We(!1);$e()}}function af(a){Zd(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",Pc(null),We(!1),Te())}
function bf(a,c){var d=function(e){cf(0,e)};a.setProperty(c,"moveForward",a.createNativeFunction(d));d=function(e){cf(2,e)};a.setProperty(c,"moveBackward",a.createNativeFunction(d));d=function(e){df(0,e)};a.setProperty(c,"turnLeft",a.createNativeFunction(d));d=function(e){df(1,e)};a.setProperty(c,"turnRight",a.createNativeFunction(d));d=function(e){return ef(0,e)};a.setProperty(c,"isPathForward",a.createNativeFunction(d));d=function(e){return ef(1,e)};a.setProperty(c,"isPathRight",a.createNativeFunction(d));
d=function(e){return ef(2,e)};a.setProperty(c,"isPathBackward",a.createNativeFunction(d));d=function(e){return ef(3,e)};a.setProperty(c,"isPathLeft",a.createNativeFunction(d));a.setProperty(c,"notDone",a.createNativeFunction(function(){return R!=le.x||S!=le.y}))}
function $e(){if("Interpreter"in window){me=[];h.selected&&tb(h.selected);var a=h.P;var c=y;c||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),c=h.Lg());var d=[];a.Ca(c);c=c.vb(!0);for(var e=0,f;f=c[e];e++){var g=ee(a,f);Array.isArray(g)&&(g=g[0]);g&&(f.S&&(g=a.Jy(g),a.An&&!f.Zt&&(g=fe(a.An,f)+g),a.Bn&&!f.Zt&&(g+=fe(a.Bn,f))),d.push(g))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");Nd=a=d=d.replace(/[ \t]+\n/g,"\n");Md=Pd();X=0;a=new Interpreter(a,
bf);try{for(d=1E4;a.step();)if(0==d--)throw Infinity;X=R!=le.x||S!=le.y?-1:1}catch(k){Infinity===k?X=2:!1===k?X=-2:(X=-2,alert(k))}1==X?(Q=100,me.push(["finish",null])):Q=150;We(!1);Y.push(setTimeout(ff,100))}else setTimeout($e,250)}
function ff(){var a=me.shift();if(a){Xd(a[1]);switch(a[0]){case "north":Ye([R,S-1,4*T]);S--;break;case "east":Ye([R+1,S,4*T]);R++;break;case "south":Ye([R,S+1,4*T]);S++;break;case "west":Ye([R-1,S,4*T]);R--;break;case "look_north":gf(0);break;case "look_east":gf(1);break;case "look_south":gf(2);break;case "look_west":gf(3);break;case "fail_forward":hf(!0);break;case "fail_backward":hf(!1);break;case "left":Ye([R,S,4*T-4]);T=jf(T-1);break;case "right":Ye([R,S,4*T+4]);T=jf(T+1);break;case "finish":Xe(!0),
window.localStorage&&(window.localStorage[hd+M]=Md),setTimeout(P.pC,1E3)}Y.push(setTimeout(ff,5*Q))}else Xd(null),Te()}function kf(a){if("dialogHiddenContent"!=document.getElementById("dialogDone").className){var c=document.getElementById("pegSpin"),d=P.Ww(c),e=a.clientX-(d.x+d.width/2-window.pageXOffset);a=h.g.Md.tF(Math.atan((a.clientY-(d.y+d.height/2-window.pageYOffset))/e));e=Math.round((0<e?a+90:a+270)/360*16);16==e&&(e=15);c.style.backgroundPosition=49*-e+"px 0px"}}
function Ye(a){var c=[R,S,4*T],d=[(a[0]-c[0])/4,(a[1]-c[1])/4,(a[2]-c[2])/4];Z(c[0]+d[0],c[1]+d[1],lf(c[2]+d[2]));Y.push(setTimeout(function(){Z(c[0]+2*d[0],c[1]+2*d[1],lf(c[2]+2*d[2]))},Q));Y.push(setTimeout(function(){Z(c[0]+3*d[0],c[1]+3*d[1],lf(c[2]+3*d[2]))},2*Q));Y.push(setTimeout(function(){Z(a[0],a[1],lf(a[2]))},3*Q))}
function hf(a){var c=0,d=0;switch(T){case 0:d=-1;break;case 1:c=1;break;case 2:d=1;break;case 3:c=-1}a||(c=-c,d=-d);if(1==U.Zn){c/=4;d/=4;var e=lf(4*T);Z(R+c,S+d,e);y.Yc.play("fail",.5);Y.push(setTimeout(function(){Z(R,S,e)},Q));Y.push(setTimeout(function(){Z(R+c,S+d,e);y.Yc.play("fail",.5)},2*Q));Y.push(setTimeout(function(){Z(R,S,e)},3*Q))}else{var f=10*(Math.random()-.5),g=(Math.random()-.5)/2;c+=(Math.random()-.5)/4;d+=(Math.random()-.5)/4;c/=8;d/=8;var k=0;3==U.Zn&&(k=.01);Y.push(setTimeout(function(){y.Yc.play("fail",
.5)},2*Q));a=function(m){return function(){Z(R+c*m,S+d*m,lf(4*T+g*m),f*m);d+=k}};for(var l=1;100>l;l++)Y.push(setTimeout(a(l),Q*l/2))}}function Xe(a){var c=lf(4*T);Z(R,S,16);a&&y.Yc.play("win",.5);Q=150;Y.push(setTimeout(function(){Z(R,S,18)},Q));Y.push(setTimeout(function(){Z(R,S,16)},2*Q));Y.push(setTimeout(function(){Z(R,S,c)},3*Q))}
function Z(a,c,d,e){var f=document.getElementById("pegman");f.setAttribute("x",50*a-49*d+1);f.setAttribute("y",50*(c+.5)-26-8);e?f.setAttribute("transform","rotate("+e+", "+(50*a+25)+", "+(50*c+25)+")"):f.setAttribute("transform","rotate(0, 0, 0)");c=document.getElementById("clipRect");c.setAttribute("x",50*a+1);c.setAttribute("y",f.getAttribute("y"))}
function gf(a){var c=R,d=S;switch(a){case 0:c+=.5;break;case 1:c+=1;d+=.5;break;case 2:c+=.5;d+=1;break;case 3:d+=.5}c*=50;d*=50;var e=90*a-45;a=document.getElementById("look");a.setAttribute("transform","translate("+c+", "+d+") rotate("+e+" 0 0) scale(.4)");c=a.getElementsByTagName("path");a.style.display="inline";for(d=0;a=c[d];d++)mf(a,Q*d)}function mf(a,c){Y.push(setTimeout(function(){a.style.display="inline";setTimeout(function(){a.style.display="none"},2*Q)},c))}
function jf(a){a=Math.round(a)%4;0>a&&(a+=4);return a}function lf(a){a=Math.round(a)%16;0>a&&(a+=16);return a}function cf(a,c){if(!ef(a,null))throw me.push(["fail_"+(a?"backward":"forward"),c]),!1;switch(jf(T+a)){case 0:S--;var d="north";break;case 1:R++;d="east";break;case 2:S++;d="south";break;case 3:R--,d="west"}me.push([d,c])}function df(a,c){a?(T++,me.push(["right",c])):(T--,me.push(["left",c]));T=jf(T)}
function ef(a,c){switch(jf(T+a)){case 0:var d=W[S-1]&&W[S-1][R];var e="look_north";break;case 1:d=W[S][R+1];e="look_east";break;case 2:d=W[S+1]&&W[S+1][R];e="look_south";break;case 3:d=W[S][R-1],e="look_west"}c&&me.push([e,c]);return 0!==d&&void 0!==d}
window.addEventListener("load",function(){function a(){l.style.top=Math.max(10,m.offsetTop-window.pageYOffset)+"px";l.style.left=k?"10px":"420px";l.style.width=window.innerWidth-440+"px"}function c(n){return function(){window.sessionStorage&&(window.sessionStorage.Hs=Pd());location=location.protocol+"//"+location.host+location.pathname+"?lang="+K+"&level="+M+"&skin="+n}}document.body.innerHTML=Je();Od();document.querySelector("#pegmanButton>img").style.backgroundImage="url("+U.fk+")";for(var d=document.getElementById("pegmanMenu"),
e=0;e<Me.length;e++)if(e!=Ke){var f=document.createElement("div"),g=document.createElement("img");g.src="common/1x1.gif";g.style.backgroundImage="url("+Me[e].fk+")";f.appendChild(g);d.appendChild(f);h.Rh(f,"mousedown",null,c(e))}h.Rh(window,"resize",null,Ve);d=document.getElementById("pegmanButton");h.Rh(d,"mousedown",null,Ue);d=document.getElementById("pegmanButtonArrow");e=document.createTextNode(h.Za.Um);d.appendChild(e);var k=dd(),l=document.getElementById("blockly"),m=document.getElementById("visualization");
window.addEventListener("scroll",function(){a(null);h.Gm(y)});window.addEventListener("resize",a);a(null);Ud({maxBlocks:Le,rtl:k,trashcan:!0,zoom:{startScale:1+(1-M/10)/3}});y.Yc.load(U.lu,"win");y.Yc.load(U.lr,"fail");ie(h.P,"moveForward,moveBackward,turnRight,turnLeft,isPathForward,isPathRight,isPathBackward,isPathLeft");Se();Sd();for(d=0;d<Ne;d++)for(e=0;e<Oe;e++)2==W[d][e]?ke={x:e,y:d}:3==W[d][e]&&(le={x:e,y:d});We(!0);D(y,function(){var n=fb(y),q=document.getElementById("capacity");if(Infinity==
n)q.style.display="none";else{q.style.display="inline";q.innerHTML="";n=Number(n);var p=document.createElement("span");p.className="capacityNumber";p.appendChild(document.createTextNode(n));n=(0==n?N("Maze_capacity0"):1==n?N("Maze_capacity1"):N("Maze_capacity2")).split(/%\d/);for(var u=0;u<n.length;u++)q.appendChild(document.createTextNode(n[u])),u!=n.length-1&&q.appendChild(p.cloneNode(!0))}});document.body.addEventListener("mousemove",kf,!0);id("runButton",Ze);id("resetButton",af);1==M&&(h.oc*=
2,h.Du=h.oc);10==M?fd(M)||(d=document.getElementById("dialogHelpWallFollow"),P.wm(d,null,!1,!0,{width:"30%",left:"35%",top:"12em"},P.Ry),P.Oy(),setTimeout(P.Xv,3E5)):setTimeout(function(){D(y,Te);Te()},5E3);d=document.getElementById("dialogDoneButtons");e=document.createElement("img");e.id="pegSpin";e.src="common/1x1.gif";e.style.backgroundImage="url("+U.fk+")";d.parentNode.insertBefore(e,d);be();ce()});

