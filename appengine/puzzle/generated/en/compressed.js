// Automatically generated file.  Do not edit!

var b,h={g:{}};h.g.kc={};h.g.kc.ii=function(a){return a*Math.PI/180};h.g.kc.mD=function(a){return 180*a/Math.PI};h.g.kc.ik=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};
h.U={Ob:1,Dc:2,Pb:3,Tc:4};
h.bb={};h.ct=40;h.nt=125;h.Ax=5;h.$x=10;h.ac=28;h.Fs=h.ac;h.lx=8;h.po=250;h.qo=10;h.ix=30;h.wy=750;h.az=100;h.Bx=!0;h.iy=.45;h.jy=.65;h.hG={width:96,height:124,url:"sprites.png"};h.bb.Id={Md:-1,dm:0,af:1};h.bE=0;h.cE=1;h.$D=1;h.aE=2;h.Di=[];h.Di[h.U.Ob]=h.U.Dc;h.Di[h.U.Dc]=h.U.Ob;h.Di[h.U.Pb]=h.U.Tc;h.Di[h.U.Tc]=h.U.Pb;h.Gt="VARIABLE";h.nz="VARIABLE_DYNAMIC";h.qt="PROCEDURE";h.XF="RENAME_VARIABLE_ID";h.YD="DELETE_VARIABLE_ID";h.bb.fm="_TEMP_COLLAPSED_INPUT";h.bb.em="_TEMP_COLLAPSED_FIELD";h.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
h.L={};h.g.global.Blockly||(h.g.global.Blockly={});h.g.global.Blockly.Msg||(h.g.global.Blockly.Msg=h.L);h.g.hb={};h.g.hb.parse=function(a){a=String(a).toLowerCase().trim();var c=h.g.hb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?h.g.hb.Pr(a,c,d):null};
h.g.hb.Pr=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};h.g.hb.kv=function(a){a=h.g.hb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
h.g.hb.qv=function(a){var c=h.iy,d=255*h.jy,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=m;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=c,g=a}}return h.g.hb.Pr(Math.floor(e),Math.floor(f),Math.floor(g))};
h.g.hb.pp=function(a,c,d){a=h.g.hb.parse(a);if(!a)return null;c=h.g.hb.parse(c);if(!c)return null;a=h.g.hb.kv(a);c=h.g.hb.kv(c);return h.g.hb.Pr(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};h.g.hb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};h.g.O=function(a,c){this.x=a;this.y=c};h.g.O.qf=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};h.g.O.Xp=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};h.g.O.KB=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};h.g.O.Vm=function(a,c){return new h.g.O(a.x-c.x,a.y-c.y)};h.g.O.sum=function(a,c){return new h.g.O(a.x+c.x,a.y+c.y)};h.g.O.prototype.clone=function(){return new h.g.O(this.x,this.y)};h.g.O.prototype.scale=function(a){this.x*=a;this.y*=a;return this};
h.g.O.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};h.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};h.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};h.g.Qa={};h.g.Qa.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};h.g.Qa.Wr=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};h.g.Qa.bA=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Qa.Wr(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
h.g.Qa.cA=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Qa.Wr(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};h.g.Qa.zD=function(a){var c=h.G.uy;a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=h.g.Qa.AD(a[d],c);return a.join("\n")};
h.g.Qa.AD=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=h.g.Qa.Rw(d,a,c);e=h.g.Qa.ps(d,a,c);a=h.g.Qa.BD(d,a);f++}while(e>g);return k};
h.g.Qa.ps=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
h.g.Qa.Rw=function(a,c,d){for(var e=h.g.Qa.ps(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=h.g.Qa.ps(a,k,d);l>e&&(e=l,f=k)}return f?h.g.Qa.Rw(a,f,d):c};h.g.Qa.BD=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};h.g.Vc=function(a,c){this.width=a;this.height=c};h.g.Vc.qf=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};h.g.style={};h.g.style.sf=function(a){if("none"!=h.g.style.av(a,"display"))return h.g.style.Zu(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new h.g.Vc(g,a)};h.g.style.Zu=function(a){return new h.g.Vc(a.offsetWidth,a.offsetHeight)};h.g.style.av=function(a,c){return h.g.style.getComputedStyle(a,c)||h.g.style.RA(a,c)||a.style&&a.style[c]};
h.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};h.g.style.RA=function(a,c){return a.currentStyle?a.currentStyle[c]:null};h.g.style.zh=function(a){var c=new h.g.O(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new h.g.O(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
h.g.style.fB=function(){var a=document.body,c=document.documentElement;return new h.g.O(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};h.g.style.$H=function(a,c){a.style.display=c?"":"none"};h.g.style.GH=function(a){return"rtl"==h.g.style.av(a,"direction")};
h.g.style.OA=function(a){var c=h.g.style.getComputedStyle(a,"borderLeftWidth"),d=h.g.style.getComputedStyle(a,"borderRightWidth"),e=h.g.style.getComputedStyle(a,"borderTopWidth");a=h.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};h.g.style.TC=function(a,c){a=h.g.style.UA(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
h.g.style.UA=function(a,c){var d=h.g.style.zh(a),e=h.g.style.zh(c),f=h.g.style.OA(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=h.g.style.Zu(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new h.g.O(f,k)};h.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}h.g.userAgent.raw=a;var d=h.g.userAgent.raw.toUpperCase();h.g.userAgent.Ld=c("Trident")||c("MSIE");h.g.userAgent.bh=c("Edge");h.g.userAgent.sy=c("JavaFX");h.g.userAgent.PD=(c("Chrome")||c("CriOS"))&&!h.g.userAgent.bh;h.g.userAgent.Kt=c("WebKit")&&!h.g.userAgent.bh;h.g.userAgent.ay=c("Gecko")&&!h.g.userAgent.Kt&&!h.g.userAgent.Ld&&!h.g.userAgent.bh;h.g.userAgent.Yl=c("Android");a=h.g.global.navigator&&h.g.global.navigator.maxTouchPoints;h.g.userAgent.Nj=
c("iPad")||c("Macintosh")&&0<a;h.g.userAgent.$s=c("iPod");h.g.userAgent.Zs=c("iPhone")&&!h.g.userAgent.Nj&&!h.g.userAgent.$s;h.g.userAgent.xy=c("Macintosh");h.g.userAgent.gz=h.g.userAgent.Nj||h.g.userAgent.Yl&&!c("Mobile")||c("Silk");h.g.userAgent.oF=!h.g.userAgent.gz&&(h.g.userAgent.$s||h.g.userAgent.Zs||h.g.userAgent.Yl||c("IEMobile"))})(h.g.global.navigator&&h.g.global.navigator.userAgent||"");
h.g.XB=function(a){a.preventDefault();a.stopPropagation()};h.g.un=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.IH};
h.g.Vd=function(a){var c=new h.g.O(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(h.g.Vd.oz))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(h.g.Vd.pz))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
h.g.tq=function(a){for(var c=0,d=0;a;){var e=h.g.Vd(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new h.g.O(c,d)};h.g.Vd.oz=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;h.g.Vd.pz=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;h.g.Vk=function(a){return a.ctrlKey&&h.g.userAgent.xy?!0:2==a.button};
h.g.hl=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};h.g.bB=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*h.ct,y:a.deltaY*h.ct};case 2:return{x:a.deltaX*h.nt,y:a.deltaY*h.nt}}};h.g.nD=function(a){return h.g.gs(a,!0)};h.g.Nc=function(a){if("string"!=typeof a)return a;a=h.g.gs(a,!1);return a.length?String(a[0]):""};
h.g.cu=function(a){for(var c=h.L,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+d[e]+" in "+a)};
h.g.gs=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=h.g.Qa.startsWith(l,"BKY_")?
l.substring(4):null)&&l in h.L?(f=h.L[l],"string"==typeof f?Array.prototype.push.apply(d,h.g.gs(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};h.g.rf=function(){for(var a=h.g.rf.yw.length,c=[],d=0;20>d;d++)c[d]=h.g.rf.yw.charAt(Math.random()*a);return c.join("")};
h.g.rf.yw="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
h.g.Jh=function(){if(void 0!==h.g.Jh.yp)return h.g.Jh.yp;if(!h.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=h.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
h.g.Jh.yp="none"!==c;return h.g.Jh.yp};h.g.uw=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};h.g.eB=function(){var a=h.g.style.fB();return new h.g.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};
h.g.ek=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};h.g.XA=function(){var a=document.documentElement,c=window;return h.g.userAgent.Ld&&c.pageYOffset!=a.scrollTop?new h.g.O(a.scrollLeft,a.scrollTop):new h.g.O(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};h.g.Ou=function(a){var c=Object.create(null),d=p(a,!0);if(a=u(a))a=d.indexOf(a),d.splice(a,d.length-a);a=0;for(var e;e=d[a];a++)c[e.type]?c[e.type]++:c[e.type]=1;return c};
h.g.XH=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new h.g.O(d-e.left,c-e.top);c=h.g.tq(a.zb);return h.g.O.Vm(d,c).scale(1/a.scale)};h.g.Mn=function(a){var c="string"==typeof a?h.g.Nc(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{sB:d,Nk:h.g.hb.qv(d)};if(d=h.g.hb.parse(c))return{sB:null,Nk:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};h.Touch={};h.Touch.Ct="ontouchstart"in h.g.global||!!(h.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!h.g.global.navigator||!h.g.global.navigator.maxTouchPoints&&!h.g.global.navigator.msMaxTouchPoints);h.Touch.Pl=null;h.Touch.qe={};
h.g.global.PointerEvent?h.Touch.qe={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:h.Touch.Ct&&(h.Touch.qe={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});h.zn=0;
h.JB=function(a,c){h.zg();a.changedTouches&&1!=a.changedTouches.length||(h.zn=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&ba(c,a)},h.wy))};h.zg=function(){h.zn&&(clearTimeout(h.zn),h.zn=0)};h.Touch.Im=function(){h.Touch.Pl=null};h.Touch.Yr=function(a){return!h.Touch.CB(a)||h.Touch.Xz(a)};
h.Touch.gn=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};h.Touch.Xz=function(a){var c=h.Touch.gn(a);return void 0!==h.Touch.Pl&&null!==h.Touch.Pl?h.Touch.Pl==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(h.Touch.Pl=c,!0):!1};
h.Touch.WC=function(a){if(h.g.Qa.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};h.Touch.CB=function(a){return h.g.Qa.startsWith(a.type,"touch")||h.g.Qa.startsWith(a.type,"mouse")||h.g.Qa.startsWith(a.type,"pointer")};h.Touch.wn=function(a){return h.g.Qa.startsWith(a.type,"touch")||h.g.Qa.startsWith(a.type,"pointer")};
h.Touch.dD=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};h.S={};h.S.La=function(a,c,d,e,f,g){function k(t){var G=!f;t=h.Touch.dD(t);for(var M=0,T;T=t[M];M++)if(!G||h.Touch.Yr(T))h.Touch.WC(T),d?e.call(d,T):e(T),l=!0}var l=!1,m=[];if(h.g.global.PointerEvent&&c in h.Touch.qe)for(var n=0,q;q=h.Touch.qe[c][n];n++)a.addEventListener(q,k,!1),m.push([a,q,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in h.Touch.qe){var r=function(t){k(t);var G=!g;l&&G&&t.preventDefault()};for(n=0;q=h.Touch.qe[c][n];n++)a.addEventListener(q,r,!1),m.push([a,q,r])}return m};
h.S.bind=function(a,c,d,e){function f(n){d?e.call(d,n):e(n)}var g=[];if(h.g.global.PointerEvent&&c in h.Touch.qe)for(var k=0,l;l=h.Touch.qe[c][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(c,f,!1),g.push([a,c,f]),c in h.Touch.qe){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var q=n.changedTouches[0];n.clientX=q.clientX;n.clientY=q.clientY}f(n);n.preventDefault()};for(k=0;l=h.Touch.qe[c][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
h.S.vb=function(a){for(;a.length;){var c=a.pop(),d=c[2];c[0].removeEventListener(c[1],d,!1)}return d};h.pc=function(){this.ku=Object.create(null);this.Sz=Object.create(null)};function ca(a,c){var d=h.pc.Qc.xx;d=String(d).toLowerCase();return-1!==a.ku[c].TG.indexOf(d)}function da(a,c){c=String(c).toLowerCase();c=a.Sz[c];if(!c)return[];var d=[],e=[],f=a.ku;c.forEach(function(g){e.push(f[g])});e.sort(function(g,k){return g.weight-k.weight});e.forEach(function(g){d.push(g.ju)});return d}h.pc.Qc=function(a){this.er=a};h.pc.Qc.prototype.toString=function(){return this.er};h.pc.Qc.Oy=new h.pc.Qc("positionable");
h.pc.Qc.Cx=new h.pc.Qc("drag_target");h.pc.Qc.xx=new h.pc.Qc("delete_area");h.pc.Qc.$w=new h.pc.Qc("autohideable");
h.g.F=function(a){this.jD=a};h.g.F.prototype.toString=function(){return this.jD};h.g.F.mo=new h.g.F("animate");h.g.F.Cs=new h.g.F("circle");h.g.F.QD=new h.g.F("clipPath");h.g.F.Js=new h.g.F("defs");h.g.F.xo=new h.g.F("feComposite");h.g.F.Nx=new h.g.F("feComponentTransfer");h.g.F.Ox=new h.g.F("feFlood");h.g.F.Px=new h.g.F("feFuncA");h.g.F.Qx=new h.g.F("feGaussianBlur");h.g.F.Rx=new h.g.F("fePointLight");h.g.F.Sx=new h.g.F("feSpecularLighting");h.g.F.Qs=new h.g.F("filter");h.g.F.AE=new h.g.F("foreignObject");
h.g.F.Sc=new h.g.F("g");h.g.F.Eo=new h.g.F("image");h.g.F.Qj=new h.g.F("line");h.g.F.Ze=new h.g.F("path");h.g.F.ot=new h.g.F("pattern");h.g.F.Ny=new h.g.F("polygon");h.g.F.Tb=new h.g.F("rect");h.g.F.Yj=new h.g.F("svg");h.g.F.Bt=new h.g.F("text");h.g.F.Dt=new h.g.F("tspan");h.g.j={};h.g.j.vm="http://www.w3.org/2000/svg";h.g.j.Co="http://www.w3.org/1999/xhtml";h.g.j.mh="http://www.w3.org/1999/xlink";h.g.j.Wf={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};h.g.j.Pd=null;h.g.j.vp=0;h.g.j.Fm=null;h.g.j.M=function(a,c,d){a=document.createElementNS(h.g.j.vm,String(a));for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
h.g.j.Cb=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};h.g.j.RH=function(a,c){c=c.split(" ");for(var d=0;d<c.length;d++)h.g.j.Mc(a,c[d])};h.g.j.Mc=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};
h.g.j.Cq=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};h.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};h.g.j.Qk=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};h.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&h.g.j.Wf.DOCUMENT_POSITION_CONTAINED_BY)};
h.g.j.Tn=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};h.g.j.Gl=function(){h.g.j.vp++;h.g.j.Pd||(h.g.j.Pd=Object.create(null))};h.g.j.Hl=function(){h.g.j.vp--;h.g.j.vp||(h.g.j.Pd=null)};h.g.j.tH=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(h.g.j.Pd&&(d=h.g.j.Pd[c]))return d;try{d=h.g.userAgent.Ld||h.g.userAgent.bh?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}h.g.j.Pd&&(h.g.j.Pd[c]=d);return d};
h.g.j.rq=function(a,c,d,e){return h.g.j.YA(a,c+"pt",d,e)};h.g.j.YA=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(h.g.j.Pd&&(g=h.g.j.Pd[a]))return g;h.g.j.Fm||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),h.g.j.Fm=g.getContext("2d"));h.g.j.Fm.font=d+" "+c+" "+e;g=h.g.j.Fm.measureText(f).width;h.g.j.Pd&&(h.g.j.Pd[a]=g);return g};
h.g.j.NB=function(a,c,d){var e=document.createElement("span");e.style.font=c+" "+a+" "+d;e.textContent="Hg";a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(e);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.Od=a.offsetTop-e.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(c)}return d};
h.B=function(){};h.B.tp=null;h.B.Ad=null;h.B.mw=null;h.B.Zl=16;h.B.zs=1;h.B.vs=12;h.B.mt=16;h.B.no=.25;h.B.kp=null;h.B.Yh=null;h.B.ae="";h.B.ce="";
h.B.ib=function(){if(!h.B.le){var a=document.createElement("div");a.className="blocklyDropDownDiv";(h.Ln||document.body).appendChild(a);h.B.le=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);h.B.nf=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);h.B.pd=c;h.B.le.style.opacity=0;h.B.le.style.transition="transform "+h.B.no+"s, opacity "+h.B.no+"s";a.addEventListener("focusin",function(){h.g.j.Cb(a,"blocklyFocused")});a.addEventListener("focusout",
function(){h.g.j.Mc(a,"blocklyFocused")})}};h.B.VC=function(a){h.B.tp=a};h.B.VA=function(){return h.B.nf};h.B.Yz=function(){h.B.nf.textContent="";h.B.nf.style.width=""};h.B.Oe=function(a,c){h.B.le.style.backgroundColor=a;h.B.le.style.borderColor=c};h.B.cI=function(a,c,d,e){return h.B.xw(h.B.Xu(c),a,d,e)};h.B.aD=function(a,c){h.B.mw=!0;h.B.xw(h.B.Yu(a),a,c,void 0)};
h.B.Xu=function(a){var c=a.za(),d=c.getBBox(),e=a.A.scale;a=d.height*e;d=d.width*e;c=h.g.style.zh(c);return new h.g.Rect(c.y,c.y+a,c.x,c.x+d)};
h.B.Yu=function(a){if(a.Eb)c=a.Eb.getBoundingClientRect(),a=h.g.style.zh(a.Eb),e=c.width,c=c.height;else{var c=v(a.J);var d=a.J.A.scale;a=h.g.style.zh(ea(a));var e=c.width*d;c=c.height*d;h.g.userAgent.ay?(a.x+=1.5*d,a.y+=1.5*d):h.g.userAgent.bh||h.g.userAgent.Ld||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}d=new h.g.Rect(a.y,a.y+c,a.x,a.x+e);return new h.g.Rect(d.top,d.bottom,d.left,d.right)};
h.B.xw=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.W();for(var k=e.A;k.options.Lc;)k=k.options.Lc;h.B.VC(w(k).parentNode);return h.B.show(c,e.K,f,g,f,a,d)};h.B.show=function(a,c,d,e,f,g,k){h.B.Ad=a;h.B.Yh=k||null;a=h.B.le;a.style.direction=c?"rtl":"ltr";c=h.yh();h.B.ae=c.kb.Td();h.B.ce=c.tf().Td();h.g.j.Cb(a,h.B.ae);h.g.j.Cb(a,h.B.ce);return h.B.ql(d,e,f,g)};
h.B.PA=function(){var a=h.g.style.zh(h.B.tp),c=h.g.style.sf(h.B.tp);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};h.B.ZA=function(a,c,d,e){var f=h.B.PA(),g=h.g.style.sf(h.B.le);return c+g.height<f.bottom?h.B.Wu(a,c,f,g):e-g.height>f.top?h.B.Vu(d,e,f,g):c+g.height<document.documentElement.clientHeight?h.B.Wu(a,c,f,g):e-g.height>document.documentElement.clientTop?h.B.Vu(d,e,f,g):h.B.$A(a,f,g)};
h.B.Wu=function(a,c,d,e){a=h.B.xq(a,d.left,d.right,e.width);return{Iq:a.Xi,Jq:c,iq:a.Xi,jq:c+h.B.mt,Mi:a.Mi,mp:-(h.B.Zl/2+h.B.zs),Cm:!0,lp:!0}};h.B.Vu=function(a,c,d,e){a=h.B.xq(a,d.left,d.right,e.width);return{Iq:a.Xi,Jq:c-e.height,iq:a.Xi,jq:c-e.height-h.B.mt,Mi:a.Mi,mp:e.height-2*h.B.zs-h.B.Zl/2,Cm:!1,lp:!0}};h.B.$A=function(a,c,d){a=h.B.xq(a,c.left,c.right,d.width);return{Iq:a.Xi,Jq:0,iq:a.Xi,jq:0,Cm:null,Mi:null,mp:null,lp:!1}};
h.B.xq=function(a,c,d,e){var f=a;a=h.g.kc.ik(c,a-e/2,d-e);f-=h.B.Zl/2;c=h.g.kc.ik(h.B.vs,f-a,e-h.B.vs-h.B.Zl);return{Mi:c,Xi:a}};h.B.isVisible=function(){return!!h.B.Ad};h.B.Ok=function(a,c){h.B.Ad===a&&(c?h.B.Fq():h.B.sb())};h.B.sb=function(){var a=h.B.le;a.style.transform="translate(0, 0)";a.style.opacity=0;h.B.kp=setTimeout(function(){h.B.Fq()},1E3*h.B.no);h.B.Yh&&(h.B.Yh(),h.B.Yh=null)};
h.B.Fq=function(){if(h.B.isVisible()){h.B.kp&&clearTimeout(h.B.kp);var a=h.B.le;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";h.B.Yh&&(h.B.Yh(),h.B.Yh=null);h.B.Yz();h.B.Ad=null;h.B.ae&&(h.g.j.Mc(a,h.B.ae),h.B.ae="");h.B.ce&&(h.g.j.Mc(a,h.B.ce),h.B.ce="");fa(h.yh())}};
h.B.ql=function(a,c,d,e){a=h.B.ZA(a,c,d,e);a.lp?(h.B.pd.style.display="",h.B.pd.style.transform="translate("+a.Mi+"px,"+a.mp+"px) rotate(45deg)",h.B.pd.setAttribute("class",a.Cm?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):h.B.pd.style.display="none";c=Math.floor(a.Iq);d=Math.floor(a.Jq);e=Math.floor(a.iq);var f=Math.floor(a.jq),g=h.B.le;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return!!a.Cm};h.B.TH=function(){if(h.B.Ad){var a=h.B.Ad,c=a.W();a=h.B.mw?h.B.Yu(a):h.B.Xu(c);c=a.left+(a.right-a.left)/2;h.B.ql(c,a.bottom,c,a.top)}else h.B.sb()};h.u={};h.u.xj=Object.create(null);h.u.Hj="default";h.u.N=function(a){this.er=a};h.u.N.prototype.toString=function(){return this.er};h.u.N.Gs=new h.u.N("connectionChecker");h.u.N.Gj=new h.u.N("cursor");h.u.N.Bb=new h.u.N("event");h.u.N.rc=new h.u.N("field");h.u.N.RENDERER=new h.u.N("renderer");h.u.N.hz=new h.u.N("toolbox");h.u.N.ap=new h.u.N("theme");h.u.N.qG=new h.u.N("toolboxItem");h.u.N.Zx=new h.u.N("flyoutsVerticalToolbox");h.u.N.Yx=new h.u.N("flyoutsHorizontalToolbox");h.u.N.gt=new h.u.N("metricsManager");
h.u.N.ys=new h.u.N("blockDragger");
h.u.register=function(a,c,d,e){if(!(a instanceof h.u.N)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof c||""==c.trim())throw Error('Invalid name "'+c+'". The name must be a non-empty string.');c=c.toLowerCase();if(!d)throw Error("Can not register a null value");var f=h.u.xj[a];f||(f=h.u.xj[a]=Object.create(null));h.u.vD(a,d);if(!e&&f[c])throw Error('Name "'+
c+'" with type "'+a+'" already registered.');f[c]=d};h.u.vD=function(a,c){switch(a){case String(h.u.N.rc):if("function"!=typeof c.$)throw Error('Type "'+a+'" must have a fromJson function');}};h.u.unregister=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=h.u.xj[a];d&&d[c]?delete h.u.xj[a][c]:console.warn("Unable to unregister ["+c+"]["+a+"] from the registry.")};
h.u.Tu=function(a,c,d){a=String(a).toLowerCase();c=c.toLowerCase();var e=h.u.xj[a];if(!e||!e[c]){c="Unable to find ["+c+"]["+a+"] in the registry.";if(d)throw Error(c+" You must require or register a "+a+" plugin.");console.warn(c);return null}return e[c]};h.u.uH=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();return(a=h.u.xj[a])?!!a[c]:!1};h.u.oq=function(a,c,d){return h.u.Tu(a,c,d)};h.u.wq=function(a,c){return h.u.Tu(a,c,void 0)};
h.u.wh=function(a,c,d){c=c.plugins[a.toString()]||h.u.Hj;return"function"==typeof c?c:h.u.oq(a,c,d)};h.h={};h.h.ev="";h.h.Ha=!0;h.h.Tp=0;h.h.Fj="create";h.h.si=h.h.Fj;h.h.ah="delete";h.h.xs=h.h.ah;h.h.Cj="change";h.h.Vg=h.h.Cj;h.h.Sj="move";h.h.Wg=h.h.Sj;h.h.xm="var_create";h.h.ym="var_delete";h.h.hp="var_rename";h.h.fp="ui";h.h.$l="drag";h.h.Fi="selected";h.h.Dj="click";h.h.Mo="marker_move";h.h.As="bubble_open";h.h.sG="trashcan_open";h.h.rG="toolbox_item_select";h.h.bp="theme_change";h.h.ak="viewport_change";h.h.gm="comment_create";h.h.Es="comment_delete";h.h.Ds="comment_change";h.h.Ej="comment_move";
h.h.Bo="finished_loading";h.h.hx=[h.h.si,h.h.Wg,h.h.gm,h.h.Ej];h.h.Lj=[];h.h.Ia=function(a){h.h.isEnabled()&&(h.h.Lj.length||setTimeout(h.h.IA,0),h.h.Lj.push(a))};h.h.IA=function(){for(var a=h.h.filter(h.h.Lj,!0),c=h.h.Lj.length=0,d;d=a[c];c++)if(d.Nb){var e=h.fb.Gk(d.Nb);if(e){var f=d;if(f.Ha)for(e.li.push(f),e.vl.length=0;e.li.length>e.et&&0<=e.et;)e.li.shift();for(var g=0;d=e.xf[g];g++)d(f)}}};
h.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.lj()){var k=[g.Av?h.h.fp:g.type,g.Za,g.Nb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==h.h.Sj&&l.index==f-1)m.Wh=g.Wh,m.Vh=g.Vh,m.Cg=g.Cg,l.index=f;else if(g.type==h.h.Cj&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type==h.h.ak)m.Hd=g.Hd,m.Gd=g.Gd,m.scale=g.scale,m.il=g.il;else if(g.type!=h.h.Dj||m.type!=h.h.As)e[k]={event:g,
index:f},d.push(g)}a=d.filter(function(n){return!n.lj()});c||a.reverse();for(f=1;g=a[f];f++)g.type==h.h.Cj&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};h.h.Zz=function(){for(var a=0,c;c=h.h.Lj[a];a++)c.Ha=!1};h.h.disable=function(){h.h.Tp++};h.h.enable=function(){h.h.Tp--};h.h.isEnabled=function(){return 0==h.h.Tp};h.h.Mb=function(){return h.h.ev};h.h.ra=function(a){h.h.ev="boolean"==typeof a?a?h.g.rf():"":a};
h.h.Qu=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};h.h.$=function(a){var c=h.h.get(a.type);if(!c)throw Error("Unknown event type.");c=new c;c.$(a);c.Nb=(void 0).id;return c};h.h.get=function(a){return h.u.oq(h.u.N.Bb,a)};
h.h.gH=function(a){if((a.type==h.h.Sj||a.type==h.h.Fj)&&a.Nb){var c=h.fb.Gk(a.Nb),d=c.Jc(a.Za);if(d){a=h.h.Ha;try{h.h.Ha=!1;var e=d.getParent();if(e&&e.isEnabled()){var f=p(d,!1);c=0;for(var g;g=f[c];c++)g.Df(!0)}else if((d.P||d.X)&&!c.bd()){do d.Df(!1),d=u(d);while(d)}}finally{h.h.Ha=a}}}};
h.h.Abstract=function(){this.ad=null;this.Nb=void 0;this.group=h.h.Mb();this.Ha=h.h.Ha};b=h.h.Abstract.prototype;b.Av=!1;b.pa=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};b.$=function(a){this.ad=!1;this.group=a.group};b.lj=function(){return!1};b.run=function(){};function x(a){if(a.Nb)var c=h.fb.Gk(a.Nb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};h.g.object={};h.g.object.T=function(a,c){a.v=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};h.g.object.Bg=function(a,c){for(var d in c)a[d]=c[d]};h.g.object.Vi=function(a,c){for(var d in c)a[d]=null!=c[d]&&"object"===typeof c[d]?h.g.object.Vi(a[d]||Object.create(null),c[d]):c[d];return a};h.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};h.g.xml={};h.g.xml.Ey="https://developers.google.com/blockly/xml";h.g.xml.document=function(){return document};h.g.xml.createElement=function(a){return h.g.xml.document().createElementNS(h.g.xml.Ey,a)};h.g.xml.createTextNode=function(a){return h.g.xml.document().createTextNode(a)};h.g.xml.kD=function(a){return(new DOMParser).parseFromString(a,"text/xml")};h.g.xml.Be=function(a){return(new XMLSerializer).serializeToString(a)};h.Ja={te:h.U.Ob,Uc:h.U.Pb,me:5};h.I={};h.I.xD=function(){var a=y,c=h.g.xml.createElement("xml"),d=h.I.wD(h.oa.zz(a));d.hasChildNodes()&&c.appendChild(d);var e=[].concat(a.io);1<e.length&&(a.Pe.offset=Math.sin(h.g.kc.ii(h.fb.st)),a.K&&(a.Pe.offset*=-1),e.sort(a.Pe));d=0;for(var f;f=e[d];d++)c.appendChild(f.Dw(!0));a=a.fc(!0);for(d=0;e=a[d];d++)c.appendChild(h.I.rp(e,!0));return c};
h.I.wD=function(a){for(var c=h.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=h.g.xml.createElement("variable");f.appendChild(h.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.zc();c.appendChild(f)}return c};h.I.rp=function(a,c){if(a.xd()&&(a=z(a,!1)[0],!a))return new DocumentFragment;var d;a.A.K&&(d=a.A.jn());c=h.I.eg(a,c);var e=a.ab();c.setAttribute("x",Math.round(a.A.K?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
h.I.GA=function(a){var c=!1;a.name&&(a.tt?c=!0:a.Ij&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=h.g.xml.createElement("field"),c.setAttribute("name",a.name||""),c.textContent=a.getValue(),c):null};h.I.xz=function(a,c){for(var d=0,e;e=a.R[d];d++)for(var f=0,g;g=e.Va[f];f++)(g=h.I.GA(g))&&c.appendChild(g)};
h.I.eg=function(a,c){if(a.xd())return(a=z(a,!1)[0])?h.I.eg(a):new DocumentFragment;var d=h.g.xml.createElement(a.Fa?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.lc){var e=a.lc();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}h.I.xz(a,d);if(e=a.lf.text){var f=a.lf.size,g=a.lf.gw,k=h.g.xml.createElement("comment");k.appendChild(h.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&
(e=h.g.xml.createElement("data"),e.appendChild(h.g.xml.createTextNode(a.data)),d.appendChild(e));for(e=0;f=a.R[e];e++){var l;g=!0;if(f.type!=h.Ja.me){var m=f.connection.ua();f.type==h.Ja.te?l=h.g.xml.createElement("value"):f.type==h.Ja.Uc&&(l=h.g.xml.createElement("statement"));k=f.connection.cj();!k||m&&m.Fa||l.appendChild(h.I.iu(k,c));m&&(k=h.I.eg(m,c),k.nodeType==h.g.j.Wf.ELEMENT_NODE&&(l.appendChild(k),g=!1));l.setAttribute("name",f.name);g||d.appendChild(l)}}void 0!=a.uf&&a.uf!=a.yB&&d.setAttribute("inline",
a.uf);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.sg()||a.Fa||d.setAttribute("deletable",!1);a.ic()||a.Fa||d.setAttribute("movable",!1);a.wd()||d.setAttribute("editable",!1);if(e=u(a))k=h.I.eg(e,c),k.nodeType==h.g.j.Wf.ELEMENT_NODE&&(l=h.g.xml.createElement("next"),l.appendChild(k),d.appendChild(l));k=a.ba&&a.ba.cj();!k||e&&e.Fa||l.appendChild(h.I.iu(k,c));return d};
h.I.iu=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==h.g.j.Wf.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&h.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==h.g.j.Wf.TEXT_NODE&&""==e.data.trim()&&h.g.j.removeNode(e))}return a};h.I.Be=function(a){return h.g.xml.Be(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};
h.I.hH=function(a){a=h.I.Be(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};h.I.Se=function(a){var c=h.g.xml.kD(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};
h.I.UG=function(a,c){c.Oc(!1);c.clear();a=h.I.lg(a,c);c.Oc(!0);return a};
h.I.lg=function(a,c){if(a instanceof h.fb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.K&&(e=c.jn());d=[];h.g.j.Gl();var f=h.h.Mb();f||h.h.ra(!0);c.Oc&&c.Oc(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!h.h.Ha){var q=h.I.Zm(n,c);d.push(q.id);var r=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,t=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(r)||
isNaN(t)||q.moveBy(c.K?e-r:r,t);g=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.qa?h.Ki?h.Ki.Fk(n):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):h.Ot?h.Ot.Fk(n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(g)h.I.zA(n,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||h.h.ra(!1),h.g.j.Hl()}c.Oc&&c.Oc(!0);h.h.Ia(new (h.h.get(h.h.Bo))(c));return d};h.I.HG=function(a,c){var d;Object.prototype.hasOwnProperty.call(c,"scale")&&(d=ha(c));a=h.I.lg(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.K?d.right:d.left;var g=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var m=c.Jc(a[d]).ab();m.y<l&&(l=m.y);m.x<g&&(g=m.x);m.x>k&&(k=m.x)}e=e-l+10;f=c.K?f-k:f-g;for(d=0;d<a.length;d++)c.Jc(a[d]).moveBy(f,e)}return a};
h.I.Zm=function(a,c){if(a instanceof h.fb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}h.h.disable();d=c.$i();try{var e=h.I.Zp(a,c),f=p(e,!1);if(c.qa){ia(e,!1);for(var g=f.length-1;0<=g;g--)f[g].Ih();for(g=f.length-1;0<=g;g--)f[g].Ea(!1);setTimeout(function(){e.Ae||ia(e,!0)},1);A(e);ja(c)}else for(g=f.length-1;0<=g;g--);}finally{h.h.enable()}if(h.h.isEnabled()){a=h.oa.MA(c,d);for(g=0;g<a.length;g++)c=a[g],h.h.Ia(new (h.h.get(h.h.xm))(c));h.h.Ia(new (h.h.get(h.h.Fj))(e))}return e};
h.I.zA=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==h.g.j.Wf.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.Qd(e.textContent,f,g)}};
h.I.LB=function(a){for(var c={Ov:[],qh:[],data:[],Zi:[],input:[],next:[]},d=0,e;e=a.childNodes[d];d++)if(e.nodeType!=h.g.j.Wf.TEXT_NODE)switch(e.nodeName.toLowerCase()){case "mutation":c.Ov.push(e);break;case "comment":if(!h.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}c.qh.push(e);break;case "data":c.data.push(e);break;case "title":case "field":c.Zi.push(e);break;case "value":case "statement":c.input.push(e);break;case "next":c.next.push(e);break;default:console.warn("Ignoring unknown tag: "+
e.nodeName)}return c};h.I.Ez=function(a,c){for(var d=!1,e=0,f;f=a[e];e++)c.Zc&&(c.Zc(f),c.Ih&&(d=!0));return d};h.I.Az=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.textContent,g="true"==e.getAttribute("pinned"),k=parseInt(e.getAttribute("w"),10);e=parseInt(e.getAttribute("h"),10);c.sj(f);c.lf.gw=g;isNaN(k)||isNaN(e)||(c.lf.size=new h.g.Vc(k,e));g&&c.SA&&!c.cd&&setTimeout(function(){c.sd.Xb(!0)},1)}};h.I.Bz=function(a,c){for(var d=0,e;e=a[d];d++)c.data=e.textContent};
h.I.Cz=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.getAttribute("name");h.I.yA(c,f,e)}};h.I.Ku=function(a){for(var c={gk:null,hk:null},d=0,e;e=a.childNodes[d];d++)e.nodeType==h.g.j.Wf.ELEMENT_NODE&&("block"==e.nodeName.toLowerCase()?c.gk=e:"shadow"==e.nodeName.toLowerCase()&&(c.hk=e));return c};
h.I.Dz=function(a,c,d,e){for(var f=0,g;g=a[f];f++){var k=g.getAttribute("name"),l=ka(d,k);if(!l){console.warn("Ignoring non-existent input "+k+" in block "+e);break}g=h.I.Ku(g);if(g.gk){if(!l.connection)throw TypeError("Input connection does not exist.");h.I.Zp(g.gk,c,l.connection,!1)}g.hk&&l.connection.zl(g.hk)}};
h.I.Fz=function(a,c,d){for(var e=0,f;f=a[e];e++){f=h.I.Ku(f);if(f.gk){if(!d.ba)throw TypeError("Next statement does not exist.");if(d.ba.isConnected())throw TypeError("Next statement is already connected.");h.I.Zp(f.gk,c,d.ba,!0)}f.hk&&d.ba&&d.ba.zl(f.hk)}};
h.I.Zp=function(a,c,d,e){var f=a.getAttribute("type");if(!f)throw TypeError("Block type unspecified: "+a.outerHTML);var g=a.getAttribute("id");g=c.oj(f,g);var k=h.I.LB(a),l=h.I.Ez(k.Ov,g);h.I.Az(k.qh,g);h.I.Bz(k.data,g);if(d)if(e)if(g.X)d.connect(g.X);else throw TypeError("Next block does not have previous statement.");else if(g.P)d.connect(g.P);else if(g.X)d.connect(g.X);else throw TypeError("Child block does not have output or previous statement.");h.I.Cz(k.Zi,g);h.I.Dz(k.input,c,g,f);h.I.Fz(k.next,
c,g);l&&g.Ih();(c=a.getAttribute("inline"))&&g.Mg("true"==c);(c=a.getAttribute("disabled"))&&g.Df("true"!=c&&"disabled"!=c);if(c=a.getAttribute("deletable"))g.Mp="true"==c;(c=a.getAttribute("movable"))&&g.Tr("true"==c);(c=a.getAttribute("editable"))&&g.Sr("true"==c);(c=a.getAttribute("collapsed"))&&g.ci("true"==c);if("shadow"==a.nodeName.toLowerCase()){a=z(g,!1);for(c=0;d=a[c];c++)if(!d.Fa)throw TypeError("Shadow block not allowed non-shadow child.");if(la(g).length)throw TypeError("Shadow blocks cannot have variable references.");
g.Vr(!0)}return g};h.I.yA=function(a,c,d){var e=B(a,c);e?e.Fk(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};h.I.sA=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};h.h.ie=function(a){h.h.ie.v.constructor.call(this);this.Za=(this.ad="undefined"==typeof a)?"":a.id;this.Nb=this.ad?"":a.A.id};h.g.object.T(h.h.ie,h.h.Abstract);h.h.ie.prototype.pa=function(){var a=h.h.ie.v.pa.call(this);a.blockId=this.Za;return a};h.h.ie.prototype.$=function(a){h.h.ie.v.$.call(this,a);this.Za=a.blockId};
h.h.Yg=function(a,c,d,e,f){h.h.qx.v.constructor.call(this,a);a&&(this.element="undefined"==typeof c?"":c,this.name="undefined"==typeof d?"":d,this.oldValue="undefined"==typeof e?"":e,this.newValue="undefined"==typeof f?"":f)};h.g.object.T(h.h.Yg,h.h.ie);h.h.qx=h.h.Yg;b=h.h.Yg.prototype;b.type=h.h.Cj;b.pa=function(){var a=h.h.Yg.v.pa.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};
b.$=function(a){h.h.Yg.v.$.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};b.lj=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=x(this).Jc(this.Za);if(c)switch(c.$d&&c.$d.Xb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=B(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.sj(a||null);break;case "collapsed":c.ci(!!a);break;case "disabled":c.Df(!a);break;case "inline":c.Mg(!!a);break;case "mutation":var d="";c.lc&&(d=(d=c.lc())&&h.I.Be(d));if(c.Zc){var e=h.I.Se(a||"<mutation/>");c.Zc(e)}h.h.Ia(new h.h.Yg(c,"mutation",null,d,
a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.Za)};h.h.ke=function(a){h.h.ke.v.constructor.call(this,a);a&&(a.Fa&&(this.Ha=!1),this.xml=a.A.qa?h.I.rp(a):h.I.eg(a),this.Gh=h.h.Qu(a))};h.g.object.T(h.h.ke,h.h.ie);h.h.JD=h.h.ke;h.h.ke.prototype.type=h.h.Fj;h.h.ke.prototype.pa=function(){var a=h.h.ke.v.pa.call(this);a.xml=h.I.Be(this.xml);a.ids=this.Gh;this.Ha||(a.recordUndo=this.Ha);return a};
h.h.ke.prototype.$=function(a){h.h.ke.v.$.call(this,a);this.xml=h.I.Se(a.xml);this.Gh=a.ids;void 0!==a.recordUndo&&(this.Ha=a.recordUndo)};h.h.ke.prototype.run=function(a){var c=x(this);if(a)a=h.g.xml.createElement("xml"),a.appendChild(this.xml),h.I.lg(a,c);else{a=0;for(var d;d=this.Gh[a];a++){var e=c.Jc(d);e?e.H(!1):d==this.Za&&console.warn("Can't uncreate non-existent block: "+d)}}};
h.h.ne=function(a){h.h.ne.v.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.Fa&&(this.Ha=!1);this.nr=a.A.qa?h.I.rp(a):h.I.eg(a);this.Gh=h.h.Qu(a)}};h.g.object.T(h.h.ne,h.h.ie);h.h.KD=h.h.ne;h.h.ne.prototype.type=h.h.ah;h.h.ne.prototype.pa=function(){var a=h.h.ne.v.pa.call(this);a.oldXml=h.I.Be(this.nr);a.ids=this.Gh;this.Ha||(a.recordUndo=this.Ha);return a};
h.h.ne.prototype.$=function(a){h.h.ne.v.$.call(this,a);this.nr=h.I.Se(a.oldXml);this.Gh=a.ids;void 0!==a.recordUndo&&(this.Ha=a.recordUndo)};h.h.ne.prototype.run=function(a){var c=x(this);if(a){a=0;for(var d;d=this.Gh[a];a++){var e=c.Jc(d);e?e.H(!1):d==this.Za&&console.warn("Can't delete non-existent block: "+d)}}else a=h.g.xml.createElement("xml"),a.appendChild(this.nr),h.I.lg(a,c)};
h.h.fh=function(a){h.h.fh.v.constructor.call(this,a);a&&(a.Fa&&(this.Ha=!1),a=ma(this),this.Wv=a.cw,this.Tv=a.rv,this.kr=a.wu)};h.g.object.T(h.h.fh,h.h.ie);h.h.LD=h.h.fh;b=h.h.fh.prototype;b.type=h.h.Sj;b.pa=function(){var a=h.h.fh.v.pa.call(this);this.Wh&&(a.newParentId=this.Wh);this.Vh&&(a.newInputName=this.Vh);this.Cg&&(a.newCoordinate=Math.round(this.Cg.x)+","+Math.round(this.Cg.y));this.Ha||(a.recordUndo=this.Ha);return a};
b.$=function(a){h.h.fh.v.$.call(this,a);this.Wh=a.newParentId;this.Vh=a.newInputName;if(a.newCoordinate){var c=a.newCoordinate.split(",");this.Cg=new h.g.O(Number(c[0]),Number(c[1]))}void 0!==a.recordUndo&&(this.Ha=a.recordUndo)};b.$h=function(){var a=ma(this);this.Wh=a.cw;this.Vh=a.rv;this.Cg=a.wu};function ma(a){var c=x(a).Jc(a.Za);a={};var d=c.getParent();if(d){if(a.cw=d.id,c=na(d,c))a.rv=c.name}else a.wu=c.ab();return a}
b.lj=function(){return this.Wv==this.Wh&&this.Tv==this.Vh&&h.g.O.qf(this.kr,this.Cg)};
b.run=function(a){var c=x(this),d=c.Jc(this.Za);if(d){var e=a?this.Wh:this.Wv,f=a?this.Vh:this.Tv,g=a?this.Cg:this.kr;a=null;if(e&&(a=c.Jc(e),!a)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&C(d);if(g)f=d.ab(),d.moveBy(g.x-f.x,g.y-f.y);else{d=d.P||d.X;c=d.type;if(f){if(a=ka(a,f))var k=a.connection}else c==h.U.Tc&&(k=a.ba);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.Za)};
h.u.register(h.u.N.Bb,h.h.Fj,h.h.ke);h.u.register(h.u.N.Bb,h.h.ah,h.h.ne);h.u.register(h.u.N.Bb,h.h.Cj,h.h.Yg);h.u.register(h.u.N.Bb,h.h.Sj,h.h.fh);h.h.Mj=function(a){this.ad="undefined"==typeof a;this.Nb=a?a.id:"";this.group=h.h.Mb();this.Ha=!1};h.g.object.T(h.h.Mj,h.h.Abstract);h.h.Mj.prototype.type=h.h.Bo;h.h.Mj.prototype.pa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Nb&&(a.workspaceId=this.Nb);return a};h.h.Mj.prototype.$=function(a){this.ad=!1;this.Nb=a.workspaceId;this.group=a.group};h.u.register(h.u.N.Bb,h.h.Bo,h.h.Mj);h.h.se=function(a){h.h.se.v.constructor.call(this);this.ad="undefined"==typeof a;this.Nb=a?a:"";this.Ha=!1};h.g.object.T(h.h.se,h.h.Abstract);h.h.se.prototype.Av=!0;h.h.ag=function(a,c,d,e){h.h.ag.v.constructor.call(this,a?a.A.id:void 0);this.Za=a?a.id:null;this.element="undefined"==typeof c?"":c;this.oldValue="undefined"==typeof d?"":d;this.newValue="undefined"==typeof e?"":e};h.g.object.T(h.h.ag,h.h.se);h.h.ag.prototype.type=h.h.fp;
h.h.ag.prototype.pa=function(){var a=h.h.ag.v.pa.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.Za&&(a.blockId=this.Za);return a};h.h.ag.prototype.$=function(a){h.h.ag.v.$.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Za=a.blockId};h.u.register(h.u.N.Bb,h.h.fp,h.h.ag);h.h.df=function(a){h.h.df.v.constructor.call(this);this.Sg=(this.ad="undefined"==typeof a)?"":a.zc();this.Nb=this.ad?"":a.A.id};h.g.object.T(h.h.df,h.h.Abstract);h.h.df.prototype.pa=function(){var a=h.h.df.v.pa.call(this);a.varId=this.Sg;return a};h.h.df.prototype.$=function(a){h.h.df.v.pa.call(this);this.Sg=a.varId};h.h.ef=function(a){h.h.ef.v.constructor.call(this,a);a&&(this.ni=a.type,this.mi=a.name)};h.g.object.T(h.h.ef,h.h.df);h.h.ef.prototype.type=h.h.xm;
h.h.ef.prototype.pa=function(){var a=h.h.ef.v.pa.call(this);a.varType=this.ni;a.varName=this.mi;return a};h.h.ef.prototype.$=function(a){h.h.ef.v.$.call(this,a);this.ni=a.varType;this.mi=a.varName};h.h.ef.prototype.run=function(a){var c=x(this);a?c.Qd(this.mi,this.ni,this.Sg):c.Wi(this.Sg)};h.h.ff=function(a){h.h.ff.v.constructor.call(this,a);a&&(this.ni=a.type,this.mi=a.name)};h.g.object.T(h.h.ff,h.h.df);h.h.ff.prototype.type=h.h.ym;
h.h.ff.prototype.pa=function(){var a=h.h.ff.v.pa.call(this);a.varType=this.ni;a.varName=this.mi;return a};h.h.ff.prototype.$=function(a){h.h.ff.v.$.call(this,a);this.ni=a.varType;this.mi=a.varName};h.h.ff.prototype.run=function(a){var c=x(this);a?c.Wi(this.Sg):c.Qd(this.mi,this.ni,this.Sg)};h.h.gf=function(a,c){h.h.gf.v.constructor.call(this,a);a&&(this.lr=a.name,this.gr="undefined"==typeof c?"":c)};h.g.object.T(h.h.gf,h.h.df);h.h.gf.prototype.type=h.h.hp;
h.h.gf.prototype.pa=function(){var a=h.h.gf.v.pa.call(this);a.oldName=this.lr;a.newName=this.gr;return a};h.h.gf.prototype.$=function(a){h.h.gf.v.$.call(this,a);this.lr=a.oldName;this.gr=a.newName};h.h.gf.prototype.run=function(a){var c=x(this);a?c.ai(this.Sg,this.gr):c.ai(this.Sg,this.lr)};h.u.register(h.u.N.Bb,h.h.xm,h.h.ef);h.u.register(h.u.N.Bb,h.h.ym,h.h.ff);h.u.register(h.u.N.Bb,h.h.hp,h.h.gf);h.Bs=function(a){this.nk=a;this.ib()};b=h.Bs.prototype;b.Ya=null;b.De=null;b.nk=null;b.Kg=1;b.Kl=null;b.fu=new h.g.O(0,0);b.ib=function(){this.Ya||(this.Ya=h.g.j.M(h.g.F.Yj,{xmlns:h.g.j.vm,"xmlns:html":h.g.j.Co,"xmlns:xlink":h.g.j.mh,version:"1.1","class":"blocklyBlockDragSurface"},this.nk),this.De=h.g.j.M(h.g.F.Sc,{},this.Ya))};function oa(a,c){if(a.De.childNodes.length)throw Error("Already dragging a block.");a.De.appendChild(c);a.Ya.style.display="block";a.Kl=new h.g.O(0,0)}
b.ki=function(a,c){this.Kl=new h.g.O(a*this.Kg,c*this.Kg);a=this.Kl.x;c=this.Kl.y;a=a.toFixed(0);c=c.toFixed(0);this.Ya.style.display="block";h.g.j.Tn(this.Ya,"translate3d("+a+"px, "+c+"px, 0px)")};b.yq=function(){var a=h.g.Vd(this.Ya);return new h.g.O(a.x/this.Kg,a.y/this.Kg)};b.Mb=function(){return this.De};b.za=function(){return this.Ya};
b.Hm=function(a){a?a.appendChild(this.De.firstChild):this.De.removeChild(this.De.firstChild);this.Ya.style.display="none";if(this.De.childNodes.length)throw Error("Drag group was not cleared.");this.Kl=null};h.Jd={};h.Jd.Kq=!1;h.Jd.register=function(a){if(h.Jd.Kq)throw Error("CSS already injected");Array.prototype.push.apply(h.Jd.uo,a);a.length=0};h.Jd.rg=function(a,c){if(!h.Jd.Kq){h.Jd.Kq=!0;var d=h.Jd.uo.join("\n");h.Jd.uo.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};
h.Jd.uo=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];
h.eh=function(a,c){this.dj=a;this.Zr=c.spacing;this.Ev=c.length;this.HB=(this.Tq=a.firstChild)&&this.Tq.nextSibling;this.cD=c.snap};h.eh.prototype.Kg=1;h.eh.prototype.H=function(){this.dj=null};h.eh.prototype.update=function(a){this.Kg=a;var c=this.Zr*a||100;this.dj.setAttribute("width",c);this.dj.setAttribute("height",c);c=Math.floor(this.Zr/2)+.5;var d=c-this.Ev/2,e=c+this.Ev/2;c*=a;d*=a;e*=a;pa(this.Tq,a,d,e,c,c);pa(this.HB,a,c,c,d,e)};
function pa(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}h.eh.prototype.moveTo=function(a,c){this.dj.setAttribute("x",a);this.dj.setAttribute("y",c);(h.g.userAgent.Ld||h.g.userAgent.bh)&&this.update(this.Kg)};
h.eh.ib=function(a,c,d){a=h.g.j.M(h.g.F.ot,{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(h.g.j.M(h.g.F.Qj,{stroke:c.colour},a),1<c.length&&h.g.j.M(h.g.F.Qj,{stroke:c.colour},a)):h.g.j.M(h.g.F.Qj,{},a);return a};h.kh=function(a,c,d,e){this.name=a;this.dg=c||Object.create(null);this.Ap=d||Object.create(null);this.lu=e||Object.create(null);this.fontStyle=Object.create(null);this.bs=null;h.u.register(h.u.N.ap,a,this)};h.kh.prototype.Td=function(){return this.name+"-theme"};function D(a,c){return(c=a.lu[c])&&"string"==typeof c&&D(a,c)?D(a,c):c?String(c):null}
h.kh.rA=function(a,c){var d=new h.kh(a),e=c.base;e&&("string"==typeof e&&(e=h.u.wq(h.u.N.ap,e)),e instanceof h.kh&&(h.g.object.Vi(d,e),d.name=a));h.g.object.Vi(d.dg,c.blockStyles);h.g.object.Vi(d.Ap,c.categoryStyles);h.g.object.Vi(d.lu,c.componentStyles);h.g.object.Vi(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.bs=c.startHats);return d};h.cf={};h.cf.Lf={};h.cf.Lf.qA={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
h.cf.Lf.Ap={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};h.cf.Lf=new h.kh("classic",h.cf.Lf.qA,h.cf.Lf.Ap);h.g.Oj={};h.g.Oj.WB=0;h.g.Oj.Uu=function(){return"blockly-"+(h.g.Oj.WB++).toString(36)};h.g.pF=function(){};h.g.ka={};h.g.ka.to="categoryToolbox";h.g.ka.Rs="flyoutToolbox";h.g.ka.Qb={$j:0,bm:1,Md:2,af:3};h.g.ka.vu=function(a){if(!a)return null;if(a instanceof Element||"string"==typeof a)a=h.g.ka.Br(a),a=h.g.ka.iA(a);h.g.ka.uD(a);return a};h.g.ka.uD=function(a){var c=a.kind;a=a.contents;if(c&&c!=h.g.ka.Rs&&c!=h.g.ka.to)throw Error("Invalid toolbox kind "+c+". Please supply either "+h.g.ka.Rs+" or "+h.g.ka.to);if(!a)throw Error("Toolbox must have a contents attribute.");};
h.g.ka.cH=function(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:h.g.ka.qs(a):[]};h.g.ka.Mk=function(a){if(!a)return!1;var c=a.kind;return c?c==h.g.ka.to:!!a.contents.filter(function(d){return"CATEGORY"==d.kind.toUpperCase()}).length};h.g.ka.xH=function(a){return a&&a.contents?!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length:!1};h.g.ka.iA=function(a){var c={contents:h.g.ka.qs(a)};a instanceof Node&&h.g.ka.Rt(a,c);return c};
h.g.ka.qs=function(a){var c=[],d=a.childNodes;d||(d=a);a=0;for(var e;e=d[a];a++)if(e.tagName){var f={},g=e.tagName.toUpperCase();f.kind=g;"BLOCK"==g?f.blockxml=e:e.childNodes&&0<e.childNodes.length&&(f.contents=h.g.ka.qs(e));h.g.ka.Rt(e,f);c.push(f)}return c};h.g.ka.Rt=function(a,c){for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d];-1<e.nodeName.indexOf("css-")?(c.cssconfig=c.cssconfig||{},c.cssconfig[e.nodeName.replace("css-","")]=e.value):c[e.nodeName]=e.value}};
h.g.ka.Br=function(a){if(a){if("string"!=typeof a&&(h.g.userAgent.Ld&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=h.I.Se(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};h.nd=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else d=h.g.ka.vu(a.toolbox),e=h.g.ka.Mk(d),f=a.trashcan,void 0===f&&(f=e),g=a.collapse,void 0===g&&(g=e),k=a.comments,void 0===k&&(k=e),l=a.disable,void 0===l&&(l=e),m=a.sounds,void 0===m&&(m=!0);var n=!!a.rtl,q=a.horizontalLayout;void 0===q&&(q=!1);var r=a.toolboxPosition;r="end"!==r;r=q?r?h.g.ka.Qb.$j:h.g.ka.Qb.bm:r==n?h.g.ka.Qb.af:h.g.ka.Qb.Md;var t=a.css;void 0===t&&(t=!0);var G="https://blockly-demo.appspot.com/static/media/";
a.media?G=a.media:a.path&&(G=a.path+"media/");var M=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,T=a.renderer||"geras",md=a.plugins||{};this.K=n;this.jC=M;this.collapse=g;this.aA=k;this.disable=l;this.readOnly=c;this.bl=a.maxBlocks||Infinity;this.Bn=a.maxInstances;this.ew=G;this.Mk=e;this.Wb=h.nd.lC(a,e);this.hv=f;this.qB=m;this.oB=t;this.mn=q;this.Oh=d;this.dv=h.nd.kC(a);this.ob=h.nd.nC(a);this.ji=r;this.lD=h.nd.mC(a);this.rw=T;this.sw=a.rendererOverrides;this.Bq=null;this.Lc=a.parentWorkspace;
this.plugins=md};h.MD=function(){};
h.nd.lC=function(a,c){var d=a.move||{},e={};void 0===d.scrollbars&&void 0===a.scrollbars?e.scrollbars=c:"object"==typeof d.scrollbars?(e.scrollbars={},e.scrollbars.Hq=!!d.scrollbars.horizontal,e.scrollbars.vertical=!!d.scrollbars.vertical,e.scrollbars.Hq&&e.scrollbars.vertical?e.scrollbars=!0:e.scrollbars.Hq||e.scrollbars.vertical||(e.scrollbars=!1)):e.scrollbars=!!d.scrollbars||!!a.scrollbars;e.yj=e.scrollbars&&void 0!==d.wheel?!!d.wheel:"object"==typeof e.scrollbars;e.Ce=e.scrollbars?void 0===d.drag?
!0:!!d.drag:!1;return e};h.nd.nC=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.yj=void 0===a.wheel?!1:!!a.wheel;c.gD=void 0===a.startScale?1:Number(a.startScale);c.cl=void 0===a.maxScale?3:Number(a.maxScale);c.fl=void 0===a.minScale?.3:Number(a.minScale);c.SC=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.fw=void 0===a.pinch?c.yj||c.controls:!!a.pinch;return c};
h.nd.kC=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.hb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.dI=0<c.spacing&&!!a.snap;return c};h.nd.mC=function(a){a=a.theme||h.cf.Lf;return"string"==typeof a?h.u.wq(h.u.N.ap,a):a instanceof h.kh?a:h.kh.rA(a.name||"builtin"+h.g.Oj.Uu(),a)};h.nd.Br=function(a){h.g.Sm.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree");return h.g.ka.Br(a)};
h.zt=function(a,c,d){this.C=a;c=void 0===c?!0:c;d=void 0===d?!0:d;var e=c&&d;c&&(this.Fb=new h.Oa(a,!0,e,"blocklyMainWorkspaceScrollbar",void 0));d&&(this.Jb=new h.Oa(a,!1,e,"blocklyMainWorkspaceScrollbar",void 0));e&&(this.pk=h.g.j.M(h.g.F.Tb,{height:h.Oa.fd,width:h.Oa.fd,"class":"blocklyScrollbarBackground"},null),h.g.j.Qk(this.pk,a.Gf));this.Pa=null};b=h.zt.prototype;
b.H=function(){h.g.j.removeNode(this.pk);this.Pa=this.C=this.pk=null;this.Fb&&(this.Fb.H(),this.Fb=null);this.Jb&&(this.Jb.H(),this.Jb=null)};
b.resize=function(){var a=this.C.Fe();if(a){var c=!1,d=!1;this.Pa&&this.Pa.Zb==a.Zb&&this.Pa.oc==a.oc&&this.Pa.Gc==a.Gc&&this.Pa.wc==a.wc?(this.Pa&&this.Pa.scrollWidth==a.scrollWidth&&this.Pa.Gd==a.Gd&&this.Pa.scrollLeft==a.scrollLeft||(c=!0),this.Pa&&this.Pa.scrollHeight==a.scrollHeight&&this.Pa.Hd==a.Hd&&this.Pa.scrollTop==a.scrollTop||(d=!0)):d=c=!0;if(c||d){try{h.h.disable(),this.Fb&&c&&this.Fb.resize(a),this.Jb&&d&&this.Jb.resize(a)}finally{h.h.enable()}qa(this.C)}this.Fb&&this.Jb&&(this.Pa&&
this.Pa.Zb==a.Zb&&this.Pa.wc==a.wc||this.pk.setAttribute("x",this.Jb.position.x),this.Pa&&this.Pa.oc==a.oc&&this.Pa.Gc==a.Gc||this.pk.setAttribute("y",this.Fb.position.y));this.Pa=a}};b.set=function(a,c,d){this.Fb&&this.Fb.set(a,!1);this.Jb&&this.Jb.set(c,!1);if(d||void 0===d)a={},this.Fb&&(a.x=ra(this.Fb)),this.Jb&&(a.y=ra(this.Jb)),this.C.Un(a)};b.yl=function(a){this.Fb&&this.Fb.yl(a);this.Jb&&this.Jb.yl(a)};
b.isVisible=function(){var a=!1;this.Fb&&(a=this.Fb.isVisible());this.Jb&&(a=a||this.Jb.isVisible());return a};
h.Oa=function(a,c,d,e,f){this.C=a;this.Gg=d||!1;this.Fh=c;this.Ph=void 0!==f?f:h.Oa.vx;this.ratio=this.Pa=null;this.qk(e);this.position=new h.g.O(0,0);a=h.Oa.fd;c?(this.Ff.setAttribute("height",a),this.Le.setAttribute("height",a),this.hd.setAttribute("height",a-5),this.hd.setAttribute("y",2.5),this.yn="width",this.hw="x"):(this.Ff.setAttribute("width",a),this.Le.setAttribute("width",a),this.hd.setAttribute("width",a-5),this.hd.setAttribute("x",2.5),this.yn="height",this.hw="y");this.Zv=h.S.La(this.Ff,
"mousedown",this,this.cC);this.$v=h.S.La(this.hd,"mousedown",this,this.dC)};b=h.Oa.prototype;b.bw=new h.g.O(0,0);b.Aw=0;b.Dd=0;b.og=0;b.Lk=0;b.Wk=!0;b.Hp=!0;h.Oa.fd=15;h.Touch.Ct&&(h.Oa.fd=25);h.Oa.vx=.5;h.Oa.OB=function(a,c){return a.Zb==c.Zb&&a.oc==c.oc&&a.Gd==c.Gd&&a.Hd==c.Hd&&a.Gc==c.Gc&&a.wc==c.wc&&a.scrollWidth==c.scrollWidth&&a.scrollHeight==c.scrollHeight&&a.scrollLeft==c.scrollLeft&&a.scrollTop==c.scrollTop};b=h.Oa.prototype;
b.H=function(){sa();h.S.vb(this.Zv);this.Zv=null;h.S.vb(this.$v);this.$v=null;h.g.j.removeNode(this.Le);this.Ff=this.sa=this.Le=null;this.hd&&(this.C.Pc.unsubscribe(this.hd),this.hd=null);this.C=null};function ta(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Dd)}function ua(a,c){a.og=c;a.hd.setAttribute(a.yn,a.og)}function va(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Dd-a.og)}function E(a,c){a.Lk=c;a.hd.setAttribute(a.hw,a.Lk)}
function wa(a,c){a.Dd=c;a.Le.setAttribute(a.yn,a.Dd);a.Ff.setAttribute(a.yn,a.Dd)}b.setPosition=function(a,c){this.position.x=a;this.position.y=c;h.g.j.Tn(this.Le,"translate("+(this.position.x+this.bw.x)+"px,"+(this.position.y+this.bw.y)+"px)")};b.resize=function(a){if(!a&&(a=this.C.Fe(),!a))return;if(!this.Pa||!h.Oa.OB(a,this.Pa)){if(this.Fh){var c=a;xa(this,c)?ya(this,c):za(this,c)}else c=a,xa(this,c)?Aa(this,c):Ba(this,c);this.Pa=a;Ca(this)}};
function xa(a,c){return a.Pa?a.Pa.Zb!==c.Zb||a.Pa.oc!==c.oc||a.Pa.wc!==c.wc||a.Pa.Gc!==c.Gc:!0}function ya(a,c){var d=c.Zb-2*a.Ph;a.Gg&&(d-=h.Oa.fd);wa(a,Math.max(0,d));d=c.wc+a.Ph;a.Gg&&a.C.K&&(d+=h.Oa.fd);a.setPosition(d,c.Gc+c.oc-h.Oa.fd-a.Ph);za(a,c)}function za(a,c){if(c.Zb>=c.scrollWidth)ua(a,a.Dd),E(a,0),a.Gg||a.Xb(!1);else{a.Gg||a.Xb(!0);var d=a.Dd*c.Zb/c.scrollWidth;d=ta(a,d);ua(a,d);d=c.scrollWidth-c.Zb;var e=a.Dd-a.og;c=(c.Gd-c.scrollLeft)/d*e;c=va(a,c);E(a,c);a.ratio=e/d}}
function Aa(a,c){var d=c.oc-2*a.Ph;a.Gg&&(d-=h.Oa.fd);wa(a,Math.max(0,d));a.setPosition(a.C.K?c.wc+a.Ph:c.wc+c.Zb-h.Oa.fd-a.Ph,c.Gc+a.Ph);Ba(a,c)}function Ba(a,c){if(c.oc>=c.scrollHeight)ua(a,a.Dd),E(a,0),a.Gg||a.Xb(!1);else{a.Gg||a.Xb(!0);var d=a.Dd*c.oc/c.scrollHeight;d=ta(a,d);ua(a,d);d=c.scrollHeight-c.oc;var e=a.Dd-a.og;c=(c.Hd-c.scrollTop)/d*e;c=va(a,c);E(a,c);a.ratio=e/d}}
b.qk=function(a){var c="blocklyScrollbar"+(this.Fh?"Horizontal":"Vertical");a&&(c+=" "+a);this.Le=h.g.j.M(h.g.F.Yj,{"class":c},null);this.sa=h.g.j.M(h.g.F.Sc,{},this.Le);this.Ff=h.g.j.M(h.g.F.Tb,{"class":"blocklyScrollbarBackground"},this.sa);a=Math.floor((h.Oa.fd-5)/2);this.hd=h.g.j.M(h.g.F.Tb,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.sa);this.C.Pc.subscribe(this.hd,"scrollbarColour","fill");this.C.Pc.subscribe(this.hd,"scrollbarOpacity","fill-opacity");h.g.j.Qk(this.Le,w(this.C))};
b.isVisible=function(){return this.Wk};b.yl=function(a){var c=a!=this.Hp;this.Hp=a;c&&Da(this)};b.Xb=function(a){var c=a!=this.isVisible();if(this.Gg)throw Error("Unable to toggle visibility of paired scrollbars.");this.Wk=a;c&&Da(this)};function Da(a){a.Hp&&a.isVisible()?a.Le.setAttribute("display","block"):a.Le.setAttribute("display","none")}
b.cC=function(a){fa(this.C);h.Touch.Im();sa();if(h.g.Vk(a))a.stopPropagation();else{var c=h.g.hl(a,w(this.C),Ea(this.C));c=this.Fh?c.x:c.y;var d=h.g.tq(this.hd);d=this.Fh?d.x:d.y;var e=this.Lk,f=.95*this.og;c<=d?e-=f:c>=d+this.og&&(e+=f);E(this,va(this,e));Ca(this);a.stopPropagation();a.preventDefault()}};
b.dC=function(a){fa(this.C);sa();h.g.Vk(a)?a.stopPropagation():(this.eD=this.Lk,Fa(this.C),this.Aw=this.Fh?a.clientX:a.clientY,h.Oa.Eg=h.S.La(document,"mouseup",this,this.hC),h.Oa.Dg=h.S.La(document,"mousemove",this,this.eC),a.stopPropagation(),a.preventDefault())};b.eC=function(a){E(this,va(this,this.eD+((this.Fh?a.clientX:a.clientY)-this.Aw)));Ca(this)};b.hC=function(){Ga(this.C);h.Touch.Im();sa()};
function sa(){h.hc(!0);h.Oa.Eg&&(h.S.vb(h.Oa.Eg),h.Oa.Eg=null);h.Oa.Dg&&(h.S.vb(h.Oa.Dg),h.Oa.Dg=null)}function ra(a){a=a.Lk/(a.Dd-a.og);isNaN(a)&&(a=0);return a}function Ca(a){var c=ra(a),d={};a.Fh?d.x=c:d.y=c;a.C.Un(d)}b.set=function(a,c){E(this,va(this,a*this.ratio));(c||void 0===c)&&Ca(this)};h.G={};h.G.visible=!1;h.G.Oi=!1;h.G.uy=50;h.G.Lv=0;h.G.Dl=0;h.G.Rq=0;h.G.Sq=0;h.G.Ua=null;h.G.ol=null;h.G.jt=0;h.G.kt=10;h.G.Qy=10;h.G.gy=750;h.G.Lo=5;h.G.Sa=null;h.G.dB=function(){var a=h.G.bv(h.G.Ua);if(a){for(a=a.ee;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");return a}return""};h.G.bv=function(a){for(;a&&a.ee;){if("string"==typeof a.ee||"function"==typeof a.ee)return a;a=a.ee}return null};
h.G.ib=function(){h.G.Sa||(h.G.Sa=document.createElement("div"),h.G.Sa.className="blocklyTooltipDiv",(h.Ln||document.body).appendChild(h.G.Sa))};h.G.fk=function(a){a.QB=h.S.bind(a,"mouseover",null,h.G.gC);a.PB=h.S.bind(a,"mouseout",null,h.G.fC);a.addEventListener("mousemove",h.G.aw,!1)};h.G.Iw=function(a){a&&(h.S.vb(a.QB),h.S.vb(a.PB),a.removeEventListener("mousemove",h.G.aw))};h.G.gC=function(a){h.G.Oi||(a=h.G.bv(a.currentTarget),h.G.Ua!=a&&(h.G.sb(),h.G.ol=null,h.G.Ua=a),clearTimeout(h.G.Lv))};
h.G.fC=function(){h.G.Oi||(h.G.Lv=setTimeout(function(){h.G.Ua=null;h.G.ol=null;h.G.sb()},1),clearTimeout(h.G.Dl))};h.G.aw=function(a){if(h.G.Ua&&h.G.Ua.ee&&!h.G.Oi)if(h.G.visible){var c=h.G.Rq-a.pageX;a=h.G.Sq-a.pageY;Math.sqrt(c*c+a*a)>h.G.Qy&&h.G.sb()}else h.G.ol!=h.G.Ua&&(clearTimeout(h.G.Dl),h.G.Rq=a.pageX,h.G.Sq=a.pageY,h.G.Dl=setTimeout(h.G.bD,h.G.gy))};h.G.H=function(){h.G.Ua=null;h.G.ol=null;h.G.sb()};
h.G.sb=function(){h.G.visible&&(h.G.visible=!1,h.G.Sa&&(h.G.Sa.style.display="none"));h.G.Dl&&clearTimeout(h.G.Dl)};h.G.block=function(){h.G.sb();h.G.Oi=!0};h.G.tD=function(){h.G.Oi=!1};
h.G.bD=function(){if(!h.G.Oi&&(h.G.ol=h.G.Ua,h.G.Sa)){h.G.Sa.textContent="";var a=h.G.dB();a=h.g.Qa.zD(a);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));h.G.Sa.appendChild(d)}a=h.G.Ua.K;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h.G.Sa.style.direction=a?"rtl":"ltr";h.G.Sa.style.display="block";h.G.visible=!0;var e=h.G.Rq;e=a?e-(h.G.jt+h.G.Sa.offsetWidth):e+h.G.jt;var f=h.G.Sq+h.G.kt;f+
h.G.Sa.offsetHeight>d+window.scrollY&&(f-=h.G.Sa.offsetHeight+2*h.G.kt);a?e=Math.max(h.G.Lo-window.scrollX,e):e+h.G.Sa.offsetWidth>c+window.scrollX-2*h.G.Lo&&(e=c-h.G.Sa.offsetWidth-2*h.G.Lo);h.G.Sa.style.top=f+"px";h.G.Sa.style.left=e+"px"}};h.g.pb={};h.g.pb.Xw="aria-";h.g.pb.Zy="role";h.g.pb.sm={CE:"grid",DE:"gridcell",EE:"group",vy:"listbox",Ay:"menu",By:"menuitem",nF:"menuitemcheckbox",Hy:"option",TF:"presentation",Yo:"row",tG:"tree",uG:"treeitem"};h.g.pb.State={Vw:"activedescendant",SD:"colcount",yx:"disabled",gE:"expanded",XE:"invalid",ty:"label",cF:"labelledby",fF:"level",MF:"orientation",SF:"posinset",ZF:"rowcount",Fi:"selected",cG:"setsize",xG:"valuemax",yG:"valuemin"};h.g.pb.Og=function(a,c){a.setAttribute(h.g.pb.Zy,c)};
h.g.pb.Zn=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(h.g.pb.Xw+c,d)};h.IE=function(){};h.JE=function(){};h.KE=function(){};h.TE=function(){};h.g.Sm={};h.g.Sm.warn=function(a,c,d,e){a=a+" was deprecated on "+c+" and will be deleted on "+d+".";e&&(a+="\nUse "+e+" instead.");console.warn(a)};h.ta=function(a,c){this.J=a;this.type=c};h.ta.cm=0;h.ta.Uy=1;h.ta.Xy=2;h.ta.Wy=3;h.ta.Ry=4;h.ta.Sy=5;h.ta.Vy=6;h.ta.Ty=7;b=h.ta.prototype;b.wa=null;b.Ae=!1;b.Pi=null;b.$n=null;b.x=0;b.y=0;
b.Mm=function(a){var c=this.W(),d=a.W();a.isConnected()&&a.disconnect();if(this.isConnected()){var e=this.cj(!0);this.$n=null;var f=this.ua();if(f.Fa)f.H(!1);else{this.disconnect();var g=f}this.$n=e}var k;h.h.isEnabled()&&(k=new (h.h.get(h.h.Wg))(d));h.ta.gA(this,a);d.Xn(c);k&&(k.$h(),h.h.Ia(k));g&&(a=this.type===h.U.Ob?g.P:g.X,(d=h.ta.Pu(d,a))?a.connect(d):a.pr(this))};b.H=function(){if(this.isConnected()){this.zl(null);var a=this.ua();a&&C(a)}this.Ae=!0};b.W=function(){return this.J};
function F(a){return a.type==h.U.Ob||a.type==h.U.Pb}b.isConnected=function(){return!!this.wa};b.zp=function(a){h.g.Sm.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker");return this.J.A.mf.zp(this,a,!1)};b.pr=function(){};b.connect=function(a){if(this.wa!=a&&H(this.J.A.mf,this,a,!1)){var c=h.h.Mb();c||h.h.ra(!0);F(this)?this.Mm(a):a.Mm(this);c||h.h.ra(!1)}};
h.ta.gA=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.wa=c;c.wa=a};h.ta.cB=function(a,c){var d=null;c=c.P;for(var e=c.J.A.mf,f=0,g;g=a.R[f];f++)if((g=g.connection)&&H(e,c,g,!1)){if(d)return null;d=g}return d};h.ta.TA=function(a,c){for(var d;d=h.ta.cB(a,c);)if(a=d.ua(),!a||a.Fa)return d;return null};h.ta.Pu=function(a,c){if(c.type===h.U.Dc)return h.ta.TA(a,c.W());a=a.xn(!0);var d=c.J.A.mf;return a&&H(d,c,a,!1)?a:null};b=h.ta.prototype;
b.disconnect=function(){var a=this.wa;if(!a)throw Error("Source connection not connected.");if(a.wa!=this)throw Error("Target connection not connected to source connection.");if(F(this)){var c=this.J;var d=a.W();a=this}else c=a.W(),d=this.J;var e=h.h.Mb();e||h.h.ra(!0);this.Up(c,d);d.Fa||a.wl();e||h.h.ra(!1)};b.Up=function(a,c){var d;h.h.isEnabled()&&(d=new (h.h.get(h.h.Wg))(c));this.wa=this.wa.wa=null;c.Xn(null);d&&(d.$h(),h.h.Ia(d))};
b.wl=function(){var a=this.W(),c=this.cj();if(a.A&&c)if(a=h.I.Zm(c,a.A),a.P)this.connect(a.P);else if(a.X)this.connect(a.X);else throw Error("Child block does not have output or previous statement.");};b.ua=function(){return this.isConnected()?this.wa.W():null};b.Yv=function(){!this.isConnected()||this.wa&&H(this.J.A.mf,this,this.wa,!1)||C(F(this)?this.ua():this.J)};b.rj=function(a){a?(Array.isArray(a)||(a=[a]),this.Pi=a,this.Yv()):this.Pi=null};
b.zl=function(a){this.$n=a;a=this.ua();a?a.Fa&&(a.H(!1),this.wl()):this.wl()};b.cj=function(a){return a&&this.ua().Fa?h.I.eg(this.ua()):this.$n};b.Pv=function(){return[]};b.Ge=function(){for(var a=null,c=this.J.R,d=0;d<c.length;d++)if(c[d].connection===this){a=c[d];break}return a};
b.toString=function(){var a=this.J;if(!a)return"Orphan Connection";if(a.P==this)var c="Output Connection of ";else if(a.X==this)c="Previous Connection of ";else if(a.ba==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.R[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};h.OE=function(){};h.Is=function(){};function H(a,c,d,e,f){return a.zp(c,d,e,f)==h.ta.cm}h.Is.prototype.zp=function(a,c,d,e){if(a&&c){if(F(a)){var f=a.W();var g=c.W()}else g=a.W(),f=c.W();f=f==g?h.ta.Uy:c.type!=h.Di[a.type]?h.ta.Xy:f.A!==g.A?h.ta.Sy:f.Fa&&!g.Fa?h.ta.Vy:h.ta.cm}else f=h.ta.Wy;if(f!=h.ta.cm)a=f;else{a:if(f=a.Pi,g=c.Pi,f&&g){for(var k=0;k<f.length;k++)if(-1!=g.indexOf(f[k])){f=!0;break a}f=!1}else f=!0;a=f?d&&!Ha(a,c,e||0)?h.ta.Ty:h.ta.cm:h.ta.Ry}return a};
function Ha(a,c,d){if(Ia(a,c)>d||c.W().xd())return!1;switch(c.type){case h.U.Tc:return a.wa||-1!=h.Yi.indexOf(c)?a=!1:c.wa?(a=c.ua(),a=a.xd()?!(a.X&&a.X.ua()):!1):a=!0,a;case h.U.Dc:if(c.isConnected()&&!c.ua().xd()||a.isConnected())return!1;break;case h.U.Ob:if(c.isConnected()&&!c.ua().ic()&&!c.ua().Fa)return!1;break;case h.U.Pb:if(c.isConnected()&&!a.W().ba&&!c.ua().Fa&&c.ua().ba)return!1;break;default:return!1}return-1!=h.Yi.indexOf(c)?!1:!0}h.u.register(h.u.N.Gs,h.u.Hj,h.Is);h.It=function(a){this.Xa=Object.create(null);this.A=a};b=h.It.prototype;b.clear=function(){this.Xa=Object.create(null)};b.pw=function(a,c){var d=this.ng(c,a.type),e=I(this.A,!1);h.h.ra(!0);try{if(d&&d.zc()!=a.zc()){var f=a.type;c!=d.name&&Ja(d,c,e);for(c=0;c<e.length;c++){d=void 0;for(var g=0;d=e[c].R[g];g++)for(var k=0;d.Va[k];k++);}h.h.Ia(new (h.h.get(h.h.ym))(a));this.Xa[f].splice(this.hn(f).indexOf(a),1)}else Ja(a,c,e)}finally{h.h.ra(!1)}};
b.ai=function(a,c){var d=this.Ah(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.pw(d,c)};function Ja(a,c,d){h.h.Ia(new (h.h.get(h.h.hp))(a,c));a.name=c;for(a=0;a<d.length;a++)for(var e=d[a],f=0;c=e.R[f];f++)for(var g=0;c.Va[g];g++);}
b.Qd=function(a,c,d){var e=this.ng(a,c);if(e){if(d&&e.zc()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.zc()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Ah(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||h.g.rf();c=c||"";e=new h.zm(this.A,a,c,e);a=this.Xa[c]||[];a.push(e);delete this.Xa[c];this.Xa[c]=a;return e};
b.Wi=function(a){var c=this.Ah(a);if(c){var d=c.name,e=this.Aq(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=Ka(f,"NAME");d=h.L.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);h.alert(d);return}var g=this;1<e.length?(d=h.L.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),h.confirm(d,function(k){k&&c&&La(g,c,e)})):La(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function La(a,c,d){var e=h.h.Mb();e||h.h.ra(!0);try{for(var f=0;f<d.length;f++)d[f].H(!0);var g=a.Xa[c.type];a=0;for(var k;k=g[a];a++)if(k.zc()==c.zc()){g.splice(a,1);h.h.Ia(new (h.h.get(h.h.ym))(c));break}}finally{e||h.h.ra(!1)}}b.ng=function(a,c){if(c=this.Xa[c||""])for(var d=0,e;e=c[d];d++)if(h.gh.qf(e.name,a))return e;return null};b.Ah=function(a){for(var c=Object.keys(this.Xa),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Xa[e][f];f++)if(g.zc()==a)return g;return null};
b.hn=function(a){return(a=this.Xa[a||""])?a.slice():[]};b.$i=function(){var a=[],c;for(c in this.Xa)a=a.concat(this.Xa[c]);return a};b.mq=function(){var a=[],c;for(c in this.Xa)for(var d=this.Xa[c],e=0,f;f=d[e];e++)a.push(f.name);return a};b.Aq=function(a){for(var c=[],d=I(this.A,!1),e=0;e<d.length;e++){var f=la(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].zc()==a&&c.push(d[e])}return c};h.fb=function(a){this.id=h.g.rf();h.fb.bk[this.id]=this;this.options=a||new h.nd({});this.K=!!this.options.K;this.mn=!!this.options.mn;this.ji=this.options.ji;this.mf=new (h.u.wh(h.u.N.Gs,this.options,!0))(this);this.Nl=[];this.io=[];this.Lm=Object.create(null);this.xf=[];this.li=[];this.vl=[];this.qp=Object.create(null);this.Jf=Object.create(null);this.Xa=new h.It(this);this.Pn=null};b=h.fb.prototype;b.qa=!1;b.Nq=!1;b.et=1024;b.Om=null;b.H=function(){this.xf.length=0;this.clear();delete h.fb.bk[this.id]};
h.fb.st=3;b=h.fb.prototype;b.Pe=function(a,c){a=a.ab();c=c.ab();return a.y+h.fb.prototype.Pe.offset*a.x-(c.y+h.fb.prototype.Pe.offset*c.x)};b.Am=function(a){this.Nl.push(a)};b.Rn=function(a){if(!h.g.ek(this.Nl,a))throw Error("Block not present in workspace's list of top-most blocks.");};b.fc=function(a){var c=[].concat(this.Nl);a&&1<c.length&&(this.Pe.offset=Math.sin(h.g.kc.ii(h.fb.st)),this.K&&(this.Pe.offset*=-1),c.sort(this.Pe));return c};function Ma(a,c){return a.Jf[c]?a.Jf[c].slice(0):[]}
function I(a,c){if(c){a=a.fc(!0);c=[];for(var d=0;d<a.length;d++)c.push.apply(c,p(a[d],!0))}else for(c=a.fc(!1),d=0;d<c.length;d++)c.push.apply(c,z(c[d],!1));return c.filter(function(e){return!e.xd()})}b.clear=function(){this.Nq=!0;try{var a=h.h.Mb();for(a||h.h.ra(!0);this.Nl.length;)this.Nl[0].H(!1);for(;this.io.length;)this.io[this.io.length-1].H(!1);a||h.h.ra(!1);this.Xa.clear();this.Pn&&this.Pn.clear()}finally{this.Nq=!1}};b.ai=function(a,c){this.Xa.ai(a,c)};
b.Qd=function(a,c,d){return this.Xa.Qd(a,c,d)};b.Aq=function(a){return this.Xa.Aq(a)};b.Wi=function(a){this.Xa.Wi(a)};b.ng=function(a,c){return this.Xa.ng(a,c)};b.Ah=function(a){return this.Xa.Ah(a)};b.hn=function(a){return this.Xa.hn(a)};b.$i=function(){return this.Xa.$i()};b.mq=function(){return this.Xa.mq()};b.jn=function(){return 0};b.oj=function(a,c){return new h.ui(this,a,c)};
function Na(a,c){if(!Oa(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.Bn?(void 0!==a.options.Bn[e]?a.options.Bn[e]:Infinity)-Ma(a,e).length:Infinity))return!1;d+=c[e]}return d>(isNaN(a.options.bl)?Infinity:a.options.bl-I(a,!1).length)?!1:!0}function Oa(a){return Infinity!=a.options.bl||!!a.options.Bn}
function Pa(a,c){var d=c?a.vl:a.li;a=c?a.li:a.vl;var e=d.pop();if(e){for(var f=[e];d.length&&e.group&&e.group==d[d.length-1].group;)f.push(d.pop());for(d=0;e=f[d];d++)a.push(e);f=h.h.filter(f,c);h.h.Ha=!1;try{for(d=0;e=f[d];d++)e.run(c)}finally{h.h.Ha=!0}}}function Qa(){var a=y;a.li.length=0;a.vl.length=0;h.h.Zz()}b.Jc=function(a){return this.qp[a]||null};h.fb.bk=Object.create(null);h.fb.Gk=function(a){return h.fb.bk[a]||null};
h.fb.getAll=function(){var a=[],c;for(c in h.fb.bk)a.push(h.fb.bk[c]);return a};h.Pt=function(a){this.nk=a;this.ib()};b=h.Pt.prototype;b.Ya=null;b.nk=null;b.ib=function(){this.Ya||(this.Ya=h.g.j.M(h.g.F.Yj,{xmlns:h.g.j.vm,"xmlns:html":h.g.j.Co,"xmlns:xlink":h.g.j.mh,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.nk.appendChild(this.Ya))};b.ki=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.Ya.style.display="block";h.g.j.Tn(this.Ya,"translate3d("+a+"px, "+c+"px, 0px)")};b.yq=function(){return h.g.Vd(this.Ya)};
b.Hm=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.Ya.childNodes[0],d=this.Ya.childNodes[1];if(!(c&&d&&h.g.j.Cq(c,"blocklyBlockCanvas")&&h.g.j.Cq(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Fr?h.g.j.Qk(c,this.Fr):a.insertBefore(c,a.firstChild);h.g.j.Qk(d,c);this.Ya.style.display="none";if(this.Ya.childNodes.length)throw Error("Drag surface was not cleared.");h.g.j.Tn(this.Ya,
"");this.Fr=null};h.i={};h.i.Tl=!1;h.i.register=function(a,c){h.u.register(h.u.N.RENDERER,a,c)};h.i.unregister=function(a){h.u.unregister(h.u.N.RENDERER,a)};h.i.eI=function(){h.i.Tl=!0};h.i.fI=function(){h.i.Tl=!1};h.i.Wa=function(a,c,d){a=new (h.u.oq(h.u.N.RENDERER,a))(a);a.Wa(c,d);return a};h.D=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.Rl=a;this.Aa=c;this.Tw=null;(a=d||null)&&a.Sw&&(this.Tw=a.Sw)};h.D.types={rc:"field",Kb:"block",ld:"input",hh:"output",Vf:"next",Xf:"previous",jh:"stack",Fc:"workspace"};h.D.Uf=!1;h.D.ux=-20;h.D.zH=function(a){switch(a){case h.D.types.Xf:case h.D.types.Vf:case h.D.types.ld:case h.D.types.hh:return!0}return!1};h.D.rk=function(a){return a?new h.D(h.D.types.rc,a):null};
h.D.kg=function(a){if(!a)return null;var c=a.type;return c==h.U.Ob||c==h.U.Pb&&a.Ge()?h.D.rh(a.Ge()):c==h.U.Pb?new h.D(h.D.types.Vf,a):c==h.U.Dc?new h.D(h.D.types.hh,a):c==h.U.Tc?new h.D(h.D.types.Xf,a):null};h.D.rh=function(a){return a&&a.connection?new h.D(h.D.types.ld,a.connection):null};h.D.jg=function(a){return a?new h.D(h.D.types.Kb,a):null};h.D.Pm=function(a){return a?new h.D(h.D.types.jh,a):null};h.D.oA=function(a,c){return c&&a?new h.D(h.D.types.Fc,a,{Sw:c}):null};
h.D.eH=function(a){var c=a.X||a.P;return c?h.D.kg(c):h.D.jg(a)};b=h.D.prototype;b.getType=function(){return this.Rl};function Ra(a,c){a=a.Aa;a instanceof h.ui||(a=a.W());if(!a||!a.A)return null;var d=a.Wd();a=d.A.fc(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:h.D.Pm(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}
function Sa(a){if(!a)return null;do var c=a.X&&a.X.ua();while(c&&u(c)==a&&(a=c));return(c=a.X||a.P)&&c.wa&&c.wa.Ge()?h.D.rh(c.wa.Ge()):h.D.Pm(a)}b.W=function(){return this.getType()===h.D.types.Kb?this.Aa:this.getType()===h.D.types.jh?this.Aa:this.getType()===h.D.types.Fc?null:this.Aa.W()};
b.next=function(){switch(this.Rl){case h.D.types.jh:return Ra(this,!0);case h.D.types.hh:var a=this.Aa;return h.D.jg(a.W());case h.D.types.rc:a:{var c=this.Aa,d=c.Ge();a=c.W();c=d.Va.indexOf(c)+1;d=a.R.indexOf(d);for(var e;e=a.R[d];d++){for(var f=e.Va;c<f.length;){if(J(f[c])||h.D.Uf){a=h.D.rk(f[c]);break a}c++}c=0;if(e.connection){a=h.D.rh(e);break a}}a=null}return a;case h.D.types.ld:a:{c=this.Aa.Ge();a=c.W();for(c=a.R.indexOf(c)+1;d=a.R[c];c++){e=d.Va;f=0;for(var g;g=e[f];f++)if(J(g)||h.D.Uf){a=
h.D.rk(g);break a}if(d.connection){a=h.D.rh(d);break a}}a=null}return a;case h.D.types.Kb:return h.D.kg(this.Aa.ba);case h.D.types.Xf:return a=this.Aa,h.D.jg(a.W());case h.D.types.Vf:return a=this.Aa,h.D.kg(a.wa)}return null};
b.qg=function(){switch(this.Rl){case h.D.types.Fc:var a=this.Aa.fc(!0);if(0<a.length)return h.D.Pm(a[0]);break;case h.D.types.jh:a=this.Aa;var c=a.X||a.P;return c?h.D.kg(c):h.D.jg(a);case h.D.types.Kb:a=this.Aa;a:{a=a.R;c=0;for(var d;d=a[c];c++){for(var e=d.Va,f=0,g;g=e[f];f++)if(J(g)||h.D.Uf){a=h.D.rk(g);break a}if(d.connection){a=h.D.rh(d);break a}}a=null}return a;case h.D.types.ld:return h.D.kg(this.Aa.wa)}return null};
b.Ig=function(){switch(this.Rl){case h.D.types.jh:return Ra(this,!1);case h.D.types.rc:a:{var a=this.Aa;var c=a.Ge();var d=a.W();a=c.Va.indexOf(a)-1;for(var e=d.R.indexOf(c),f;f=d.R[e];e--){if(f.connection&&f!==c){c=h.D.rh(f);break a}for(f=f.Va;-1<a;){if(J(f[a])||h.D.Uf){c=h.D.rk(f[a]);break a}a--}0<=e-1&&(a=d.R[e-1].Va.length-1)}c=null}return c;case h.D.types.ld:a:{c=this.Aa.Ge();d=c.W();for(a=d.R.indexOf(c);e=d.R[a];a--){if(e.connection&&e!==c){c=h.D.rh(e);break a}e=e.Va;f=e.length-1;for(var g;g=
e[f];f--)if(J(g)||h.D.Uf){c=h.D.rk(g);break a}}c=null}return c;case h.D.types.Kb:return c=this.Aa,h.D.kg(c.X||c.P);case h.D.types.Xf:c=this.Aa;if((c=c.wa)&&!c.Ge())return h.D.kg(c);break;case h.D.types.Vf:return c=this.Aa,h.D.jg(c.W())}return null};
b.Fg=function(){switch(this.Rl){case h.D.types.jh:var a=this.Aa,c=a.ab();return h.D.oA(a.A,new h.g.O(c.x,c.y+h.D.ux));case h.D.types.hh:return a=this.Aa,(c=a.wa)?h.D.kg(c):h.D.Pm(a.W());case h.D.types.rc:return h.D.jg(this.Aa.W());case h.D.types.ld:return a=this.Aa,h.D.jg(a.W());case h.D.types.Kb:return a=this.Aa,Sa(a);case h.D.types.Xf:return a=this.Aa,Sa(a.W());case h.D.types.Vf:return a=this.Aa,Sa(a.W())}return null};h.$b=Object.create(null);h.xa={};h.xa.zj=Object.create(null);h.xa.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(h.xa.zj[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');h.xa.zj[a]=c};h.xa.PH=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');h.xa.register(a,function(){this.Bg(c)})};
h.xa.QH=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';h.xa.bu(f,c.Zc,"domToMutation");h.xa.bu(f,c.lc,"mutationToDom");var g=h.xa.du(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');h.xa.register(a,function(){if(g){if(!h.Dy)throw Error(f+"Missing require for Blockly.Mutator");this.ww(new h.Dy(e||[]))}this.Bg(c);d&&d.apply(this)})};h.xa.unregister=function(a){h.xa.zj[a]?delete h.xa.zj[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
h.xa.apply=function(a,c,d){var e=h.xa.zj[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)h.xa.Wz(a,c);else var f=h.xa.vq(c);e.apply(c);if(d)h.xa.Uz('Error after applying mutator "'+a+'": ',c);else if(!h.xa.TB(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
h.xa.bu=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};h.xa.Wz=function(a,c){if(h.xa.vq(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
h.xa.du=function(a,c){var d=void 0!==a.Gp,e=void 0!==a.Lp;if(d&&e){if("function"!=typeof a.Gp)throw Error(c+"compose must be a function.");if("function"!=typeof a.Lp)throw Error(c+"decompose must be a function.");return!0}if(!d&&!e)return!1;throw Error(c+'Must have both or neither of "compose" and "decompose"');};
h.xa.Uz=function(a,c){if("function"!=typeof c.Zc)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.lc)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');h.xa.du(c,a)};h.xa.vq=function(a){var c=[];void 0!==a.Zc&&c.push(a.Zc);void 0!==a.lc&&c.push(a.lc);void 0!==a.Gp&&c.push(a.Gp);void 0!==a.Lp&&c.push(a.Lp);return c};h.xa.TB=function(a,c){c=h.xa.vq(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
h.xa.MG=function(a,c){var d=[];"object"==typeof document&&h.g.uw(function(){for(var e in c)h.g.cu(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(h.xa.Vz(this,a,c),d.push(this.type));this.Pg(function(){var e=String(Ka(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=h.g.Nc(f);return f}.bind(this))}};
h.xa.Vz=function(a,c,d){var e=B(a,c);if(!Ta(e)){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+c+" of block type "+a.type)}}};h.xa.NG=function(a,c){"object"==typeof document&&h.g.uw(function(){h.g.cu(a)});return function(){this.Pg(function(){var d=B(this,c);return h.g.Nc(a).replace("%1",d?Ua(d):"")}.bind(this))}};h.xa.EA=function(){this.oD=this.ee;this.Pg(function(){var a=this.getParent();return a&&Va(a)&&a.ee||this.oD}.bind(this))};
h.xa.register("parent_tooltip_when_inline",h.xa.EA);h.mg={};h.mg.register=function(a,c){h.u.register(h.u.N.rc,a,c)};h.mg.unregister=function(a){h.u.unregister(h.u.N.rc,a)};h.mg.$=function(a){var c=h.u.wq(h.u.N.rc,a.type);return c?c.$(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};h.RE=function(){};h.Ta={};h.Ta.Vp=0;h.Ta.Wm=null;h.Ta.wA=function(a){var c=a.A,d=a.za();c.ue.play("delete");a=Wa(c,d);d=d.cloneNode(!0);d.qD=a.x;d.rD=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");w(c).appendChild(d);d.Wt=d.getBBox();h.Ta.Fu(d,c.K,new Date,c.scale)};h.Ta.Fu=function(a,c,d,e){var f=(new Date-d)/150;1<f?h.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.qD+(c?-1:1)*a.Wt.width*e/2*f)+","+(a.rD+a.Wt.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(h.Ta.Fu,10,a,c,d,e))};
h.Ta.hA=function(a){var c=a.A,d=c.scale;c.ue.play("click");if(!(1>d)){var e=Wa(c,a.za());a.P?(e.x+=(a.K?3:-3)*d,e.y+=13*d):a.X&&(e.x+=(a.K?-23:23)*d,e.y+=3*d);a=h.g.j.M(h.g.F.Cs,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},w(c));h.Ta.qu(a,new Date,d)}};h.Ta.qu=function(a,c,d){var e=(new Date-c)/150;1<e?h.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,h.Ta.Vp=setTimeout(h.Ta.qu,10,a,c,d))};
h.Ta.vA=function(a){a.A.ue.play("disconnect");if(!(1>a.A.scale)){var c=v(a).height;c=Math.atan(10/c)/Math.PI*180;a.K||(c*=-1);h.Ta.Eu(a.za(),c,new Date)}};h.Ta.Eu=function(a,c,d){var e=(new Date-d)/200;1<e?a.El="":(a.El="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",h.Ta.Wm=a,h.Ta.Vp=setTimeout(h.Ta.Eu,10,a,c,d));a.setAttribute("transform",a.Ql+a.El)};h.Ta.Wp=function(){if(h.Ta.Wm){clearTimeout(h.Ta.Vp);var a=h.Ta.Wm;a.El="";a.setAttribute("transform",a.Ql);h.Ta.Wm=null}};h.h.Kf=function(a,c,d){h.h.Kf.v.constructor.call(this,a?a.A.id:void 0);this.Za=a?a.id:null;this.yv=c;this.Xt=d};h.g.object.T(h.h.Kf,h.h.se);h.h.Kf.prototype.type=h.h.$l;h.h.Kf.prototype.pa=function(){var a=h.h.Kf.v.pa.call(this);a.isStart=this.yv;a.blockId=this.Za;a.blocks=this.Xt;return a};h.h.Kf.prototype.$=function(a){h.h.Kf.v.$.call(this,a);this.yv=a.isStart;this.Za=a.blockId;this.Xt=a.blocks};h.u.register(h.u.N.Bb,h.h.$l,h.h.Kf);h.LE=function(){};h.tc=function(a){this.Rg=h.selected=a;this.C=a.A;this.yg=this.Pq=null;this.Dk=Xa(this,this.Rg);this.jc=this.qb=null;this.fe=!1;this.Bk=this.Gq=this.Qh=null;this.Dm=Ya(this)};h.tc.Ei={Fo:0,ny:1,rt:2};h.tc.Ls="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.";h.tc.prototype.H=function(){this.Dm.length=0;h.h.disable();try{this.Dk&&this.Dk.H(),this.yg&&this.yg.H()}finally{h.h.enable()}};
h.tc.prototype.update=function(a,c){var d=this.qb&&this.jc?h.Fs:h.ac;for(var e=null,f=null,g=0;g<this.Dm.length;g++){var k=this.Dm[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.Qn)}d={closest:e,local:f,Qn:d};if((this.fe=this.Xr(d,c))||Za(this,d,a)){h.h.disable();d.closest?(a=this.qb!=d.closest,c=this.jc!=d.local,this.qb&&this.jc&&(a||c||this.fe)&&$a(this)):$a(this);this.jc=this.qb=this.Qh=null;if(!this.fe&&(a=d.closest,c=d.local,a))if(a==this.qb||a.W().xd())console.log("Trying to connect to an insertion marker");
else{this.qb=a;this.jc=c;a=this.qb;c=this.jc;d=this.Rg;c.type==h.U.Dc||c.type==h.U.Tc?((e=!a.isConnected())||(e=a.ua(),e=!!h.ta.Pu(d,c.type===h.U.Dc?e.P:e.X)),c=e?h.tc.Ei.Fo:h.tc.Ei.rt):c=h.tc.Ei.Fo;switch(c){case h.tc.Ei.ny:this.Gq=this.qb.W();break;case h.tc.Ei.Fo:e=this.jc;c=this.qb;d=this.Pq&&e==this.Pq?this.yg:this.Dk;e=d.uq(e.W(),e);if(e==this.Qh)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");d.Ea();d.qa=!0;d.za().setAttribute("visibility","visible");e&&
c&&(e.type!=h.U.Pb&&e.type!=h.U.Ob||d.moveBy(c.x-e.x,c.y-e.y));c&&e.connect(c);this.Qh=e;break;case h.tc.Ei.rt:this.Bk=this.qb.ua(),K(this.Bk.cb,"blocklyReplaceable",!0)}a&&(d=a.J.A.kb.aa(),c=ab(d,a),a.type==h.U.Ob||a.type==h.U.Dc?(d=d.Ii,c=h.g.s.moveBy(0,-d)+h.g.s.V("v",d)+c.Bd+h.g.s.V("v",d)):(d=d.Vj-d.je,c=h.g.s.moveBy(-d,0)+h.g.s.V("h",d)+c.Hg+h.g.s.V("h",d)),d=a.J.ab(),h.ta.ov=h.g.j.M(h.g.F.Ze,{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-d.y)+")"+
(a.J.K?" scale(-1 1)":"")},a.J.za()))}h.h.enable()}};
function Xa(a,c){var d=c.type;h.h.disable();try{var e=a.C.oj(d);e.vw(!0);if(c.lc){var f=c.lc();f&&e.Zc(f)}for(a=0;a<c.R.length;a++){var g=c.R[a];if(g.name!=h.bb.fm){var k=e.R[a];if(!k)throw Error(h.tc.Ls.replace("%1","an input"));for(d=0;d<g.Va.length;d++){var l=g.Va[d],m=k.Va[d];if(!m)throw Error(h.tc.Ls.replace("%1","a field"));m.setValue(l.getValue())}}}e.ci(c.isCollapsed());e.Mg(Va(c));e.Ih();e.za().setAttribute("visibility","hidden")}finally{h.h.enable()}return e}
function Ya(a){var c=a.Rg.Ud(!1),d=a.Rg.xn(!0);if(d&&d!=a.Rg.ba){c.push(d);a.Pq=d;if(a.yg){h.h.disable();try{a.yg.H()}finally{h.h.enable()}}a.yg=Xa(a,d.W())}return c}
function Za(a,c,d){var e=c.local,f=c.closest;c=c.Qn;if(e&&f){if(a.jc&&a.qb){if(a.qb==f&&a.jc==e)return!1;e=a.jc.x+d.x-a.qb.x;a=a.jc.y+d.y-a.qb.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-h.lx)}if(a.jc||a.qb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.jc||!a.qb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
h.tc.prototype.Xr=function(a,c){return c&&ca(this.C.jk,c.id)?c.yD(this.Rg,a&&!!a.closest):!1};
function $a(a){a.qb&&a.qb.ua()&&(h.g.j.removeNode(h.ta.ov),delete h.ta.ov);if(a.Bk)K(a.Bk.cb,"blocklyReplaceable",!1),a.Bk=null;else if(a.Gq)a.Gq=null;else if(a.Qh)if(a.Qh){var c=a.Qh,d=c.W(),e=d.ba,f=d.X,g=d.P;g=c.type==h.U.Ob&&!(g&&g.wa);!(c!=e||f&&f.wa)||g?C(c.ua(),!1):c.type==h.U.Pb&&c!=e?(e=c.wa,C(e.W(),!1),f=f?f.wa:null,C(d,!0),f&&f.connect(e)):C(d,!0);if(c.wa)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Qh=null;(a=d.za())&&a.setAttribute("visibility",
"hidden")}else console.log("No insertion marker connection to disconnect")}h.tc.prototype.aj=function(){var a=[];this.Dk&&a.push(this.Dk);this.yg&&a.push(this.yg);return a};h.Aj=function(a,c){this.Ma=a;this.C=c;this.Ee=new h.tc(this.Ma);this.jb=null;this.fe=!1;this.Fd=this.Ma.ab();this.$m=h.Aj.wB(a)};h.Aj.prototype.H=function(){this.$m.length=0;this.Ee&&this.Ee.H()};h.Aj.wB=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++){e=L(e);for(var f=0;f<e.length;f++){var g={location:e[f].qH(),icon:e[f]};c.push(g)}}return c};b=h.Aj.prototype;
b.Fl=function(a,c){h.h.Mb()||h.h.ra(!0);var d=new (h.h.get(h.h.$l))(this.Ma,!0,p(this.Ma,!1));h.h.Ia(d);this.C.tn&&bb(this.Ma);h.g.j.Gl();this.C.Oc(!1);h.Ta.Wp();if(this.Ma.getParent()||c&&this.Ma.ba&&this.Ma.ba.ua())C(this.Ma,c),a=this.pj(a),a=h.g.O.sum(this.Fd,a),this.Ma.translate(a.x,a.y),h.Ta.vA(this.Ma),a=this.Ee,a.Dm=Ya(a);this.Ma.Lg(!0);a=this.Ma;a.Ul&&(c=a.ab(),a.za().removeAttribute("transform"),a.A.Wc.ki(c.x,c.y),(c=a.za())&&oa(a.A.Wc,c))};
b.Ce=function(a,c){c=this.pj(c);var d=h.g.O.sum(this.Fd,c);this.Ma.dr(d);for(d=0;d<this.$m.length;d++){var e=this.$m[d];e.icon.aI(h.g.O.sum(e.location,c))}d=this.jb;this.jb=cb(this.C,a);this.Ee.update(c,this.jb);a=this.fe;this.fe=this.Ee.fe;a!=this.fe&&this.Ma.Rr(this.fe);this.jb!==d&&(d&&d.$B(this.Ma),this.jb&&this.jb.ZB(this.Ma));this.jb&&this.jb.aC(this.Ma)};
b.zk=function(a,c){this.Ce(a,c);this.$m=[];a=new (h.h.get(h.h.$l))(this.Ma,!1,p(this.Ma,!1));h.h.Ia(a);h.g.j.Hl();h.Ta.Wp();if(this.jb&&this.jb.$C(this.Ma))c=this.Fd;else{var d=this.pj(c);c=h.g.O.sum(this.Fd,d)}a=this.Ma;a.Ul&&(a.translate(c.x,c.y),a.A.Wc.Hm(a.A.zb));this.jb&&this.jb.bC(this.Ma);this.fe?(this.Ck(),this.Ma.H(!1,!0),h.Yi=[],c=!0):c=!1;c||(this.Ma.Lg(!1),d?(db(this.Ma,d.x,d.y),this.Ck(),this.Ee.qb?(d=this.Ee,d.qb&&(h.h.disable(),$a(d),h.h.enable(),d.jc.connect(d.qb),d.Rg.qa&&(h.Ta.hA((F(d.jc)?
d.qb:d.jc).W()),bb(d.Rg.Wd())))):this.Ma.Ea(),eb(this.Ma)):h.up(this.Ma.A,this.C.Th.Kk(!0),this.Ma));this.C.Oc(!0);h.h.ra(!1)};b.Ck=function(){var a=new (h.h.get(h.h.Wg))(this.Ma);a.kr=this.Fd;a.$h();h.h.Ia(a)};b.pj=function(a){a=new h.g.O(a.x/this.C.scale,a.y/this.C.scale);this.C.tn&&a.scale(1/this.C.options.Lc.scale);return a};b.aj=function(){return this.Ee&&this.Ee.aj?this.Ee.aj():[]};h.u.register(h.u.N.ys,h.u.Hj,h.Aj);h.PE=function(){};h.SE=function(){};h.NE=function(){};h.va=function(a,c,d,e,f,g){this.C=a;this.nf=c;this.ZC=d;this.vr=this.rr=this.Nv=this.tw=null;this.Ae=!1;d=h.va.Yw;this.C.K&&(d=-d);this.Hz=h.g.kc.ii(d);a.Gf.appendChild(this.qk(c,!(!f||!g)));this.Db=e;this.qw&&fb(this);f&&g||(a=this.nf.getBBox(),f=a.width+2*h.va.ge,g=a.height+2*h.va.ge);gb(this,f,g);fb(this);hb(this);this.qw=!0};h.va.ge=6;h.va.Zw=5;h.va.Yw=20;h.va.ts=4;h.va.Ww=8;h.va.Eg=null;h.va.Dg=null;
h.va.js=function(){h.va.Eg&&(h.S.vb(h.va.Eg),h.va.Eg=null);h.va.Dg&&(h.S.vb(h.va.Dg),h.va.Dg=null)};h.va.Mz=function(){h.Touch.Im();h.va.js()};b=h.va.prototype;b.qw=!1;b.Db=null;b.Ne=0;b.Jg=0;b.Rb=0;b.Xd=0;b.np=!0;
b.qk=function(a,c){this.qd=h.g.j.M(h.g.F.Sc,{},null);var d={filter:"url(#"+this.C.kb.aa().an+")"};h.g.userAgent.sy&&(d={});d=h.g.j.M(h.g.F.Sc,d,this.qd);this.Yt=h.g.j.M(h.g.F.Ze,{},d);this.Em=h.g.j.M(h.g.F.Tb,{"class":"blocklyDraggable",x:0,y:0,rx:h.va.ge,ry:h.va.ge},d);c?(this.Bf=h.g.j.M(h.g.F.Sc,{"class":this.C.K?"blocklyResizeSW":"blocklyResizeSE"},this.qd),c=2*h.va.ge,h.g.j.M(h.g.F.Ny,{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Bf),h.g.j.M(h.g.F.Qj,{"class":"blocklyResizeLine",x1:c/
3,y1:c-1,x2:c-1,y2:c/3},this.Bf),h.g.j.M(h.g.F.Qj,{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Bf)):this.Bf=null;this.C.options.readOnly||(this.rr=h.S.La(this.Em,"mousedown",this,this.Lz),this.Bf&&(this.vr=h.S.La(this.Bf,"mousedown",this,this.NC)));this.qd.appendChild(a);return this.qd};b.za=function(){return this.qd};
b.Lz=function(a){var c=ib(this.C,a);if(c){if(c.gj)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.gd||(c.gd=this);c.yd=a}};b.Bl=function(){};b.sg=function(){return!1};b.Rr=function(){};
b.NC=function(a){var c=this.qd.parentNode;c.lastChild!==this.qd&&c.appendChild(this.qd);h.va.js();h.g.Vk(a)||(this.C.Fl(a,new h.g.O(this.C.K?-this.Rb:this.Rb,this.Xd)),h.va.Eg=h.S.La(document,"mouseup",this,h.va.Mz),h.va.Dg=h.S.La(document,"mousemove",this,this.OC),h.hc());a.stopPropagation()};b.OC=function(a){this.np=!1;var c=this.C;a=h.g.hl(a,w(c),Ea(c));a.x/=c.scale;a.y/=c.scale;c=h.g.O.sum(c.Gu,a);gb(this,this.C.K?-c.x:c.x,c.y);this.C.K&&fb(this)};
function jb(a,c,d){var e=a.C.K?a.Db.x-c.x-a.Rb:c.x+a.Db.x;c=c.y+a.Db.y;return Math.max(0,Math.min(1,(Math.min(e+a.Rb,d.left+d.width)-Math.max(e,d.left))*(Math.min(c+a.Xd,d.top+d.height)-Math.max(c,d.top))/(a.Rb*a.Xd)))}function fb(a){var c=a.Db.x;c=a.C.K?c-(a.Ne+a.Rb):c+a.Ne;a.moveTo(c,a.Jg+a.Db.y)}b.moveTo=function(a,c){this.qd.setAttribute("transform","translate("+a+","+c+")")};b.Lg=function(a){!a&&this.Nv&&this.Nv()};
function gb(a,c,d){var e=2*h.va.ge;c=Math.max(c,e+45);d=Math.max(d,e+20);a.Rb=c;a.Xd=d;a.Em.setAttribute("width",c);a.Em.setAttribute("height",d);a.Bf&&(a.C.K?a.Bf.setAttribute("transform","translate("+2*h.va.ge+","+(d-e)+") scale(-1 1)"):a.Bf.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.np){c=kb(a.C.Th,!0);d=-a.Rb/4;if(!(a.Rb>c.width)){if(a.C.K){e=a.Db.x-d;var f=e-a.Rb;var g=c.left+c.width,k=c.left+h.Oa.fd/a.C.scale}else f=d+a.Db.x,e=f+a.Rb,k=c.left,g=c.left+c.width-h.Oa.fd/a.C.scale;
a.C.K?f<k?d=-(k-a.Db.x+a.Rb):e>g&&(d=-(g-a.Db.x)):f<k?d=k-a.Db.x:e>g&&(d=g-a.Db.x-a.Rb)}f=d;d=-a.Xd/4;if(!(a.Xd>c.height)){e=a.Db.y+d;g=e+a.Xd;k=c.top;var l=c.top+c.height-h.Oa.fd/a.C.scale,m=a.Db.y;e<k?d=k-m:g>l&&(d=l-m-a.Xd)}k=d;g=a.ZC.getBBox();d={x:f,y:-a.Xd-a.C.kb.aa().Rj};e={x:-a.Rb-30,y:k};k={x:g.width,y:k};l={x:f,y:g.height};f=g.width<g.height?k:l;g=g.width<g.height?l:k;k=jb(a,d,c);l=jb(a,e,c);m=jb(a,f,c);c=Math.max(k,l,m,jb(a,g,c));k==c?(a.Ne=d.x,a.Jg=d.y):l==c?(a.Ne=e.x,a.Jg=e.y):m==c?(a.Ne=
f.x,a.Jg=f.y):(a.Ne=g.x,a.Jg=g.y)}fb(a);hb(a);a.tw&&a.tw()}
function hb(a){var c=[],d=a.Rb/2,e=a.Xd/2,f=-a.Ne,g=-a.Jg;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.C.K&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),q=Math.cos(m),r=new h.g.Vc(a.Rb,a.Xd);m=(r.width+r.height)/h.va.Zw;m=Math.min(m,r.width,r.height)/4;r=1-h.va.Ww/k;f=d+r*f;g=e+r*g;r=d+m*q;var t=e+m*n;d-=m*q;e-=m*n;n=l+a.Hz;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/h.va.ts;k=Math.cos(n)*k/h.va.ts;c.push("M"+
r+","+t);c.push("C"+(r+k)+","+(t+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.Yt.setAttribute("d",c.join(" "))}b.Oe=function(a){this.Em.setAttribute("fill",a);this.Yt.setAttribute("fill",a)};b.H=function(){this.rr&&h.S.vb(this.rr);this.vr&&h.S.vb(this.vr);h.va.js();h.g.j.removeNode(this.qd);this.Ae=!0};b.dr=function(a,c){a?a.ki(c.x,c.y):this.moveTo(c.x,c.y);this.Ne=this.C.K?this.Db.x-c.x-this.Rb:c.x-this.Db.x;this.Jg=c.y-this.Db.y;hb(this)};
b.ab=function(){return new h.g.O(this.C.K?-this.Ne+this.Db.x-this.Rb:this.Db.x+this.Ne,this.Db.y+this.Jg)};h.va.Se=function(a){var c=h.g.j.M(h.g.F.Bt,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:h.va.ge},null);a=a.split("\n");for(var d=0;d<a.length;d++){var e=h.g.j.M(h.g.F.Dt,{dy:"1em",x:h.va.ge},c),f=document.createTextNode(a[d]);e.appendChild(f)}return c};
h.va.dH=function(a,c,d){d=new h.va(c.A,a,c.cb.ub,d,null,null);d.qd.dataset&&(d.qd.dataset.blockId=c.id);if(c.K){c=a.getBBox().width;for(var e=0,f;f=a.childNodes[e];e++)f.setAttribute("text-anchor","end"),f.setAttribute("x",c+h.va.ge)}return d};h.h.Ue=function(a){this.we=(this.ad="undefined"==typeof a)?"":a.id;this.Nb=this.ad?"":a.A.id;this.group=h.h.Mb();this.Ha=h.h.Ha};h.g.object.T(h.h.Ue,h.h.Abstract);h.h.Ue.prototype.pa=function(){var a=h.h.Ue.v.pa.call(this);this.we&&(a.commentId=this.we);return a};h.h.Ue.prototype.$=function(a){h.h.Ue.v.$.call(this,a);this.we=a.commentId};h.h.wi=function(a,c,d){h.h.wi.v.constructor.call(this,a);a&&(this.Hn="undefined"==typeof c?"":c,this.Gn="undefined"==typeof d?"":d)};h.g.object.T(h.h.wi,h.h.Ue);
b=h.h.wi.prototype;b.type=h.h.Ds;b.pa=function(){var a=h.h.wi.v.pa.call(this);a.oldContents=this.Hn;a.newContents=this.Gn;return a};b.$=function(a){h.h.wi.v.$.call(this,a);this.Hn=a.oldContents;this.Gn=a.newContents};b.lj=function(){return this.Hn==this.Gn};b.run=function(a){var c;(c=x(this).Lm[this.we]||null)?c.ZH(a?this.Gn:this.Hn):console.warn("Can't change non-existent comment: "+this.we)};h.h.Ve=function(a){h.h.Ve.v.constructor.call(this,a);a&&(this.xml=a.Dw())};h.g.object.T(h.h.Ve,h.h.Ue);
h.h.Ve.prototype.type=h.h.gm;h.h.Ve.prototype.pa=function(){var a=h.h.Ve.v.pa.call(this);a.xml=h.I.Be(this.xml);return a};h.h.Ve.prototype.$=function(a){h.h.Ve.v.$.call(this,a);this.xml=h.I.Se(a.xml)};h.h.Ve.prototype.run=function(a){h.h.Hs(this,a)};h.h.Hs=function(a,c){var d=x(a);c?(c=h.g.xml.createElement("xml"),c.appendChild(a.xml),h.I.lg(c,d)):(d=d.Lm[a.we]||null)?d.H(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.we)};
h.h.We=function(a){h.h.We.v.constructor.call(this,a);a&&(this.xml=a.Dw())};h.g.object.T(h.h.We,h.h.Ue);h.h.We.prototype.type=h.h.Es;h.h.We.prototype.pa=function(){return h.h.We.v.pa.call(this)};h.h.We.prototype.$=function(a){h.h.We.v.$.call(this,a)};h.h.We.prototype.run=function(a){h.h.Hs(this,!a)};h.h.xi=function(a){h.h.xi.v.constructor.call(this,a);a&&(this.Fp=a,this.Xh=a.cv(),this.Uh=null)};h.g.object.T(h.h.xi,h.h.Ue);b=h.h.xi.prototype;
b.$h=function(){if(!this.Fp)throw Error("Tried to record the new position of a comment on the same event twice.");this.Uh=this.Fp.cv();this.Fp=null};b.type=h.h.Ej;b.pa=function(){var a=h.h.xi.v.pa.call(this);this.Xh&&(a.oldCoordinate=Math.round(this.Xh.x)+","+Math.round(this.Xh.y));this.Uh&&(a.newCoordinate=Math.round(this.Uh.x)+","+Math.round(this.Uh.y));return a};
b.$=function(a){h.h.xi.v.$.call(this,a);if(a.oldCoordinate){var c=a.oldCoordinate.split(",");this.Xh=new h.g.O(Number(c[0]),Number(c[1]))}a.newCoordinate&&(c=a.newCoordinate.split(","),this.Uh=new h.g.O(Number(c[0]),Number(c[1])))};b.lj=function(){return h.g.O.qf(this.Xh,this.Uh)};b.run=function(a){var c;if(c=x(this).Lm[this.we]||null){a=a?this.Uh:this.Xh;var d=c.cv();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.we)};h.u.register(h.u.N.Bb,h.h.gm,h.h.Ve);
h.u.register(h.u.N.Bb,h.h.Ds,h.h.wi);h.u.register(h.u.N.Bb,h.h.Ej,h.h.xi);h.u.register(h.u.N.Bb,h.h.Es,h.h.We);h.Bj=function(a,c){this.xb=a;this.C=c;this.jb=null;this.Vl=!1;this.Fd=this.xb.ab();this.uh=h.g.Jh()&&c.Wc?c.Wc:null};h.Bj.prototype.H=function(){this.uh=this.C=this.xb=null};function lb(a,c,d){d=a.pj(d);d=h.g.O.sum(a.Fd,d);a.xb.dr(a.uh,d);d=a.jb;a.jb=cb(a.C,c);c=a.Vl;a.Vl=a.Xr(a.jb);c!=a.Vl&&a.xb.Rr(a.Vl);a.jb!==d&&(d&&d.$B(a.xb),a.jb&&a.jb.ZB(a.xb));a.jb&&a.jb.aC(a.xb)}h.Bj.prototype.Xr=function(a){return a&&ca(this.C.jk,a.id)?a.yD(this.xb,!1):!1};
function mb(a,c,d){lb(a,c,d);a.jb&&a.jb.$C(a.xb)?c=a.Fd:(c=a.pj(d),c=h.g.O.sum(a.Fd,c));a.xb.moveTo(c.x,c.y);a.jb&&a.jb.bC(a.xb);a.Vl?(a.Ck(),a.xb.H(!1,!0)):(a.uh&&a.uh.Hm(a.C.Gf),a.xb.Lg&&a.xb.Lg(!1),a.Ck());a.C.Oc(!0);h.h.ra(!1)}h.Bj.prototype.Ck=function(){if(this.xb.yH){var a=new (h.h.get(h.h.Ej))(this.xb);a.Xh=this.Fd;a.$h();h.h.Ia(a)}};h.Bj.prototype.pj=function(a){a=new h.g.O(a.x/this.C.scale,a.y/this.C.scale);this.C.tn&&a.scale(1/this.C.options.Lc.scale);return a};h.h.Mf=function(a,c,d){h.h.Mf.v.constructor.call(this,a?a.A.id:c);this.Za=a?a.id:null;this.Bw=d};h.g.object.T(h.h.Mf,h.h.se);h.h.Mf.prototype.type=h.h.Dj;h.h.Mf.prototype.pa=function(){var a=h.h.Mf.v.pa.call(this);a.targetType=this.Bw;this.Za&&(a.blockId=this.Za);return a};h.h.Mf.prototype.$=function(a){h.h.Mf.v.$.call(this,a);this.Bw=a.targetType;this.Za=a.blockId};h.u.register(h.u.N.Bb,h.h.Dj,h.h.Mf);h.ck=function(a){this.C=a;this.pv=nb(this.C);this.Pw=ob(this.C);this.hD=new h.g.O(a.scrollX,a.scrollY)};h.ck.prototype.H=function(){this.C=null};h.ck.prototype.Fl=function(){h.selected&&pb(h.selected);Fa(this.C)};h.ck.prototype.zk=function(a){this.Ce(a);Ga(this.C)};
h.ck.prototype.Ce=function(a){a=h.g.O.sum(this.hD,a);if(this.pv&&this.Pw)this.C.scroll(a.x,a.y);else if(this.pv)this.C.scroll(a.x,this.C.scrollY);else if(this.Pw)this.C.scroll(this.C.scrollX,a.y);else throw new TypeError("Invalid state.");};h.oe=function(a,c){this.Kv=null;this.xc=new h.g.O(0,0);this.yb=this.Yb=this.tj=this.uj=this.gd=null;this.Jp=c;this.Rk=this.Kh=this.Sk=this.Bh=!1;this.yd=a;this.ya=this.pi=this.ve=this.fg=this.Kn=this.Jn=null;this.rn=this.gj=this.au=!1;this.jv=!h.Bx};b=h.oe.prototype;b.H=function(){h.Touch.Im();h.G.tD();this.Jp.ec=null;this.Jn&&h.S.vb(this.Jn);this.Kn&&h.S.vb(this.Kn);this.ve&&this.ve.H();this.pi&&this.pi.H();this.fg&&this.fg.H()};
function qb(a,c){a.xc=h.g.O.Vm(new h.g.O(c.clientX,c.clientY),a.Kv);if(a.Bh)var d=!1;else a.Bh=h.g.O.KB(a.xc)>(a.ya?h.$x:h.Ax),d=a.Bh;if(d){if(a.au)throw Error("updateIsDragging_ should only be called once per gesture.");a.au=!0;a.gd?(a.Rk=!0,a.fg=new h.Bj(a.gd,a.yb),d=a.fg,h.h.Mb()||h.h.ra(!0),d.C.Oc(!1),d.xb.np=!1,d.uh&&(d.xb.moveTo(0,0),d.uh.ki(d.Fd.x,d.Fd.y),oa(d.uh,d.xb.za())),d.xb.Lg&&d.xb.Lg(!0),lb(a.fg,a.yd,a.xc),d=!0):d=!1;if(!d){a.Yb?(a.ya?(a.Yb&&a.ya.wH(a.Yb)?!a.ya.FB()||a.ya.BH(a.xc)?
(a.yb=a.ya.ho,rb(a.yb),h.h.Mb()||h.h.ra(!0),a.tj=null,a.Yb=a.ya.jA(a.Yb),a.Yb.select(),d=!0):d=!1:d=!1,a.Kh=d):a.Yb.ic()&&(a.Kh=!0),a.Kh?(a.ve=new (h.u.wh(h.u.N.ys,a.Jp.options,!0))(a.Yb,a.yb),a.ve.Fl(a.xc,a.jv),a.ve.Ce(a.yd,a.xc),d=!0):d=!1):d=!1;if(d=!d)if(a.ya)d=a.ya.FB();else if(d=a.yb)d=a.yb,d=d.options.Wb&&d.options.Wb.Ce;d&&(a.pi=new h.ck(a.yb),a.Sk=!0,a.pi.Fl())}h.zg()}a.yd=c}
b.Yp=function(a){h.g.un(a)?this.cancel():(this.gj=!0,h.Ta.Wp(),rb(this.yb),this.yb.tn&&this.yb.resize(),h.hc(!!this.ya),fa(this.yb),this.yd=a,h.G.block(),this.Yb&&this.Yb.select(),h.g.Vk(a)?ba(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||h.JB(a,this),this.Kv=new h.g.O(a.clientX,a.clientY),this.jv=a.altKey||a.ctrlKey||a.metaKey,this.fk(a)))};
b.fk=function(a){this.Jn=h.S.La(document,"mousemove",null,this.ej.bind(this));this.Kn=h.S.La(document,"mouseup",null,this.ln.bind(this));a.preventDefault();a.stopPropagation()};b.ej=function(a){qb(this,a);this.Sk?this.pi.Ce(this.xc):this.Kh?this.ve.Ce(this.yd,this.xc):this.Rk&&lb(this.fg,this.yd,this.xc);a.preventDefault();a.stopPropagation()};
b.ln=function(a){qb(this,a);h.zg();if(this.rn)console.log("Trying to end a gesture recursively.");else{this.rn=!0;if(this.Rk)mb(this.fg,a,this.xc);else if(this.Kh)this.ve.zk(a,this.xc);else if(this.Sk)this.pi.zk(this.xc);else if(this.gd&&!this.Bh)this.gd.XC&&this.gd.XC(),this.gd.select&&this.gd.select();else if(sb(this)){var c=this.uj,d=this.yd;J(c)&&c.ao(d);tb(this)}else!this.tj||this.Bh||sb(this)?this.tj||this.gd||this.uj||this.Bh||(c=this.Jp,h.selected&&pb(h.selected),c=this.yb||c,h.h.Ia(new (h.h.get(h.h.Dj))(null,
c.id,"workspace"))):(this.ya&&this.ya.Vt?this.Yb.isEnabled()&&(h.h.Mb()||h.h.ra(!0),eb(this.ya.jA(this.Yb))):(c=new (h.h.get(h.h.Dj))(this.tj,this.yb.id,"block"),h.h.Ia(c)),tb(this),h.h.ra(!1));a.preventDefault();a.stopPropagation();this.H()}};b.cancel=function(){this.rn||(h.zg(),this.Rk?mb(this.fg,this.yd,this.xc):this.Kh?this.ve.zk(this.yd,this.xc):this.Sk&&this.pi.zk(this.xc),this.H())};
function ba(a,c){a.Yb?(tb(a),h.hc(!!a.ya),a.Yb.Bl(c)):a.gd?a.gd.Bl(c):a.yb&&!a.ya&&(h.hc(),a.yb.Bl(c));c.preventDefault();c.stopPropagation();a.H()}function tb(a){a.Yb&&!a.ya&&bb(a.Yb)}function ub(a,c){c.Fa?ub(a,c.getParent()):a.Yb=c}function sb(a){return(a.uj?J(a.uj):!1)&&!a.Bh&&(!a.ya||!a.ya.Vt)}b.bd=function(){return this.Sk||this.Kh||this.Rk};b.aj=function(){return this.ve?this.ve.aj():[]};h.oe.Hh=function(){for(var a=h.fb.getAll(),c=0,d;d=a[c];c++)if(d.ec)return!0;return!1};h.ZE=function(){};h.rm=function(){this.ud=this.Rd=this.hb=null;this.type="marker"};function vb(a,c){var d=a.Rd;a.Rd=c;a.ud&&a.ud.draw(d,a.Rd)}h.rm.prototype.draw=function(){this.ud&&this.ud.draw(this.Rd,this.Rd)};h.rm.prototype.sb=function(){this.ud&&this.ud.sb()};h.rm.prototype.H=function(){this.ud&&this.ud.H()};h.Nf=function(){h.Nf.v.constructor.call(this);this.type="cursor"};h.g.object.T(h.Nf,h.rm);h.Nf.prototype.next=function(){var a=this.Rd;if(!a)return null;for(a=a.next();a&&a.next()&&(a.getType()==h.D.types.Vf||a.getType()==h.D.types.Kb);)a=a.next();a&&vb(this,a);return a};h.Nf.prototype.qg=function(){var a=this.Rd;if(!a)return null;if(a.getType()==h.D.types.Xf||a.getType()==h.D.types.hh)a=a.next();(a=a.qg())&&vb(this,a);return a};
h.Nf.prototype.Ig=function(){var a=this.Rd;if(!a)return null;for(a=a.Ig();a&&a.Ig()&&(a.getType()==h.D.types.Vf||a.getType()==h.D.types.Kb);)a=a.Ig();a&&vb(this,a);return a};h.Nf.prototype.Fg=function(){var a=this.Rd;if(!a)return null;(a=a.Fg())&&a.getType()==h.D.types.Kb&&(a=a.Ig()||a);a&&vb(this,a);return a};h.u.register(h.u.N.Gj,h.u.Hj,h.Nf);h.Tj=function(a){this.pf=this.td=null;this.al=Object.create(null);this.C=a};h.Tj.dt="local_marker_1";b=h.Tj.prototype;b.Hk=function(){return this.td};b.Jk=function(a){return this.al[a]||null};b.Cf=function(a){a?(this.C.zb.appendChild(a),this.pf=a):this.pf=null};b.Ng=function(a){a?this.C.zb&&(this.pf?this.C.zb.insertBefore(a,this.pf):this.C.zb.appendChild(a)):this.zf=null};
b.H=function(){for(var a=Object.keys(this.al),c=0,d;d=a[c];c++){var e=this.al[d];if(e)e.H(),delete this.al[d];else throw Error("Marker with ID "+d+" does not exist. Can only unregister markers that exist.");}this.al=null;this.td&&(this.td.H(),this.td=null)};h.Y={};h.Y.Ad=null;h.Y.Xm=null;h.Y.ae="";h.Y.ce="";h.Y.ib=function(){h.Y.Sa||(h.Y.Sa=document.createElement("div"),h.Y.Sa.className="blocklyWidgetDiv",(h.Ln||document.body).appendChild(h.Y.Sa))};h.Y.show=function(a,c,d){h.Y.sb();h.Y.Ad=a;h.Y.Xm=d;a=h.Y.Sa;a.style.direction=c?"rtl":"ltr";a.style.display="block";c=h.yh();h.Y.ae=c.kb.Td();h.Y.ce=c.tf().Td();h.g.j.Cb(a,h.Y.ae);h.g.j.Cb(a,h.Y.ce)};
h.Y.sb=function(){if(h.Y.isVisible()){h.Y.Ad=null;var a=h.Y.Sa;a.style.display="none";a.style.left="";a.style.top="";h.Y.Xm&&h.Y.Xm();h.Y.Xm=null;a.textContent="";h.Y.ae&&(h.g.j.Mc(a,h.Y.ae),h.Y.ae="");h.Y.ce&&(h.g.j.Mc(a,h.Y.ce),h.Y.ce="");fa(h.yh())}};h.Y.isVisible=function(){return!!h.Y.Ad};h.Y.Ok=function(a){h.Y.Ad==a&&h.Y.sb()};h.Y.ql=function(a,c,d){h.Y.Sa.style.left=a+"px";h.Y.Sa.style.top=c+"px";h.Y.Sa.style.height=d+"px"};
h.Y.pC=function(a,c,d,e){var f=h.Y.Rz(a,c,d);a=h.Y.Qz(a,c,d,e);0>f?h.Y.ql(a,0,d.height+f):h.Y.ql(a,f,d.height)};h.Y.Qz=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};h.Y.Rz=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};h.kd=function(a,c,d){this.Te=this.wo;this.Gw=this.Ow=null;this.mc=new h.g.Vc(0,0);this.o=this.cr=this.gi=this.nc=this.Eb=this.Ic=this.zf=this.pf=null;d&&this.kk(d);this.setValue(a);c&&(this.Ow=c)};b=h.kd.prototype;b.wo=null;b.name=void 0;b.Ae=!1;b.Jv=50;b.J=null;b.tg=!0;b.Tg=!0;b.gu=null;h.kd.ht="\u00a0";b=h.kd.prototype;b.Ij=!0;b.tt=!1;b.kk=function(a){var c=a.tooltip;"string"==typeof c&&(c=h.g.Nc(a.tooltip));c&&this.Pg(c)};
b.aa=function(){!this.o&&this.J&&this.J.A&&this.J.A.qa&&(this.o=this.J.A.kb.aa());return this.o};b.W=function(){return this.J};b.Wa=function(){this.Ic||(this.Ic=h.g.j.M(h.g.F.Sc,{},null),this.isVisible()||(this.Ic.style.display="none"),this.J.za().appendChild(this.Ic),this.nn(),wb(this),this.Pg(this.Gw),h.G.fk(ea(this)),this.cr=h.S.La(ea(this),"mousedown",this,this.jl))};b.nn=function(){xb(this);yb(this)};
function xb(a){a.Eb=h.g.j.M(h.g.F.Tb,{rx:a.aa().lm,ry:a.aa().lm,x:0,y:0,height:a.mc.height,width:a.mc.width,"class":"blocklyFieldRect"},a.Ic)}function yb(a){a.nc=h.g.j.M(h.g.F.Bt,{"class":"blocklyText"},a.Ic);a.aa().Ao&&a.nc.setAttribute("dominant-baseline","central");a.gi=document.createTextNode("");a.nc.appendChild(a.gi)}b.Fk=function(a){this.setValue(a.textContent)};b.H=function(){h.B.Ok(this);h.Y.Ok(this);h.G.Iw(ea(this));this.cr&&h.S.vb(this.cr);h.g.j.removeNode(this.Ic);this.Ae=!0};
function wb(a){var c=a.Ic;a.Ij&&c&&(a.J.wd()?(h.g.j.Cb(c,"blocklyEditableText"),h.g.j.Mc(c,"blocklyNonEditableText"),c.style.cursor=a.Gj):(h.g.j.Cb(c,"blocklyNonEditableText"),h.g.j.Mc(c,"blocklyEditableText"),c.style.cursor=""))}function J(a){return!!a.J&&a.J.wd()&&!!a.ao&&"function"===typeof a.ao}b.isVisible=function(){return this.Tg};b.Xb=function(a){if(this.Tg!=a){this.Tg=a;var c=this.za();c&&(c.style.display=a?"block":"none")}};b.za=function(){return this.Ic};b.Vb=function(){};
b.Mr=function(){this.gi&&(this.gi.nodeValue=zb(this));this.Mw()};b.Mw=function(){var a=this.aa(),c=this.Eb?this.aa().Jj:0,d=2*c,e=a.mm,f=0;this.nc&&(f=h.g.j.rq(this.nc,a.dh,a.Pf,a.Of),d+=f);this.Eb&&(e=Math.max(e,a.Ns));this.mc.height=e;this.mc.width=d;Ab(this,c,f);Bb(this)};function Ab(a,c,d){if(a.nc){var e=a.aa(),f=a.mc.height/2;a.nc.setAttribute("x",a.J.K?a.mc.width-d-c:c);a.nc.setAttribute("y",e.Ao?f:f-e.mm/2+e.zo)}}
function Bb(a){a.Eb&&(a.Eb.setAttribute("width",a.mc.width),a.Eb.setAttribute("height",a.mc.height),a.Eb.setAttribute("rx",a.aa().lm),a.Eb.setAttribute("ry",a.aa().lm))}b.sf=function(){if(!this.isVisible())return new h.g.Vc(0,0);this.tg?(this.Mr(),this.tg=!1):this.Tg&&0==this.mc.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Mr());return this.mc};
function zb(a){var c=Ua(a);if(!c)return h.kd.ht;c.length>a.Jv&&(c=c.substring(0,a.Jv-2)+"\u2026");c=c.replace(/\s/g,h.kd.ht);a.J&&a.J.K&&(c+="\u200f");return c}function Ua(a){if(a.zq){var c=a.zq.call(a);if(null!==c)return String(c)}return String(a.getValue())}b.$k=function(){this.tg=!0;this.o=null};function Cb(a){a.tg=!0;a.J&&a.J.qa&&(a.J.Ea(),a.J.Hc(),a.ns())}
b.setValue=function(a){if(null!==a){var c=this.Ym(a);a=Db(this,a,c);if(!(a instanceof Error)){if(c=this.Ow)if(c=c.call(this,a),a=Db(this,a,c),a instanceof Error)return;c=this.J;if(!c||!c.Ae){var d=this.getValue();d===a?this.xk(a):(c&&h.h.isEnabled()&&h.h.Ia(new (h.h.get(h.h.Vg))(c,"field",this.name||null,d,a)),this.xk(a),this.tg&&Cb(this))}}}};function Db(a,c,d){if(null===d)return a.tg&&Cb(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.Te};
b.Ym=function(a){return null===a||void 0===a?null:a};b.xk=function(a){this.Te=a;this.tg=!0};b.jl=function(a){if(this.J&&this.J.A&&(a=ib(this.J.A,a))){if(a.gj)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.uj||(a.uj=this)}};b.Pg=function(a){a||""===a||(a=this.J);var c=ea(this);c?c.ee=a:this.Gw=a};function ea(a){return a.gu||a.za()}
b.Ge=function(){for(var a=null,c=this.J,d=c.R,e=0;e<c.R.length;e++)for(var f=d[e],g=f.Va,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};b.Su=function(){return!1};b.Cf=function(a){a?(this.Ic.appendChild(a),this.pf=a):this.pf=null};b.Ng=function(a){a?(this.Ic.appendChild(a),this.zf=a):this.zf=null};b.ns=function(){var a=this.J.A;a.Xk&&this.pf&&a.Hk().draw();a.Xk&&this.zf&&a.Jk(h.Tj.dt).draw()};h.Rc=function(a,c,d){this.Gm=null;h.Rc.v.constructor.call(this,a,null,d);d||(this.Gm=c||null)};h.g.object.T(h.Rc,h.kd);h.Rc.prototype.wo="";h.Rc.$=function(a){var c=h.g.Nc(a.text);return new h.Rc(c,void 0,a)};h.Rc.prototype.Ij=!1;h.Rc.prototype.kk=function(a){h.Rc.v.kk.call(this,a);this.Gm=a["class"]};h.Rc.prototype.nn=function(){yb(this);this.Gm&&h.g.j.Cb(this.nc,this.Gm)};h.Rc.prototype.Ym=function(a){return null===a||void 0===a?null:String(a)};h.mg.register("field_label",h.Rc);h.at=function(a,c,d,e){if(a!=h.Ja.me&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.J=d;this.connection=e;this.Va=[]};b=h.at.prototype;b.align=h.bb.Id.Md;b.Tg=!0;b.W=function(){return this.J};function N(a,c,d){Eb(a,a.Va.length,c,d);return a}
function Eb(a,c,d,e){if(0>c||c>a.Va.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=h.mg.$({type:"field_label",text:d}));if(d.J)throw Error("Field already bound to a block.");d.J=a.J;a.J.qa&&(d.Wa(),d.Vb());d.name=e;d.Xb(a.isVisible());d.Er&&(c=Eb(a,c,d.Er));a.Va.splice(c,0,d);++c;d.fs&&(c=Eb(a,c,d.fs));a.J.qa&&(a.J=a.J,a.J.Ea(),a.J.Hc());return c}b.isVisible=function(){return this.Tg};
b.Xb=function(a){if(this.Tg!=a){this.Tg=a;for(var c=0,d;d=this.Va[c];c++)d.Xb(a);if(this.connection){this.connection=this.connection;if(a)Fb(this.connection);else if(c=this.connection,O(c,!1),c.wa)for(c=p(c.ua(),!1),d=0;d<c.length;d++){for(var e=c[d],f=e.Ud(!0),g=0;g<f.length;g++)O(f[g],!1);e=L(e);for(g=0;g<e.length;g++)e[g].Xb(!1)}if(c=this.connection.ua())c.za().style.display=a?"block":"none"}}};b.$k=function(){for(var a=0,c;c=this.Va[a];a++)c.$k()};
b.rj=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.rj(a)};function Gb(a,c){a.align=c;a.J.qa&&(a.J=a.J,a.J.Ea());return a}b.zl=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.zl(a)};b.cj=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.cj()};b.Wa=function(){if(this.J.A.qa)for(var a=0;a<this.Va.length;a++)this.Va[a].Wa()};
b.H=function(){for(var a=0,c;c=this.Va[a];a++)c.H();this.connection&&this.connection.H();this.J=null};h.ui=function(a,c,d){if(h.Generator&&"undefined"!=typeof h.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.Jc(d)?d:h.g.rf();a.qp[this.id]=this;this.X=this.ba=this.P=null;this.R=[];this.uf=void 0;this.disabled=!1;this.ee="";this.contextMenu=!0;this.Me=null;this.jf=[];this.Iu=this.Mv=this.Mp=!0;this.oh=this.Fa=!1;this.qh=null;this.lf={text:null,gw:!1,size:new h.g.Vc(160,80)};this.Uw=new h.g.O(0,0);this.A=a;this.cd=a.ug;this.K=
a.K;this.kj=!1;this.He=void 0;this.qa=null;if(c){this.type=c;d=h.$b[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);h.g.object.Bg(this,d)}a.Am(this);a.Jf[this.type]||(a.Jf[this.type]=[]);a.Jf[this.type].push(this);(a=h.h.Mb())||h.h.ra(!0);c=h.h.Ha;try{"function"==typeof this.Wa&&(h.h.Ha=!1,this.Wa(),h.h.Ha=c),h.h.isEnabled()&&h.h.Ia(new (h.h.get(h.h.si))(this))}finally{a||h.h.ra(!1),h.h.Ha=c}this.yB=this.uf;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=
typeof a)throw Error("onchange must be a function.");this.kl&&h.g.ek(this.A.xf,this.kl);if(this.onchange=a)this.kl=a.bind(this),this.A.xf.push(this.kl)}};h.ui.fm=h.bb.fm;h.ui.em=h.bb.em;b=h.ui.prototype;b.data=null;b.Ae=!1;b.rd="#000000";b.Il="";
b.H=function(a){if(this.A){this.kl&&h.g.ek(this.A.xf,this.kl);C(this,a);h.h.isEnabled()&&h.h.Ia(new (h.h.get(h.h.xs))(this));h.h.disable();try{if(this.A){this.A.Rn(this);var c=this.A;c.Jf[this.type].splice(c.Jf[this.type].indexOf(this),1);c.Jf[this.type].length||delete c.Jf[this.type];delete this.A.qp[this.id];this.A=null}h.selected==this&&(h.selected=null);for(var d=this.jf.length-1;0<=d;d--)this.jf[d].H(!1);d=0;for(var e;e=this.R[d];d++)e.H();this.R.length=0;var f=this.Ud(!0);d=0;for(var g;g=f[d];d++)g.H()}finally{h.h.enable(),
this.Ae=!0}}};function C(a,c){if(a.P){var d=null;a.P.isConnected()&&(d=a.P.wa,a.P.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.R.length;e++){var f=a.R[e].connection;if(f&&f.type==h.U.Ob&&f.wa){if(c){c=null;break a}c=f}}}c&&c.isConnected()&&!c.ua().Fa&&(c=c.wa,c.disconnect(),H(a.A.mf,c,d,!1)?d.connect(c):c.pr(d))}}else a.X&&(d=null,a.X.isConnected()&&(d=a.X.wa,a.X.disconnect()),e=u(a),c&&e&&!e.Fa&&(c=a.ba.wa,c.disconnect(),d&&H(a.A.mf,d,c,!1)&&d.connect(c)))}
b.Ud=function(){var a=[];this.P&&a.push(this.P);this.X&&a.push(this.X);this.ba&&a.push(this.ba);for(var c=0,d;d=this.R[c];c++)d.connection&&a.push(d.connection);return a};b.xn=function(a){for(var c=this.ba;c;){var d=c.ua();if(!d||a&&d.Fa)return c;c=d.ba}return null};b.Hc=function(){};b.getParent=function(){return this.Me};function na(a,c){for(var d=0,e;e=a.R[d];d++)if(e.connection&&e.connection.ua()==c)return e;return null}
function Hb(a){do{var c=a;a=a.getParent();if(!a)return null}while(u(a)==c);return a}function u(a){return a.ba&&a.ba.ua()}b.Wd=function(){var a=this;do{var c=a;a=c.Me}while(a);return c};function z(a,c){if(!c)return a.jf;c=[];for(var d=0,e;e=a.R[d];d++)e.connection&&(e=e.connection.ua())&&c.push(e);(a=u(a))&&c.push(a);return c}
b.Xn=function(a){if(a!=this.Me){if(this.Me){h.g.ek(this.Me.jf,this);if(this.X&&this.X.isConnected())throw Error("Still connected to previous block.");if(this.P&&this.P.isConnected())throw Error("Still connected to parent block.");this.Me=null}else this.A.Rn(this);(this.Me=a)?a.jf.push(this):this.A.Am(this)}};function p(a,c){var d=[a];a=z(a,c);for(var e,f=0;e=a[f];f++)d.push.apply(d,p(e,c));return d}b.sg=function(){return this.Mp&&!this.Fa&&!(this.A&&this.A.options.readOnly)};
b.ic=function(){return this.Mv&&!this.Fa&&!(this.A&&this.A.options.readOnly)};b.Tr=function(a){this.Mv=a};b.Vr=function(a){this.Fa=a};b.xd=function(){return this.kj};b.vw=function(a){this.kj=a};b.wd=function(){return this.Iu&&!(this.A&&this.A.options.readOnly)};b.Sr=function(a){this.Iu=a;a=0;for(var c;c=this.R[a];a++)for(var d=0,e;e=c.Va[d];d++)wb(e)};
b.uq=function(a,c){var d=this.Ud(!0);a=a.Ud(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.Pg=function(a){this.ee=a};b.pq=function(){return this.rd};b.Oe=function(a){this.rd=h.g.Mn(a).Nk};b.di=function(a){this.Il=a};
function B(a,c){if("string"!==typeof c)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===c?"nothing":c+" of type "+typeof c)+" instead");for(var d=0,e;e=a.R[d];d++)for(var f=0,g;g=e.Va[f];f++)if(g.name===c)return g;return null}function la(a){for(var c=0,d;d=a.R[c];c++)for(var e=0;d.Va[e];e++);return[]}function Ka(a,c){return(a=B(a,c))?a.getValue():null}
function Ib(a,c){a=B(a,"NAME");if(!a)throw Error('Field "NAME" not found.');a.setValue(c)}b.Yn=function(a,c){if(a){void 0===c&&(c=null);if(!this.X){if(this.P)throw Error("Remove output connection prior to adding previous connection.");this.X=this.Zk(h.U.Tc)}this.X.rj(c)}else if(this.X){if(this.X.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.X.H();this.X=null}};
b.Vn=function(a,c){if(a)void 0===c&&(c=null),this.ba||(this.ba=this.Zk(h.U.Pb)),this.ba.rj(c);else if(this.ba){if(this.ba.isConnected())throw Error("Must disconnect next statement before removing connection.");this.ba.H();this.ba=null}};
b.Wn=function(a,c){if(a){void 0===c&&(c=null);if(!this.P){if(this.X)throw Error("Remove previous connection prior to adding output connection.");this.P=this.Zk(h.U.Dc)}this.P.rj(c)}else if(this.P){if(this.P.isConnected())throw Error("Must disconnect output value before removing connection.");this.P.H();this.P=null}};b.Mg=function(a){this.uf!=a&&(h.h.Ia(new (h.h.get(h.h.Vg))(this,"inline",null,this.uf,a)),this.uf=a)};
function Va(a){if(void 0!=a.uf)return a.uf;for(var c=1;c<a.R.length;c++)if(a.R[c-1].type==h.Ja.me&&a.R[c].type==h.Ja.me)return!1;for(c=1;c<a.R.length;c++)if(a.R[c-1].type==h.Ja.te&&a.R[c].type==h.Ja.me)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.Df=function(a){this.isEnabled()!=a&&(h.h.Ia(new (h.h.get(h.h.Vg))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Jb(a){for(a=Hb(a);a;){if(a.disabled)return!0;a=Hb(a)}return!1}b.isCollapsed=function(){return this.oh};
b.ci=function(a){this.oh!=a&&(h.h.Ia(new (h.h.get(h.h.Vg))(this,"collapsed",null,this.oh,a)),this.oh=a)};
b.toString=function(a,c){function d(n){var q=n.Pi;!q&&n.wa&&(q=n.wa.Pi);return!!q&&(-1!=q.indexOf("Boolean")||-1!=q.indexOf("Number"))}function e(){k&&k.getType()==l.getType()&&k.Aa==l.Aa&&(k=null)}var f=[];c=c||"?";var g=h.D.Uf;h.D.Uf=!0;for(var k=h.D.jg(this),l=k;k;){switch(k.getType()){case h.D.types.ld:var m=k.Aa;k.qg()?d(m)&&f.push("("):f.push(c);break;case h.D.types.rc:m=k.Aa,m.name!=h.bb.em&&f.push(Ua(m))}m=k;k=m.qg()||m.next();if(!k){k=m.Fg();for(e();k&&!k.next();)k=k.Fg(),e(),k&&k.getType()==
h.D.types.ld&&d(k.Aa)&&f.push(")");k&&(k=k.next())}}h.D.Uf=g;for(c=2;c<f.length;c++)"("==f[c-2]&&")"==f[c]&&(f[c-2]=f[c-1],f.splice(c-1,2));f=f.reduce(function(n,q){return n+("("==n.substr(-1)||")"==q?"":" ")+q},"");f=f.trim()||"???";a&&f.length>a&&(f=f.substring(0,a-3)+"...");return f};function Kb(a,c){return a.nh(h.Ja.me,c||"")}
b.Bg=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}h.g.object.Bg(this,a)};function Lb(a,c){var d=h.mg.$(c);return!d&&c.alt?"string"==typeof c.alt?(c=Mb(c.alt))?Lb(a,c):null:Lb(a,c.alt):d}function Nb(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}
function Mb(a){return(a=a.trim())?{type:"field_label",text:a}:null}b.nh=function(a,c){var d=null;if(a==h.Ja.te||a==h.Ja.Uc)d=this.Zk(a);a=new h.at(a,c,this,d);this.R.push(a);return a};b.Kr=function(a,c){for(var d=0,e;e=this.R[d];d++)if(e.name==a)return e.H(),this.R.splice(d,1),!0;if(c)return!1;throw Error("Input not found: "+a);};function ka(a,c){for(var d=0,e;e=a.R[d];d++)if(e.name==c)return e;return null}
b.sj=function(a){this.lf.text!=a&&(h.h.Ia(new (h.h.get(h.h.Vg))(this,"comment",null,this.lf.text,a)),this.qh=this.lf.text=a)};b.ww=function(){};b.ab=function(){return this.Uw};b.moveBy=function(a,c){if(this.Me)throw Error("Block has parent.");var d=new (h.h.get(h.h.Wg))(this);this.Uw.translate(a,c);d.$h();h.h.Ia(d)};b.Zk=function(a){return new h.ta(this,a)};h.i.YE=function(){};h.g.ea={DG:0,hF:3,ax:8,jG:9,tF:12,Jx:13,um:16,$g:17,ri:18,OF:19,ND:20,Kx:27,bz:32,Ly:33,Ky:34,Ix:35,ey:36,Md:37,mz:38,af:39,zx:40,RF:43,UF:44,WE:45,ah:46,ZERO:48,ONE:49,vG:50,kG:51,BE:52,zE:53,fG:54,dG:55,eE:56,rF:57,xE:59,vE:61,uE:173,wE:163,VF:63,GD:64,CD:65,HD:66,so:67,WD:68,E:69,hE:70,Sc:71,FE:72,HE:73,$E:74,aF:75,bF:76,gF:77,qF:78,JF:79,NF:80,Q:81,WF:82,$F:83,iG:84,wG:85,gp:86,AG:87,ip:88,qz:89,Li:90,Bi:91,EG:92,VD:93,IF:96,BF:97,HF:98,GF:99,xF:100,wF:101,FF:102,EF:103,vF:104,AF:105,zF:106,DF:107,
yF:109,CF:110,uF:111,iE:112,mE:113,nE:114,oE:115,pE:116,qE:117,rE:118,sE:119,tE:120,jE:121,kE:122,lE:123,sF:144,aG:145,yE:166,dF:183,bG:186,XD:189,fE:187,UD:188,PF:190,gG:191,FD:192,lG:192,eG:222,KF:219,ID:220,RD:221,CG:224,iF:224,jF:91,kF:93,BG:229,zG:252,QF:255};h.No=function(){this.Zd=[];this.bi=this.Ua=this.In=this.En=this.Dn=this.kf=this.Fn=this.Eh=this.xr=null};b=h.No.prototype;
b.Ea=function(a){var c=document.createElement("div");c.className="blocklyMenu goog-menu blocklyNonSelectable";c.tabIndex=0;this.bi&&h.g.pb.Og(c,this.bi);this.Ua=c;for(var d=0,e;e=this.Zd[d];d++)c.appendChild(e.ib());this.Fn=h.S.La(c,"mouseover",this,this.mB,!0);this.kf=h.S.La(c,"click",this,this.hB,!0);this.Dn=h.S.La(c,"mouseenter",this,this.kB,!0);this.En=h.S.La(c,"mouseleave",this,this.lB,!0);this.In=h.S.La(c,"keydown",this,this.iB);a.appendChild(c)};
b.focus=function(){var a=this.Ua;a&&(a.focus({preventScroll:!0}),h.g.j.Cb(a,"blocklyFocused"))};b.Og=function(a){this.bi=a};b.H=function(){this.Fn&&(h.S.vb(this.Fn),this.Fn=null);this.kf&&(h.S.vb(this.kf),this.kf=null);this.Dn&&(h.S.vb(this.Dn),this.Dn=null);this.En&&(h.S.vb(this.En),this.En=null);this.In&&(h.S.vb(this.In),this.In=null);for(var a=0,c;c=this.Zd[a];a++)c.H();this.Ua=null};
function Ob(a,c){for(var d=a.Ua;c&&c!=d;){if(h.g.j.Cq(c,"blocklyMenuItem"))for(var e=0,f;f=a.Zd[e];e++)if(f.Ua==c)return f;c=c.parentElement}return null}b.Ef=function(a){var c=this.Eh;c&&(c.Ef(!1),this.Eh=null);a&&(a.Ef(!0),this.Eh=a,c=this.Ua,h.g.style.TC(a.Ua,c),h.g.pb.Zn(c,h.g.pb.State.Vw,a.zc()))};function Pb(a,c,d){c+=d;for(var e;e=a.Zd[c];){if(e.isEnabled()){a.Ef(e);break}c+=d}}b.mB=function(a){(a=Ob(this,a.target))&&(a.isEnabled()?this.Eh!=a&&this.Ef(a):this.Ef(null))};
b.hB=function(a){var c=this.xr;this.xr=null;c&&"number"==typeof a.clientX&&1>h.g.O.Xp(c,new h.g.O(a.clientX,a.clientY))||(a=Ob(this,a.target))&&a.isEnabled()&&a.dk&&a.dk(a)};b.kB=function(){this.focus()};b.lB=function(){if(this.Ua){var a=this.Ua;a&&(a.blur(),h.g.j.Mc(a,"blocklyFocused"));this.Ef(null)}};
b.iB=function(a){if(this.Zd.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var c=this.Eh;switch(a.keyCode){case h.g.ea.Jx:case h.g.ea.bz:c&&c.isEnabled()&&c.dk&&c.dk(c);break;case h.g.ea.mz:c=this.Zd.indexOf(this.Eh);Pb(this,0>c?this.Zd.length:c,-1);break;case h.g.ea.zx:Pb(this,this.Zd.indexOf(this.Eh),1);break;case h.g.ea.Ly:case h.g.ea.ey:Pb(this,-1,1);break;case h.g.ea.Ky:case h.g.ea.Ix:Pb(this,this.Zd.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
b.sf=function(){var a=this.Ua,c=h.g.style.sf(a);c.height=a.scrollHeight;return c};h.Oo=function(a,c){this.nf=a;this.Te=c;this.cn=!0;this.Ua=null;this.Qr=!1;this.bi=null;this.nv=this.Cp=this.Bp=!1;this.dk=null};b=h.Oo.prototype;
b.ib=function(){var a=document.createElement("div");a.id=h.g.Oj.Uu();this.Ua=a;a.className="blocklyMenuItem goog-menuitem "+(this.cn?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.Cp?"blocklyMenuItemSelected goog-option-selected ":"")+(this.nv?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Qr?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="blocklyMenuItemContent goog-menuitem-content";if(this.Bp){var d=document.createElement("div");
d.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";c.appendChild(d)}d=this.nf;"string"==typeof this.nf&&(d=document.createTextNode(this.nf));c.appendChild(d);a.appendChild(c);this.bi&&h.g.pb.Og(a,this.bi);h.g.pb.Zn(a,h.g.pb.State.Fi,this.Bp&&this.Cp||!1);h.g.pb.Zn(a,h.g.pb.State.yx,!this.cn);return a};b.H=function(){this.Ua=null};b.zc=function(){return this.Ua.id};b.getValue=function(){return this.Te};b.Og=function(a){this.bi=a};
b.Ef=function(a){this.nv=a;var c=this.Ua;c&&this.isEnabled()&&(a?(h.g.j.Cb(c,"blocklyMenuItemHighlight"),h.g.j.Cb(c,"goog-menuitem-highlight")):(h.g.j.Mc(c,"blocklyMenuItemHighlight"),h.g.j.Mc(c,"goog-menuitem-highlight")))};b.isEnabled=function(){return this.cn};b.Df=function(a){this.cn=a};function Qb(a,c,d){a.dk=c.bind(d)};h.Ka={};h.Ka.Qm=null;h.Ka.Bc=null;h.Ka.show=function(a,c,d){h.Y.show(h.Ka,d,h.Ka.H);if(c.length){var e=h.Ka.oC(c,d);h.Ka.Bc=e;h.Ka.qC(e,a,d);setTimeout(function(){e.focus()},1);h.Ka.Qm=null}else h.Ka.sb()};h.Ka.oC=function(a,c){var d=new h.No;d.Og(h.g.pb.sm.Ay);for(var e=0,f;f=a[e];e++){var g=new h.Oo(f.text);g.Qr=c;g.Og(h.g.pb.sm.By);d.Zd.push(g);g.Df(f.enabled);f.enabled&&Qb(g,function(){h.Ka.sb();this.$a(this.scope)},f)}return d};
h.Ka.qC=function(a,c,d){var e=h.g.eB();c=new h.g.Rect(c.clientY+e.top,c.clientY+e.top,c.clientX+e.left,c.clientX+e.left);h.Ka.nA(a);var f=a.sf();d&&(c.left+=f.width,c.right+=f.width,e.left+=f.width,e.right+=f.width);h.Y.pC(e,c,f,d);a.focus()};h.Ka.nA=function(a){a.Ea(h.Y.Sa);var c=a.Ua;h.g.j.Cb(c,"blocklyContextMenu");h.S.La(c,"contextmenu",null,h.g.XB);a.focus()};h.Ka.sb=function(){h.Y.Ok(h.Ka);h.Ka.Qm=null};h.Ka.H=function(){h.Ka.Bc&&(h.Ka.Bc.H(),h.Ka.Bc=null)};
h.Ka.SG=function(a,c){return function(){h.h.disable();try{var d=h.I.Zm(c,a.A),e=a.ab();e.x=a.K?e.x-h.ac:e.x+h.ac;e.y+=2*h.ac;d.moveBy(e.x,e.y)}finally{h.h.enable()}h.h.isEnabled()&&!d.Fa&&h.h.Ia(new (h.h.get(h.h.si))(d));d.select()}};h.Ka.WG=function(a){return{text:h.L.REMOVE_COMMENT,enabled:!0,$a:function(){h.h.ra(!0);a.H(!0,!0);h.h.ra(!1)}}};h.Ka.XG=function(a){return{text:h.L.DUPLICATE_COMMENT,enabled:!0,$a:function(){h.duplicate(a)}}};
h.Ka.pI=function(a,c){if(!h.Ki)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!h.g.userAgent.Ld};d.text=h.L.ADD_COMMENT;d.$a=function(){var e=new h.Ki(a,h.L.WORKSPACE_COMMENT_DEFAULT_TEXT,h.Ki.wx,h.Ki.wx),f=aa(a).getBoundingClientRect();f=new h.g.O(c.clientX-f.left,c.clientY-f.top);var g=h.g.tq(a.zb);f=h.g.O.Vm(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.qa&&(e.Ih(),e.Ea(),e.select())};return d};h.Ba=function(){h.Ba.u=this;this.Cd=Object.create(null)};h.Ba.vc={Kb:"block",Fc:"workspace"};h.Ba.u=null;h.Ba.prototype.register=function(a){if(this.Cd[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.Cd[a.id]=a};h.Ba.prototype.unregister=function(a){if(!this.Cd[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.Cd[a]};h.Ba.prototype.getItem=function(a){return this.Cd[a]||null};
function Rb(a,c){var d=[],e=h.Ba.u.Cd;Object.keys(e).forEach(function(f){f=e[f];if(a==f.ed){var g=f.tb(c);"hidden"!=g&&(f={text:"function"==typeof f.yc?f.yc(c):f.yc,enabled:"enabled"==g,$a:f.$a,scope:c,weight:f.weight},d.push(f))}});d.sort(function(f,g){return f.weight-g.weight});return d}new h.Ba;h.h.Yf=function(a,c,d){h.h.Yf.v.constructor.call(this,d);this.Sv=a;this.Qv=c};h.g.object.T(h.h.Yf,h.h.se);h.h.Yf.prototype.type=h.h.Fi;h.h.Yf.prototype.pa=function(){var a=h.h.Yf.v.pa.call(this);a.oldElementId=this.Sv;a.newElementId=this.Qv;return a};h.h.Yf.prototype.$=function(a){h.h.Yf.v.$.call(this,a);this.Sv=a.oldElementId;this.Qv=a.newElementId};h.u.register(h.u.N.Bb,h.h.Fi,h.h.Yf);h.ME=function(){};h.QE=function(){};h.wb=function(a,c){h.wb.v.constructor.call(this,a,c);this.sh=a.A.Om[c];this.yu=a.A.Om[h.Di[c]];this.Af=new h.g.O(0,0);this.If=h.wb.re.Lt;this.wa=null};h.g.object.T(h.wb,h.ta);h.wb.re={Lt:-1,Ft:0,Ji:1};b=h.wb.prototype;b.H=function(){h.wb.v.H.call(this);this.If==h.wb.re.Ji&&Sb(this.sh,this,this.y)};b.W=function(){return h.wb.v.W.call(this)};b.ua=function(){return h.wb.v.ua.call(this)};function Ia(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function Tb(a,c){if(!a.J.A.bd()){var d=a.J.Wd();if(!d.cd){var e=!1;if(!d.ic()){d=c.W().Wd();if(!d.ic())return;c=a;e=!0}var f=h.selected==d;f||Ub(d.cb,!0);var g=c.x+h.ac+Math.floor(Math.random()*h.qo)-a.x,k=c.y+h.ac+Math.floor(Math.random()*h.qo)-a.y;e&&(k=-k);d.K&&(g=c.x-h.ac-Math.floor(Math.random()*h.qo)-a.x);d.moveBy(g,k);f||Ub(d.cb,!1)}}}
b.moveTo=function(a,c){if(this.If==h.wb.re.Lt){var d=this.sh;d.rb.splice(Vb(d,c),0,this);this.If=h.wb.re.Ji}else this.If==h.wb.re.Ji&&(Sb(this.sh,this,this.y),d=this.sh,d.rb.splice(Vb(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function Wb(a,c){a.moveTo(c.x+a.Af.x,c.y+a.Af.y)}function P(a,c,d){a.Af.x=c;a.Af.y=d}
function Xb(a){var c=a.wa.x-a.x,d=a.wa.y-a.y;if(0!=c||0!=d){a=a.ua();var e=a.za();if(!e)throw Error("block is not rendered.");e=h.g.Vd(e);a.za().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");db(a,-c,-d)}}
b.closest=function(a,c){var d=this.yu;if(d.rb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=Vb(d,this.y);c=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.rb[m].y-this.y)<=a;)l=d.rb[m],H(d.pu,this,l,!0,k)&&(c=l,k=Ia(l,this)),m--;for(;g<d.rb.length&&Math.abs(d.rb[g].y-this.y)<=a;)l=d.rb[g],H(d.pu,this,l,!0,k)&&(c=l,k=Ia(l,this)),g++;this.x=f;this.y=e;a={connection:c,Qn:k}}else a={connection:null,Qn:a};return a};
function O(a,c){c&&a.If==h.wb.re.Ji||!c&&a.If==h.wb.re.Ft||a.J.cd||(c?(c=a.sh,c.rb.splice(Vb(c,a.y),0,a),a.If=h.wb.re.Ji):(a.If==h.wb.re.Ji&&Sb(a.sh,a,a.y),a.If=h.wb.re.Ft))}function Fb(a){O(a,!0);var c=[];if(a.type!=h.U.Ob&&a.type!=h.U.Pb)return c;if(a=a.ua()){if(a.isCollapsed()){var d=[];a.P&&d.push(a.P);a.ba&&d.push(a.ba);a.X&&d.push(a.X)}else d=a.Ud(!0);for(var e=0;e<d.length;e++)c.push.apply(c,Fb(d[e]));c.length||(c[0]=a)}return c}
b.pr=function(a){var c=this.W();if(h.h.Ha){var d=h.h.Mb();setTimeout(function(){c.Ae||c.getParent()||(h.h.ra(d),Tb(this,a),h.h.ra(!1))}.bind(this),h.po)}};b.Up=function(a,c){h.wb.v.Up.call(this,a,c);a.qa&&a.Ea();c.qa&&(A(c),c.Ea(),c.za().style.display="block")};b.wl=function(){h.wb.v.wl.call(this);var a=this.ua();a&&(a.Ih(),a.Ea(!1),a=this.W(),a.qa&&a.Ea())};b.Pv=function(a){return Yb(this.yu,this,a)};
b.Mm=function(a){h.wb.v.Mm.call(this,a);var c=this.W();a=a.W();var d=c.qa,e=a.qa;d&&A(c);e&&A(a);d&&e&&(this.type==h.U.Pb||this.type==h.U.Tc?a.Ea():c.Ea());if(c=na(c,a))c=c.isVisible(),a.za().style.display=c?"block":"none"};b.Yv=function(){!this.isConnected()||this.wa&&H(this.J.A.mf,this,this.wa,!1)||(C(F(this)?this.ua():this.J),this.J.Hc())};h.Xg=function(){h.Xg.v.constructor.call(this)};h.g.object.T(h.Xg,h.Nf);h.Xg.KC="basicCursor";b=h.Xg.prototype;b.next=function(){var a=this.Rd;if(!a)return null;(a=Zb(this,a,this.os))&&vb(this,a);return a};b.qg=function(){return this.next()};b.Ig=function(){var a=this.Rd;if(!a)return null;(a=$b(this,a,this.os))&&vb(this,a);return a};b.Fg=function(){return this.Ig()};
function Zb(a,c,d){if(!c)return null;var e=c.qg()||c.next();if(d(e))return e;if(e)return Zb(a,e,d);c=ac(a,c.Fg());return d(c)?c:c?Zb(a,c,d):null}function $b(a,c,d){if(!c)return null;var e=c.Ig();e=e?bc(a,e):c.Fg();return d(e)?e:e?$b(a,e,d):null}b.os=function(a){var c=!1;a=a&&a.getType();if(a==h.D.types.hh||a==h.D.types.ld||a==h.D.types.rc||a==h.D.types.Vf||a==h.D.types.Xf||a==h.D.types.Fc)c=!0;return c};function ac(a,c){if(!c)return null;var d=c.next();return d?d:ac(a,c.Fg())}
function bc(a,c){if(!c.qg())return c;for(c=c.qg();c.next();)c=c.next();return bc(a,c)}h.u.register(h.u.N.Gj,h.Xg.KC,h.Xg);h.ep=function(){h.ep.v.constructor.call(this)};h.g.object.T(h.ep,h.Xg);h.ep.prototype.os=function(a){a&&a.getType();return!1};h.Ra=function(a,c,d){this.sa=h.g.j.M(h.g.F.Sc,{},null);this.sa.Ql="";this.style=cc(a.kb.aa(),null);this.cb=a.kb.Hv(this.sa,this.style);this.Lr=this.qa=!1;this.A=a;this.X=this.ba=this.P=null;this.Ul=h.g.Jh()&&!!a.Wc;var e=this.cb.ub;e.ee=this;h.G.fk(e);h.Ra.v.constructor.call(this,a,c,d);this.sa.dataset?this.sa.dataset.id=this.id:h.g.userAgent.Ld&&this.sa.setAttribute("data-id",this.id)};h.g.object.T(h.Ra,h.ui);h.Ra.prototype.height=0;h.Ra.prototype.width=0;h.Ra.prototype.lo=null;h.Ra.VE=-1;
h.Ra.TD="TEMP_COLLAPSED_WARNING_";b=h.Ra.prototype;b.Ih=function(){if(!this.A.qa)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.R[a];a++)c.Wa();c=L(this);for(a=0;a<c.length;a++)c[a].kA();this.Vb();K(this.cb,"blocklyDraggable",this.ic());a=this.za();this.A.options.readOnly||this.DA||!a||h.S.La(a,"mousedown",this,this.jl);this.DA=!0;a.parentNode||this.A.zb.appendChild(a)};
b.select=function(){if(this.Fa&&this.getParent())this.getParent().select();else if(h.selected!=this){var a=null;if(h.selected){a=h.selected.id;h.h.disable();try{pb(h.selected)}finally{h.h.enable()}}a=new (h.h.get(h.h.Fi))(a,this.id,this.A.id);h.h.Ia(a);h.selected=this;Ub(this.cb,!0)}};function pb(a){if(h.selected==a){var c=new (h.h.get(h.h.Fi))(a.id,null,a.A.id);c.Nb=a.A.id;h.h.Ia(c);h.selected=null;Ub(a.cb,!1)}}b.$d=null;b.qh=null;b.sd=null;b.Qw=null;
function L(a){var c=[];a.$d&&c.push(a.$d);a.sd&&c.push(a.sd);a.Qw&&c.push(a.Qw);return c}b.Xn=function(a){var c=this.Me;if(a!=c){h.g.j.Gl();h.Ra.v.Xn.call(this,a);h.g.j.Hl();var d=this.za();if(!this.A.Nq&&d){var e=this.ab();a?(a.za().appendChild(d),a=this.ab(),db(this,a.x-e.x,a.y-e.y)):c&&(this.A.zb.appendChild(d),this.translate(e.x,e.y));this.Vb()}}};
b.ab=function(){var a=0,c=0,d=this.Ul?this.A.Wc.Mb():null,e=this.za();if(e){do{var f=h.g.Vd(e);a+=f.x;c+=f.y;this.Ul&&this.A.Wc.De.firstChild==e&&(f=this.A.Wc.yq(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.A.zb&&e!=d)}return new h.g.O(a,c)};b.moveBy=function(a,c){if(this.Me)throw Error("Block has parent.");var d=h.h.isEnabled();if(d)var e=new (h.h.get(h.h.Wg))(this);var f=this.ab();this.translate(f.x+a,f.y+c);db(this,a,c);d&&(e.$h(),h.h.Ia(e));ja(this.A)};
b.translate=function(a,c){this.za().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.ab();this.moveBy(a.x-c.x,a.y-c.y)};b.dr=function(a){this.Ul?this.A.Wc.ki(a.x,a.y):(this.sa.Ql="translate("+a.x+","+a.y+")",this.sa.setAttribute("transform",this.sa.Ql+this.sa.El))};
function dc(a){if(a.A&&!a.A.bd()&&!a.getParent()&&!a.cd){var c=a.A.vd;if(c&&c.cD){var d=c.Zr,e=d/2,f=a.ab();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}function ec(a){var c=a.ab(),d=v(a);if(a.K){a=c.x-d.width;var e=c.x}else a=c.x,e=c.x+d.width;return new h.g.Rect(c.y,c.y+d.height,a,e)}b.$k=function(){this.cb.bb=this.A.kb.aa();for(var a=0,c;c=this.R[a];a++)c.$k()};
b.ci=function(a){this.oh!=a&&(h.Ra.v.ci.call(this,a),a?this.qa&&this.Ea():fc(this))};function fc(a){for(var c=a.isCollapsed(),d=h.bb.fm,e=h.bb.em,f=0,g;g=a.R[f];f++)g.name!=d&&g.Xb(!c);if(c){g=L(a);for(f=0;c=g[f];f++)c.Xb(!1);f=a.toString(h.ix);(g=B(a,e))?g.setValue(f):(g=ka(a,d)||Kb(a,d),N(g,new h.Rc(f),e))}else A(a),a.Kr(d)}
b.jl=function(a){var c=this.A&&ib(this.A,a);if(c){if(c.gj)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");c.tj||c.gd||(c.tj=this,this.cd&&this!=this.Wd()?ub(c,this.Wd()):ub(c,this));c.yd=a}};b.showHelp=function(){var a="function"==typeof this.Ch?this.Ch():this.Ch;a&&window.open(a)};
b.Bl=function(a){if(this.A.options.readOnly||!this.contextMenu)var c=null;else c=Rb(h.Ba.vc.Kb,{block:this}),this.pA&&this.pA(c);c&&c.length&&(h.Ka.show(a,c,this.K),h.Ka.Qm=this)};function db(a,c,d){if(a.qa){for(var e=a.Ud(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=L(a);for(f=0;f<e.length;f++)e[f].eA();for(f=0;f<a.jf.length;f++)db(a.jf[f],c,d)}}
b.Lg=function(a){if(a){var c=this.za();c.Ql="";c.El="";h.Yi=h.Yi.concat(this.Ud(!0));h.g.j.Cb(this.sa,"blocklyDragging")}else h.Yi=[],h.g.j.Mc(this.sa,"blocklyDragging");for(c=0;c<this.jf.length;c++)this.jf[c].Lg(a)};b.Tr=function(a){h.Ra.v.Tr.call(this,a);K(this.cb,"blocklyDraggable",a)};b.Sr=function(a){h.Ra.v.Sr.call(this,a);a=L(this);for(var c=0;c<a.length;c++)wb(a[c])};b.Vr=function(a){h.Ra.v.Vr.call(this,a);this.Vb()};
b.vw=function(a){this.kj!=a&&(this.kj=a)&&(this.Oe(this.A.kb.aa().Go),K(this.cb,"blocklyInsertionMarker",!0))};b.za=function(){return this.sa};
b.H=function(a,c){if(this.A){h.G.H();h.G.Iw(this.cb.ub);h.g.j.Gl();var d=this.A;h.selected==this&&(pb(this),gc(this.A));h.Ka.Qm==this&&h.Ka.sb();c&&this.qa&&(C(this,a),h.Ta.wA(this));this.qa=!1;if(this.lo){for(var e in this.lo)clearTimeout(this.lo[e]);this.lo=null}c=L(this);for(e=0;e<c.length;e++)c[e].H();h.Ra.v.H.call(this,!!a);h.g.j.removeNode(this.sa);ja(d);this.sa=null;h.g.j.Hl()}};
b.Vb=function(){this.cb.Vb(this);for(var a=L(this),c=0;c<a.length;c++)a[c].Vb();for(a=0;c=this.R[a];a++)for(var d=0,e;e=c.Va[d];d++)e.Vb()};function A(a){var c=z(a,!1);a.Vb();if(!a.isCollapsed()){a=0;for(var d;d=c[a];a++)d.qa&&A(d)}}b.SA=function(){return this.sd};
b.sj=function(a){if(!h.Comment)throw Error("Missing require for Blockly.Comment");this.lf.text!=a&&(h.Ra.v.sj.call(this,a),a=null!=a,!!this.sd==a?this.sd.nI():(a?this.qh=this.sd=new h.Comment(this):(this.sd.H(),this.qh=this.sd=null),this.qa&&(this.Ea(),this.Hc())))};b.ww=function(a){this.$d&&this.$d!==a&&this.$d.H();a&&(a.YH(this),this.$d=a,a.kA());this.qa&&(this.Ea(),this.Hc())};b.Df=function(a){this.isEnabled()!=a&&(h.Ra.v.Df.call(this,a),this.qa&&!Jb(this)&&A(this))};
b.Ef=function(a){this.qa&&this.cb.Jw(a)};b.Rr=function(a){K(this.cb,"blocklyDraggingDelete",a)};b.pq=function(){return this.style.ph};b.Oe=function(a){h.Ra.v.Oe.call(this,a);a=hc(this.A.kb.aa(),this.rd);this.cb.di(a.style);this.style=a.style;this.Il=a.name;this.Vb()};b.di=function(a){var c=cc(this.A.kb.aa(),a);this.Il=a;if(c)this.He=c.He,this.cb.di(c),this.rd=c.ph,this.style=c,this.Vb();else throw Error("Invalid style name: "+a);};
function bb(a){do{var c=a.za(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.Yn=function(a,c){h.Ra.v.Yn.call(this,a,c);this.qa&&(this.Ea(),this.Hc())};b.Vn=function(a,c){h.Ra.v.Vn.call(this,a,c);this.qa&&(this.Ea(),this.Hc())};b.Wn=function(a,c){h.Ra.v.Wn.call(this,a,c);this.qa&&(this.Ea(),this.Hc())};b.Mg=function(a){h.Ra.v.Mg.call(this,a);this.qa&&(this.Ea(),this.Hc())};b.Kr=function(a,c){a=h.Ra.v.Kr.call(this,a,c);this.qa&&(this.Ea(),this.Hc());return a};
b.nh=function(a,c){a=h.Ra.v.nh.call(this,a,c);this.qa&&(this.Ea(),this.Hc());return a};function ia(a,c){a.X&&O(a.X,c);a.P&&O(a.P,c);if(a.ba){O(a.ba,c);var d=a.ba.ua();d&&ia(d,c)}if(!a.oh)for(d=0;d<a.R.length;d++){var e=a.R[d].connection;e&&(O(e,c),(e=e.ua())&&ia(e,c))}}b.Ud=function(a){var c=[];if(a||this.qa)if(this.P&&c.push(this.P),this.X&&c.push(this.X),this.ba&&c.push(this.ba),a||!this.oh){a=0;for(var d;d=this.R[a];a++)d.connection&&c.push(d.connection)}return c};
b.xn=function(a){return h.Ra.v.xn.call(this,a)};b.uq=function(a,c){return h.Ra.v.uq.call(this,a,c)};b.Zk=function(a){return new h.wb(this,a)};b.Hc=function(){if(this.A&&!this.A.bd()){var a=this.Wd();if(!a.cd)for(var c=this.Ud(!1),d=0,e;e=c[d];d++){e.isConnected()&&F(e)&&e.ua().Hc();for(var f=e.Pv(h.ac),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.W().Wd()!=a&&(F(e)?Tb(k,e):Tb(e,k))}}};
function eb(a){var c=h.h.Mb();setTimeout(function(){h.h.ra(c);dc(a);h.h.ra(!1)},h.po/2);setTimeout(function(){h.h.ra(c);a.Hc();h.h.ra(!1)},h.po)}b.getParent=function(){return h.Ra.v.getParent.call(this)};b.Wd=function(){return h.Ra.v.Wd.call(this)};
b.Ea=function(a){if(!this.Lr){this.Lr=!0;try{this.qa=!0;h.g.j.Gl();this.isCollapsed()&&fc(this);this.A.kb.Ea(this);var c=this.ab();this.X&&Wb(this.X,c);this.P&&Wb(this.P,c);for(var d=0;d<this.R.length;d++){var e=this.R[d].connection;e&&(Wb(e,c),e.isConnected()&&Xb(e))}this.ba&&(Wb(this.ba,c),this.ba.isConnected()&&Xb(this.ba));if(!1!==a){var f=this.getParent();f?f.Ea(!0):ja(this.A)}h.g.j.Hl();this.ns()}finally{this.Lr=!1}}};
b.ns=function(){this.A.Xk&&this.cb.vk&&this.A.Hk().draw();this.A.Xk&&this.cb.Zq&&this.A.Jk(h.Tj.dt).draw()};b.Cf=function(a){this.cb.Cf(a)};b.Ng=function(a){this.cb.Ng(a)};function v(a){var c=a.height,d=a.width,e=u(a);e&&(e=v(e),a=a.A.kb.aa().Qo,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};h.yi=function(a){this.rb=[];this.pu=a};function ic(a,c,d){if(!a.rb.length)return-1;var e=Vb(a,d);if(e>=a.rb.length)return-1;d=c.y;for(var f=e;0<=f&&a.rb[f].y==d;){if(a.rb[f]==c)return f;f--}for(f=e;f<a.rb.length&&a.rb[f].y==d;){if(a.rb[f]==c)return f;f++}return-1}function Vb(a,c){if(!a.rb.length)return 0;for(var d=0,e=a.rb.length;d<e;){var f=Math.floor((d+e)/2);if(a.rb[f].y<c)d=f+1;else if(a.rb[f].y>c)e=f;else{d=f;break}}return d}
function Sb(a,c,d){c=ic(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.rb.splice(c,1)}function Yb(a,c,d){function e(n){var q=g-f[n].x,r=k-f[n].y;Math.sqrt(q*q+r*r)<=d&&m.push(f[n]);return r<d}var f=a.rb,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}
h.yi.Wa=function(a){var c=[];c[h.U.Ob]=new h.yi(a);c[h.U.Dc]=new h.yi(a);c[h.U.Pb]=new h.yi(a);c[h.U.Tc]=new h.yi(a);return c};h.h.$f=function(a,c){h.h.$f.v.constructor.call(this,c);this.Cw=a};h.g.object.T(h.h.$f,h.h.se);h.h.$f.prototype.type=h.h.bp;h.h.$f.prototype.pa=function(){var a=h.h.$f.v.pa.call(this);a.themeName=this.Cw;return a};h.h.$f.prototype.$=function(a){h.h.$f.v.$.call(this,a);this.Cw=a.themeName};h.u.register(h.u.N.Bb,h.h.bp,h.h.$f);h.h.cg=function(a,c,d,e,f){h.h.cg.v.constructor.call(this,e);this.Hd=a;this.Gd=c;this.scale=d;this.il=f};h.g.object.T(h.h.cg,h.h.se);h.h.cg.prototype.type=h.h.ak;h.h.cg.prototype.pa=function(){var a=h.h.cg.v.pa.call(this);a.viewTop=this.Hd;a.viewLeft=this.Gd;a.scale=this.scale;a.oldScale=this.il;return a};h.h.cg.prototype.$=function(a){h.h.cg.v.$.call(this,a);this.Hd=a.viewTop;this.Gd=a.viewLeft;this.scale=a.scale;this.il=a.oldScale};h.u.register(h.u.N.Bb,h.h.ak,h.h.cg);h.UE=function(){};h.Uj=function(a){this.C=a};function jc(a){var c=0,d=0;a&&(c=a.jn(),d=a.pH());return new h.g.Vc(c,d)}function kc(a){var c=jc(Q(a.C,!0));return{width:c.width,height:c.height,position:a.C.ji}}function lc(a){var c=jc(a.C.mb);return{width:c.width,height:c.height,position:a.C.ji}}function mc(a){var c=0,d=lc(a),e=kc(a),f=!!a.C.mb;a=!!Q(a.C,!0);var g=f?d.position:e.position,k=g==h.g.ka.Qb.Md;g=g==h.g.ka.Qb.$j;f&&k?c=d.width:a&&k&&(c=e.width);k=0;f&&g?k=d.height:a&&g&&(k=e.height);return{top:k,left:c}}
function kb(a,c){c=c?a.C.scale:1;var d=nc(a.C),e=lc(a),f=kc(a),g=a.C.mb?e.position:f.position;if(a.C.mb)if(g==h.g.ka.Qb.$j||g==h.g.ka.Qb.bm)d.height-=e.height;else{if(g==h.g.ka.Qb.Md||g==h.g.ka.Qb.af)d.width-=e.width}else if(Q(a.C,!0))if(g==h.g.ka.Qb.$j||g==h.g.ka.Qb.bm)d.height-=f.height;else if(g==h.g.ka.Qb.Md||g==h.g.ka.Qb.af)d.width-=f.width;return{height:d.height/c,width:d.width/c,top:-a.C.scrollY/c,left:-a.C.scrollX/c}}
h.Uj.prototype.fn=function(){var a=this.C.scale,c=ha(this.C);return{height:(c.bottom-c.top)*a,width:(c.right-c.left)*a,top:c.top*a,left:c.left*a}};
h.Uj.prototype.Kk=function(a,c,d){a=a?this.C.scale:1;var e=c||kb(this,!1);d=d||this.fn();if(nb(this.C)&&ob(this.C))c={};else{c=nb(this.C);var f=ob(this.C),g=e||kb(this,!1);var k={};f||(k.top=g.top,k.bottom=g.top+g.height);c||(k.left=g.left,k.right=g.left+g.width);c=k}k=d.top+d.height;f=d.left+d.width;g=e.width;var l=e.height;var m=g/2,n=l/2;e=Math.min(d.top-n,k-l);k=Math.max(k+n,d.top+l);l=Math.min(d.left-m,f-g);d=Math.max(f+m,d.left+g);e=void 0!==c.top?c.top:e;f=void 0!==c.left?c.left:l;return{top:e/
a,left:f/a,width:((void 0!==c.right?c.right:d)-f)/a,height:((void 0!==c.bottom?c.bottom:k)-e)/a}};h.Uj.prototype.Fe=function(){var a=lc(this),c=kc(this),d=nc(this.C),e=mc(this),f=kb(this),g=this.fn(),k=this.Kk(!1,f,g);return{ZG:g.height,bH:g.width,aH:g.top,$G:g.left,scrollHeight:k.height,scrollWidth:k.width,scrollTop:k.top,scrollLeft:k.left,oc:f.height,Zb:f.width,Hd:f.top,Gd:f.left,Gc:e.top,wc:e.left,gI:d.height,iI:d.width,lI:a.width,jI:a.height,ji:a.position,kH:c.width,jH:c.height}};
h.u.register(h.u.N.gt,h.u.Hj,h.Uj);h.nm=function(a,c){this.ya=c;h.nm.v.constructor.call(this,a)};h.g.object.T(h.nm,h.Uj);h.nm.prototype.fn=function(){try{var a=this.C.zb.getBBox()}catch(d){a={height:0,y:0,width:0,x:0}}var c=this.C.scale;return{height:a.height*c,width:a.width*c,top:a.y*c,left:a.x*c}};h.nm.prototype.Kk=function(a,c,d){c=d||this.fn();d=this.ya.lF*this.C.scale;a=a?this.C.scale:1;return{height:(c.height+2*d)/a,width:(c.width+c.left+d)/a,top:0,left:0}};h.Et=function(a,c){this.C=a;this.Hf=c;this.Jl=[];this.xe=Object.create(null)};b=h.Et.prototype;b.tf=function(){return this.Hf};b.Al=function(a){var c=this.Hf;this.Hf=a;if(a=aa(this.C))c&&h.g.j.Mc(a,c.Td()),h.g.j.Cb(a,this.Hf.Td());for(c=0;a=this.Jl[c];c++)oc(a);c=0;a=Object.keys(this.xe);for(var d;d=a[c];c++)for(var e=0,f;f=this.xe[d][e];e++)f.element.style[f.propertyName]=this.Hf&&D(this.Hf,d)||"";h.hc()};
b.subscribe=function(a,c,d){this.xe[c]||(this.xe[c]=[]);this.xe[c].push({element:a,propertyName:d});a.style[d]=this.Hf&&D(this.Hf,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.xe),d=0,e;e=c[d];d++){for(var f=this.xe[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.xe[e].length||delete this.xe[e]}};b.H=function(){this.xe=this.Jl=this.Hf=this.Ad=null};h.Ec=function(a,c){h.Ec.v.constructor.call(this,a,c);this.sn=!1;this.Xc=Object.create(null);this.zw=this.rl=0;this.wv=this.wr=null};h.g.object.T(h.Ec,h.oe);h.Ec.sz=5;h.Ec.uz=6;b=h.Ec.prototype;b.Yp=function(a){this.wv=this.yb.options.ob&&this.yb.options.ob.fw;h.Ec.v.Yp.call(this,a);!this.rn&&h.Touch.wn(a)&&pc(this,a)};
b.fk=function(a){this.wr=h.S.La(document,"mousedown",null,this.nB.bind(this),!0);this.Jn=h.S.La(document,"mousemove",null,this.ej.bind(this),!0);this.Kn=h.S.La(document,"mouseup",null,this.ln.bind(this),!0);a.preventDefault();a.stopPropagation()};b.nB=function(a){!this.bd()&&h.Touch.wn(a)&&(pc(this,a),this.sn&&h.zg())};
b.ej=function(a){if(this.bd())h.Touch.Yr(a)&&h.Ec.v.ej.call(this,a);else if(this.sn){if(h.Touch.wn(a)){this.Xc[h.Touch.gn(a)]=qc(this,a);var c=Object.keys(this.Xc);if(this.wv&&2===c.length){c=Object.keys(this.Xc);c=h.g.O.Xp(this.Xc[c[0]],this.Xc[c[1]])/this.zw;if(0<this.rl&&Infinity>this.rl){var d=c-this.rl;d=0<d?d*h.Ec.sz:d*h.Ec.uz;var e=this.yb,f=h.g.hl(a,w(e),Ea(e));e.zoom(f.x,f.y,d)}this.rl=c;a.preventDefault()}else h.Ec.v.ej.call(this,a)}h.zg()}else h.Ec.v.ej.call(this,a)};
b.ln=function(a){if(h.Touch.wn(a)&&!this.bd()){var c=h.Touch.gn(a);this.Xc[c]&&delete this.Xc[c];2>Object.keys(this.Xc).length&&(this.Xc=Object.create(null),this.rl=0)}!this.sn||this.bd()?h.Touch.Yr(a)&&h.Ec.v.ln.call(this,a):(a.preventDefault(),a.stopPropagation(),this.H())};b.H=function(){h.Ec.v.H.call(this);this.wr&&h.S.vb(this.wr)};function pc(a,c){a.Xc[h.Touch.gn(c)]=qc(a,c);var d=Object.keys(a.Xc);2==d.length&&(a.zw=h.g.O.Xp(a.Xc[d[0]],a.Xc[d[1]]),a.sn=!0,c.preventDefault())}
function qc(a,c){return a.yb?new h.g.O(c.changedTouches?c.changedTouches[0].pageX:c.pageX,c.changedTouches?c.changedTouches[0].pageY:c.pageY):null};h.Nt=function(a){this.Ar=a;this.Xj=Object.create(null)};b=h.Nt.prototype;b.Qq=null;b.H=function(){this.Xj=this.Ar=null};b.load=function(a,c){if(a.length){try{var d=new h.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new h.g.global.Audio(g);break}}e&&e.play&&(this.Xj[c]=e)}};
b.preload=function(){for(var a in this.Xj){var c=this.Xj[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(h.g.userAgent.Nj||h.g.userAgent.Zs)break}};b.play=function(a,c){var d=this.Xj[a];d?(a=new Date,null!=this.Qq&&a-this.Qq<h.az||(this.Qq=a,d=h.g.userAgent.Nj||h.g.userAgent.Yl?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.Ar&&this.Ar.ue.play(a,c)};
h.bc=function(a,c,d){h.bc.v.constructor.call(this,a);this.Th=new (h.u.wh(h.u.N.gt,a,!0))(this);this.Fe=a.Fe||this.Th.Fe.bind(this.Th);this.Un=a.Un||h.bc.YC;this.jk=new h.pc;this.Om=h.yi.Wa(this.mf);c&&(this.Wc=c);d&&(this.oi=d);this.jo=!!this.oi&&h.g.Jh();this.ue=new h.Nt(a.Lc);this.vd=this.options.Bq?new h.eh(this.options.Bq,a.dv):null;this.Yd=new h.Tj(this);this.Fw=Object.create(null);this.Lu=Object.create(null);h.oa&&h.oa.vh&&rc(this,h.Gt,h.oa.vh);h.Jt&&h.Jt.vh&&rc(this,h.nz,h.Jt.vh);h.Na&&h.Na.vh&&
(rc(this,h.qt,h.Na.vh),this.xf.push(h.Na.SB));this.Pc=this.options.Lc?this.options.Lc.Pc:new h.Et(this,this.options.lD||h.cf.Lf);this.Pc.Jl.push(this);this.kb=h.i.Wa(this.options.rw||"geras",this.tf(),this.options.sw);this.xp=null;this.Xk=!1;this.Ol=[];this.$p=[];this.wp=new h.g.Vc(0,0)};h.g.object.T(h.bc,h.fb);b=h.bc.prototype;b.Sn=null;b.qa=!0;b.Wk=!0;b.ug=!1;b.tn=!1;b.Or=!0;b.scrollX=0;b.scrollY=0;b.Gu=null;b.scale=1;b.mr=1;b.Xv=0;b.Uv=0;b.wj=null;b.Hb=null;b.ya=null;b.mb=null;b.ec=null;b.Wc=null;
b.oi=null;b.jo=!1;b.qn=!1;b.Lq=null;b.Dv=null;b.ho=null;b.uv=null;b.Mq=!0;b.Cf=function(a){this.Yd.Cf(a)};b.Ng=function(a){this.Yd.Ng(a)};b.Jk=function(a){return this.Yd?this.Yd.Jk(a):null};b.Hk=function(){return this.Yd?this.Yd.Hk():null};b.tf=function(){return this.Pc.tf()};b.Al=function(a){a||(a=h.cf.Lf);this.Pc.Al(a)};
function oc(a){a.sa&&a.kb.Gr(a.sa,a.tf());sc(I(a,!1).filter(function(c){return!!c.Il}));tc(a);a.mb&&oc(a.mb);a.isVisible()&&a.Xb(!0);a=new (h.h.get(h.h.bp))(a.tf().name,a.id);h.h.Ia(a)}function sc(a){for(var c=0,d;d=a[c];c++){var e=d.Il;e&&(d.di(e),d.$d&&d.$d.mI())}}function Ea(a){if(a.Mq){var c=w(a).getScreenCTM();c&&(a.uv=c.inverse(),a.Mq=!1)}return a.uv}b.Sl=function(){this.Mq=!0};b.isVisible=function(){return this.Wk};
function Wa(a,c){var d=0,e=0,f=1;if(h.g.j.containsNode(a.zb,c)||h.g.j.containsNode(a.Gf,c))f=a.scale;do{var g=h.g.Vd(c);if(c==a.zb||c==a.Gf)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=w(a));return new h.g.O(d,e)}function nc(a){a=a.wp;return new h.g.Vc(a.width,a.height)}function aa(a){if(!a.Lq)for(var c=a.sa;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Lq=c;break}c=c.parentNode}return a.Lq}
b.ib=function(a){this.sa=h.g.j.M(h.g.F.Sc,{"class":"blocklyWorkspace"},null);a&&(this.Ff=h.g.j.M(h.g.F.Tb,{height:"100%",width:"100%","class":a},this.sa),"blocklyMainBackground"==a&&this.vd?this.Ff.style.fill="url(#"+this.vd.dj.id+")":this.Pc.subscribe(this.Ff,"workspaceBackgroundColour","fill"));this.zb=h.g.j.M(h.g.F.Sc,{"class":"blocklyBlockCanvas"},this.sa);this.Gf=h.g.j.M(h.g.F.Sc,{"class":"blocklyBubbleCanvas"},this.sa);this.ug||(h.S.La(this.sa,"mousedown",this,this.jl,!1,!0),h.S.La(this.sa,
"wheel",this,this.iC));this.options.Mk&&(this.mb=new (h.u.wh(h.u.N.hz,this.options,!0))(this));this.vd&&this.vd.update(this.scale);uc(this);var c=h.u.wh(h.u.N.Gj,this.options);c&&(a=this.Yd,c=new c,a.td&&a.td.ud&&a.td.ud.H(),a.td=c,a.td&&(c=a.td,c=new h.i.Sf(a.C,a.C.kb.aa(),c),a.td.ud=c,a.Cf(a.td.ud.ib())));this.kb.ib(this.sa,this.tf());return this.sa};
b.H=function(){this.qa=!1;this.ec&&this.ec.cancel();this.sa&&(h.g.j.removeNode(this.sa),this.sa=null);this.Gf=this.zb=null;this.mb&&(this.mb.H(),this.mb=null);this.ya&&(this.ya.H(),this.ya=null);this.wj&&(this.wj.H(),this.wj=null);this.Hb&&(this.Hb.H(),this.Hb=null);this.Wl&&(this.Wl.H(),this.Wl=null);this.ue&&(this.ue.H(),this.ue=null);this.vd&&(this.vd.H(),this.vd=null);this.kb.H();this.Yd&&(this.Yd.H(),this.Yd=null);h.bc.v.H.call(this);if(this.Pc){var a=this.Pc,c=a.Jl.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.Jl.splice(c,1);this.Pc.unsubscribe(this.Ff);this.options.Lc||(this.Pc.H(),this.Pc=null)}this.Lu=this.Fw=this.Om=null;this.options.Lc||(a=w(this))&&a.parentNode&&h.g.j.removeNode(a.parentNode);this.Sn&&(h.S.vb(this.Sn),this.Sn=null)};b.oj=function(a,c){return new h.Ra(this,a,c)};function Q(a,c){return a.ya||c?a.ya:a.mb?Q(a.mb):null}function ja(a){a.Or&&a.qa&&(a.Hb&&a.Hb.resize(),a.Sl())}
b.resize=function(){this.mb&&this.mb.position();this.ya&&this.ya.position();var a=da(this.jk,h.pc.Qc.Oy);var c=this.Th;c={oI:kb(c),FG:mc(c),kI:lc(c)};for(var d=[],e=0,f;f=a[e];e++)f.position(c,d),(f=ec(f))&&d.push(f);this.Hb&&this.Hb.resize();this.Sl();uc(this)};function rb(a){var c=h.g.XA();h.g.O.qf(a.Dv,c)||(a.Dv=c,a.Sl(),uc(a))}function vc(a,c,d){var e=w(a);c&&(a.wp.width=c,e.Pz=c);d&&(a.wp.height=d,e.Oz=d)}
function w(a){if(!a.xp)for(var c=a.sa;c;){if("svg"==c.tagName){a.xp=c;break}c=c.parentNode}return a.xp}function qa(a){if(h.h.isEnabled()){var c=a.scale,d=-a.scrollY,e=-a.scrollX;if(!(c==a.mr&&1>Math.abs(d-a.Xv)&&1>Math.abs(e-a.Uv))){var f=new (h.h.get(h.h.ak))(d,e,c,a.id,a.mr);a.mr=c;a.Xv=d;a.Uv=e;h.h.Ia(f)}}}
b.translate=function(a,c){if(this.jo&&this.qn)this.oi.ki(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.zb.setAttribute("transform",d);this.Gf.setAttribute("transform",d)}if(this.Wc){d=this.Wc;var e=this.scale;d.Kg=e;var f=a.toFixed(0),g=c.toFixed(0);d.fu.x=parseInt(f,10);d.fu.y=parseInt(g,10);d.De.setAttribute("transform","translate("+f+","+g+") scale("+e+")")}this.vd&&this.vd.moveTo(a,c);qa(this)};
function Ga(a){if(a.jo){a.qn=!1;var c=a.oi.yq();a.oi.Hm(a.sa);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.zb.setAttribute("transform",c);a.Gf.setAttribute("transform",c)}}
function Fa(a){if(a.jo&&!a.qn){a.qn=!0;var c=a.zb.previousSibling,d=parseInt(w(a).getAttribute("width"),10),e=parseInt(w(a).getAttribute("height"),10),f=h.g.Vd(a.zb),g=a.oi,k=a.zb,l=a.Gf,m=a.scale;if(g.Ya.childNodes.length)throw Error("Already dragging a block.");g.Fr=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.Ya.setAttribute("width",d);g.Ya.setAttribute("height",e);g.Ya.appendChild(k);g.Ya.appendChild(l);g.Ya.style.display=
"block";a.oi.ki(f.x,f.y)}}b.jn=function(){var a=this.Fe();return a?a.Zb/this.scale:0};b.Xb=function(a){this.Wk=a;if(this.sa)if(this.Hb&&this.Hb.yl(a),Q(this)&&Q(this).yl(a),w(this).style.display=a?"block":"none",this.mb&&this.mb.Xb(a),a){a=I(this,!1);for(var c=a.length-1;0<=c;c--)a[c].$k();this.Ea();this.mb&&this.mb.position()}else h.hc(!0)};b.Ea=function(){for(var a=I(this,!1),c=a.length-1;0<=c;c--)a[c].Ea(!1);if(this.ec)for(a=this.ec.aj(),c=0;c<a.length;c++)a[c].Ea(!1);c=this.Yd;c.C.Xk&&c.pf&&c.C.Hk().draw()};
b.Nn=function(a){if(this.qa&&a.tagName&&!(a.getElementsByTagName("block").length>=(isNaN(this.options.bl)?Infinity:this.options.bl-I(this,!1).length)))if(this.ec&&this.ec.cancel(),"comment"==a.tagName.toLowerCase()){h.h.disable();try{var c=h.Ki.Fk(a),d=parseInt(a.getAttribute("x"),10),e=parseInt(a.getAttribute("y"),10);isNaN(d)||isNaN(e)||(this.K&&(d=-d),c.moveBy(d+50,e+50))}finally{h.h.enable()}h.h.isEnabled()&&h.Ot.iH(c);c.select()}else{h.h.disable();try{var f=h.I.Zm(a,this),g=parseInt(a.getAttribute("x"),
10),k=parseInt(a.getAttribute("y"),10);if(!isNaN(g)&&!isNaN(k)){this.K&&(g=-g);do{a=!1;var l=I(this,!1);c=0;for(var m;m=l[c];c++){var n=m.ab();if(1>=Math.abs(g-n.x)&&1>=Math.abs(k-n.y)){a=!0;break}}if(!a){var q=f.Ud(!1);c=0;for(var r;r=q[c];c++)if(r.closest(h.ac,new h.g.O(g,k)).connection){a=!0;break}}a&&(g=this.K?g-h.ac:g+h.ac,k+=2*h.ac)}while(a);f.moveBy(g,k)}}finally{h.h.enable()}h.h.isEnabled()&&!f.Fa&&h.h.Ia(new (h.h.get(h.h.si))(f));f.select()}};
function tc(a){(a=a.ug?a.ho:a)&&!a.ec&&a.mb&&Q(a.mb)&&a.mb.OH()}b.ai=function(a,c){h.bc.v.ai.call(this,a,c);tc(this)};b.Wi=function(a){h.bc.v.Wi.call(this,a);tc(this)};b.Qd=function(a,c,d){a=h.bc.v.Qd.call(this,a,c,d);tc(this);return a};function uc(a){var c=da(a.jk,h.pc.Qc.Cx);a.$p=[];for(var d=0,e;e=c[d];d++){var f=e.lH();f&&a.$p.push({ju:e,$z:f})}}function cb(a,c){for(var d=0,e;e=a.$p[d];d++)if(e.$z.contains(c.clientX,c.clientY))return e.ju;return null}
b.jl=function(a){var c=ib(this,a);if(c){if(c.gj)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");c.yb||(c.yb=this);c.yd=a;c.Yp(a)}};b.Fl=function(a,c){a=h.g.hl(a,w(this),Ea(this));a.x/=this.scale;a.y/=this.scale;this.Gu=h.g.O.Vm(c,a)};b.bd=function(){return null!=this.ec&&this.ec.bd()};
b.ic=function(){return this.options.Wb&&!!this.options.Wb.scrollbars||this.options.Wb&&this.options.Wb.yj||this.options.Wb&&this.options.Wb.Ce||this.options.ob&&this.options.ob.yj||this.options.ob&&this.options.ob.fw};function nb(a){var c=!!a.Hb;return a.ic()&&(!c||c&&!!a.Hb.Fb)}function ob(a){var c=!!a.Hb;return a.ic()&&(!c||c&&!!a.Hb.Jb)}
b.iC=function(a){if(h.oe.Hh())a.preventDefault(),a.stopPropagation();else{var c=this.options.ob&&this.options.ob.yj,d=this.options.Wb&&this.options.Wb.yj;if(c||d){var e=h.g.bB(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=h.g.hl(a,w(this),Ea(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function ha(a){a=[].concat(a.Ol);if(!a.length)return new h.g.Rect(0,0,0,0);for(var c=ec(a[0]),d=1;d<a.length;d++){var e=a[d];e.xd&&e.xd()||(e=ec(e),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}return c}b.Bl=function(a){if(!this.options.readOnly&&!this.ug){var c=Rb(h.Ba.vc.Fc,{A:this});this.fA&&this.fA(c,a);h.Ka.show(a,c,this.K)}};
function fa(a){if(a.options.Lc)fa(a.options.Lc);else{h.Yk=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{w(a).focus({preventScroll:!0})}catch(c){try{w(a).parentNode.setActive()}catch(d){w(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.ob.SC,d);var e=this.scale*d;if(this.scale!=e){e>this.options.ob.cl?d=this.options.ob.cl/this.scale:e<this.options.ob.fl&&(d=this.options.ob.fl/this.scale);var f=this.zb.getCTM(),g=w(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.ob.cl&&a>this.options.ob.cl?a=this.options.ob.cl:this.options.ob.fl&&a<this.options.ob.fl&&(a=this.options.ob.fl);this.scale=a;h.hc(!1);this.ya&&(this.ya.NH(),uc(this));this.vd&&this.vd.update(this.scale);a=this.Fe();this.scrollX-=a.wc;this.scrollY-=a.Gc;a.Gd+=a.wc;a.Hd+=a.Gc;this.scroll(this.scrollX,this.scrollY);if(this.Hb)if(this.ya){var c=this.Hb;c.Fb&&ya(c.Fb,a);c.Jb&&Aa(c.Jb,a)}else c=this.Hb,c.Fb&&za(c.Fb,a),c.Jb&&Ba(c.Jb,a)};
b.scroll=function(a,c){h.hc(!0);var d=this.Fe();a=Math.min(a,-d.scrollLeft);c=Math.min(c,-d.scrollTop);var e=d.scrollTop+Math.max(0,d.scrollHeight-d.oc);a=Math.max(a,-(d.scrollLeft+Math.max(0,d.scrollWidth-d.Zb)));c=Math.max(c,-e);this.scrollX=a;this.scrollY=c;this.Hb&&this.Hb.set(-(a+d.scrollLeft),-(c+d.scrollTop),!1);a+=d.wc;c+=d.Gc;this.translate(a,c)};
h.bc.YC=function(a){var c=this.Fe();"number"==typeof a.x&&(this.scrollX=-(c.scrollLeft+(c.scrollWidth-c.Zb)*a.x));"number"==typeof a.y&&(this.scrollY=-(c.scrollTop+(c.scrollHeight-c.oc)*a.y));this.translate(this.scrollX+c.wc,this.scrollY+c.Gc)};b=h.bc.prototype;b.Jc=function(a){return h.bc.v.Jc.call(this,a)};b.fc=function(a){return h.bc.v.fc.call(this,a)};b.Am=function(a){this.Ol.push(a);h.bc.v.Am.call(this,a)};b.Rn=function(a){h.g.ek(this.Ol,a);h.bc.v.Rn.call(this,a)};
b.Oc=function(a){var c=!this.Or&&a;this.Or=a;c&&ja(this)};b.clear=function(){this.Oc(!1);h.bc.v.clear.call(this);this.Ol=[];this.Oc(!0)};function wc(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.Lu.CREATE_VARIABLE=c}function rc(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.Fw[c]=d}
function ib(a,c){var d="mousedown"==c.type||"touchstart"==c.type||"pointerdown"==c.type,e=a.ec;return e?d&&e.gj?(console.warn("Tried to start the same gesture twice."),e.cancel(),null):e:d?(a.ec=new h.Ec(c,a),a.ec):null}function gc(a){a.ec&&a.ec.cancel()};h.rg=function(a,c){h.Tz();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!h.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new h.nd(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;h.g.pb.Zn(d,h.g.pb.State.ty,h.L.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=h.qk(d,c);var e=new h.Bs(d),f=new h.Pt(d),g=h.lA(a,c,e,f);h.xB(g);h.Yk=g;h.Ml(g);d.addEventListener("focusin",function(){h.Yk=g});return g};
h.qk=function(a,c){a.setAttribute("dir","LTR");h.Jd.rg(c.oB,c.ew);a=h.g.j.M(h.g.F.Yj,{xmlns:h.g.j.vm,"xmlns:html":h.g.j.Co,"xmlns:xlink":h.g.j.mh,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=h.g.j.M(h.g.F.Js,{},a);c.Bq=h.eh.ib(String(Math.random()).substring(2),c.dv,d);return a};
h.lA=function(a,c,d,e){c.Lc=null;c=new h.bc(c,d,e);d=c.options;c.scale=d.ob.gD;a.appendChild(c.ib("blocklyMainBackground"));h.g.j.Cb(aa(c),c.kb.Td());h.g.j.Cb(aa(c),c.tf().Td());if(!d.Mk&&d.Oh){e=h.g.F.Yj;var f=new h.nd({parentWorkspace:c,rtl:c.K,oneBasedIndex:c.options.jC,horizontalLayout:c.mn,renderer:c.options.rw,rendererOverrides:c.options.sw,move:{scrollbars:!0}});f.ji=c.options.ji;c.ya=c.mn?new (h.u.wh(h.u.N.Yx,c.options,!0))(f):new (h.u.wh(h.u.N.Zx,c.options,!0))(f);c.ya.Vt=!1;c.ya.gB().Xb(!0);
e=c.ya.ib(e);h.g.j.Qk(e,a)}if(d.hv){if(!h.kz)throw Error("Missing require for Blockly.Trashcan");c.wj=new h.kz(c);e=c.wj.ib();c.sa.insertBefore(e,c.zb)}if(d.ob&&d.ob.controls){if(!h.vz)throw Error("Missing require for Blockly.ZoomControls");c.Wl=new h.vz(c);d=c.Wl.ib();c.sa.appendChild(d)}c.Pc.subscribe(a,"workspaceBackgroundColour","background-color");c.translate(0,0);c.xf.push(h.Nz(c));h.Ml(c);h.Y.ib();h.B.ib();h.G.ib();return c};
h.FA=function(a,c){var d=null;switch(c.type){case h.h.si:case h.h.Wg:(d=a.Jc(c.Za))&&(d=d.Wd());break;case h.h.gm:case h.h.Ej:d=a.Lm[c.we]||null}return d};h.Zt=function(a){var c=a.Th;if(!(nb(c.C)&&ob(c.C)||a.bd())){c=c.Kk(!0);for(var d=[].concat(a.Ol),e=0,f;f=d[e];e++)h.up(a,c,f)}};
h.Nz=function(a){return function(c){var d=a.Th;if(!(nb(d.C)&&ob(d.C)||a.bd()))if(-1!==h.h.hx.indexOf(c.type)){d=d.Kk(!0);var e=h.FA(a,c);if(e){var f=h.h.Mb();h.h.ra(c.group);h.up(a,d,e)&&!c.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==f&&h.h.ra(f)}}else c.type===h.h.ak&&c.scale>c.il&&h.Zt(a)}};
h.up=function(a,c,d){var e=ec(d),f=h.g.kc.ik(c.top,e.top,c.top+c.height-(e.bottom-e.top))-e.top,g=c.left;c=c.left+c.width-(e.right-e.left);a.K?g=Math.min(c,g):c=Math.max(g,c);return(a=h.g.kc.ik(g,e.left,c)-e.left)||f?(d.moveBy(a,f),!0):!1};
h.xB=function(a){var c=a.options,d=w(a);h.S.La(d.parentNode,"contextmenu",null,function(f){h.g.un(f)||f.preventDefault()});d=h.S.La(window,"resize",null,function(){h.hc(!0);h.Ml(a);h.Zt(a)});a.Sn=d;h.rg.Iz();if(c.Oh){d=a.mb;var e=Q(a,!0);d?d.Wa():e&&(e.Wa(a),e.show(c.Oh),"function"==typeof e.UC&&e.UC())}c.hv&&a.wj.Wa();c.ob&&c.ob.controls&&a.Wl.Wa();c.Wb&&c.Wb.scrollbars?(a.Hb=new h.zt(a,!0===c.Wb.scrollbars||!!c.Wb.scrollbars.Hq,!0===c.Wb.scrollbars||!!c.Wb.scrollbars.vertical),a.Hb.resize()):a.Un({x:.5,
y:.5});c.qB&&h.rg.IB(c.ew,a)};h.rg.Iz=function(){h.xA||(h.S.La(document,"scroll",null,function(){for(var a=h.fb.getAll(),c=0,d;d=a[c];c++)d.Sl&&d.Sl()}),h.S.La(document,"keydown",null,h.qr),h.S.bind(document,"touchend",null,h.zg),h.S.bind(document,"touchcancel",null,h.zg),h.g.userAgent.Nj&&h.S.La(window,"orientationchange",document,function(){h.Ml(h.yh())}));h.xA=!0};
h.rg.IB=function(a,c){function d(){for(;f.length;)h.S.vb(f.pop());e.preload()}var e=c.ue;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(h.S.La(document,"mousemove",null,d,!0));f.push(h.S.La(document,"touchstart",null,d,!0))};h.gh=function(a){this.MC=Object.create(null);if(a){a=a.split(",");for(var c=0;c<a.length;c++)this.MC[a[c]]=!0}this.reset()};h.gh.ZD="DEVELOPER_VARIABLE";h.gh.prototype.reset=function(){this.sh=Object.create(null);Object.create(null);this.Xa=null};h.gh.qf=function(a,c){return a.toLowerCase()==c.toLowerCase()};h.Na={};h.Na.Fy=h.qt;h.Na.tx="x";h.Na.yz=function(a){var c=Ma(a,"procedures_defnoreturn").map(function(d){return d.bj()});a=Ma(a,"procedures_defreturn").map(function(d){return d.bj()});c.sort(h.Na.nw);a.sort(h.Na.nw);return[c,a]};h.Na.nw=function(a,c){return a[0].localeCompare(c[0],void 0,{sensitivity:"base"})};h.Na.HA=function(a,c){if(c.cd)return a;for(a=a||h.L.UNNAMED_KEY||"unnamed";!h.Na.BB(a,c.A,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
h.Na.BB=function(a,c,d){return!h.Na.DB(a,c,d)};h.Na.DB=function(a,c,d){c=I(c,!1);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].bj){var f=c[e].bj();if(h.gh.qf(f[0],a))return!0}return!1};h.Na.SH=function(a){a=a.trim();var c=h.Na.HA(a,this.W()),d=this.getValue();if(d!=a&&d!=c){a=I(this.W().A,!1);for(var e=0;e<a.length;e++)a[e].LC&&a[e].LC(d,c)}return c};
h.Na.vh=function(a){function c(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],n=g[l][1],q=h.g.xml.createElement("block");q.setAttribute("type",k);q.setAttribute("gap",16);var r=h.g.xml.createElement("mutation");r.setAttribute("name",m);q.appendChild(r);for(m=0;m<n.length;m++){var t=h.g.xml.createElement("arg");t.setAttribute("name",n[m]);r.appendChild(t)}d.push(q)}}var d=[];if(h.$b.procedures_defnoreturn){var e=h.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=h.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(h.g.xml.createTextNode(h.L.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}h.$b.procedures_defreturn&&(e=h.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=h.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(h.g.xml.createTextNode(h.L.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));h.$b.procedures_ifreturn&&(e=h.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=h.Na.yz(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
h.Na.Kw=function(a){for(var c=[],d=Ma(a,"procedures_mutatorarg"),e=0,f;f=d[e];e++)c.push(Ka(f,"NAME"));d=h.g.xml.createElement("xml");e=h.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=h.g.xml.createElement("field");f.setAttribute("name","NAME");c=h.g.xml.createTextNode(h.oa.Nu(h.Na.tx,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);if(c=h.g.ka.vu(d)){if(!a.options.Oh)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(h.g.ka.Mk(c)){if(!a.mb)throw Error("Existing toolbox has no categories.  Can't change mode.");
a.options.Oh=c;a.mb.Ea(c)}else{if(!a.ya)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.Oh=c;a.ya.show(c)}}else if(a.options.Oh)throw Error("Can't nullify an existing toolbox.");};h.Na.SB=function(a){if(a.type==h.h.As&&"mutator"===a.LG&&a.EH){a=h.fb.Gk(a.Nb).Jc(a.Za);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.$d.gB(),h.Na.Kw(a),a.xf.push(h.Na.RB)}};h.Na.RB=function(a){a.type!=h.h.si&&a.type!=h.h.xs&&a.type!=h.h.Vg||h.Na.Kw(h.fb.Gk(a.Nb))};
h.Na.QA=function(a,c){var d=[];c=I(c,!1);for(var e=0;e<c.length;e++)if(c[e].aB){var f=c[e].aB();f&&h.gh.qf(f,a)&&d.push(c[e])}return d};h.Na.KH=function(a){var c=h.h.Ha,d=a.bj()[0],e=a.lc(!0);a=h.Na.QA(d,a.A);d=0;for(var f;f=a[d];d++){var g=f.lc();g=g&&h.I.Be(g);f.Zc(e);var k=f.lc();k=k&&h.I.Be(k);g!=k&&(h.h.Ha=!1,h.h.Ia(new (h.h.get(h.h.Vg))(f,"mutation",null,g,k)),h.h.Ha=c)}};h.Na.nH=function(a,c){c=I(c,!1);for(var d=0;d<c.length;d++)if(c[d].bj){var e=c[d].bj();if(e&&h.gh.qf(e[0],a))return c[d]}return null};h.Lb=function(){h.Lb.u=this;this.Cd=Object.create(null);this.nj=Object.create(null)};h.Lb.Cn={Shift:h.g.ea.um,Control:h.g.ea.$g,Alt:h.g.ea.ri,Meta:h.g.ea.Bi};h.Lb.prototype.register=function(a,c){if(this.Cd[a.name]&&!c)throw Error('Shortcut with name "'+a.name+'" already exists.');this.Cd[a.name]=a};
h.Lb.prototype.unregister=function(a){if(!this.Cd[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var c in this.nj){var d=c,e=this.nj[d],f=e.indexOf(a);-1<f&&(e.splice(f,1),0==e.length&&delete this.nj[d])}delete this.Cd[a];return!0};function R(a,c){var d=h.Lb.u;a=String(a);var e=d.nj[a];if(e)throw Error('Shortcut with name "'+c+'" collides with shortcuts '+e.toString());d.nj[a]=[c]}
h.Lb.prototype.qr=function(a,c){var d="";for(e in h.Lb.Cn)c.getModifierState(e)&&(""!=d&&(d+="+"),d+=e);""!=d&&c.keyCode?d=d+"+"+c.keyCode:c.keyCode&&(d=c.keyCode.toString());d=this.nj[d]||[];if(!d)return!1;var e=0;for(var f;f=d[e];e++)if(f=this.Cd[f],(!f.tb||f.tb(a))&&f.$a&&f.$a(a,c,f))return!0;return!1};
function S(a,c){var d="";if(c){for(var e=h.g.object.values(h.Lb.Cn),f=0,g;g=c[f];f++)if(0>e.indexOf(g))throw Error(g+" is not a valid modifier key.");for(var k in h.Lb.Cn)-1<c.indexOf(h.Lb.Cn[k])&&(""!=d&&(d+="+"),d+=k)}""!=d&&a?d=d+"+"+a:a&&(d=a.toString());return d}new h.Lb;h.zm=function(a,c,d,e){this.A=a;this.name=c;this.type=d||"";this.uB=e||h.g.rf();h.h.Ia(new (h.h.get(h.h.xm))(this))};h.zm.prototype.zc=function(){return this.uB};h.zm.dA=function(a,c){return a.name.localeCompare(c.name,void 0,{sensitivity:"base"})};h.oa={};h.oa.Fy=h.Gt;h.oa.zz=function(a){var c=I(a,!1);a=Object.create(null);for(var d=0;d<c.length;d++){var e=la(c[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.zc();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};h.oa.ss={};
h.oa.GG=function(a){a=I(a,!1);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.oH;!f&&e.WA&&(f=e.WA,h.oa.ss[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),h.oa.ss[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
h.oa.vh=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");wc(a,function(e){h.oa.xu(e.sH())});c.push(d);a=h.oa.KA(a);return c=c.concat(a)};
h.oa.KA=function(a){a=a.hn("");var c=[];if(0<a.length){var d=a[a.length-1];if(h.$b.variables_set){var e=h.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",h.$b.math_change?8:24);e.appendChild(h.oa.lq(d));c.push(e)}h.$b.math_change&&(e=h.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",h.$b.variables_get?20:8),e.appendChild(h.oa.lq(d)),d=h.I.Se('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(h.$b.variables_get){a.sort(h.zm.dA);d=0;for(var f;f=a[d];d++)e=h.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(h.oa.lq(f)),c.push(e)}}return c};h.oa.Ht="ijkmnopqrstuvwxyzabcdefgh";h.oa.LA=function(a){return h.oa.Nu(h.oa.Ht.charAt(0),a.mq())};
h.oa.Nu=function(a,c){if(!c.length)return a;for(var d=h.oa.Ht,e="",f=d.indexOf(a);;){for(var g=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){g=!0;break}if(!g)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
h.oa.xu=function(a,c,d){function e(g){h.oa.ow(h.L.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=h.oa.UB(k,a);if(l){if(l.type==f)var m=h.L.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=h.L.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);h.alert(m,function(){e(k)})}else a.Qd(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};h.oa.Qd=h.oa.xu;
h.oa.pw=function(a,c){function d(e){var f=h.L.RENAME_VARIABLE_TITLE.replace("%1",c.name);h.oa.ow(f,e,function(g){if(g){var k=h.oa.VB(g,c.type,a);k?(k=h.L.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),h.alert(k,function(){d(g)})):a.ai(c.zc(),g)}})}d("")};h.oa.ow=function(a,c,d){h.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==h.L.RENAME_VARIABLE||e==h.L.NEW_VARIABLE)&&(e=null);d(e)})};
h.oa.VB=function(a,c,d){d=d.Xa.$i();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};h.oa.UB=function(a,c){c=c.Xa.$i();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};h.oa.lq=function(a){var c=h.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.zc());c.setAttribute("variabletype",a.type);a=h.g.xml.createTextNode(a.name);c.appendChild(a);return c};
h.oa.rH=function(a,c,d,e){var f=h.oa.ng(a,c,d,e);f||(f=h.oa.mA(a,c,d,e));return f};h.oa.ng=function(a,c,d,e){var f=a.Pn,g=null;if(c&&(g=a.Ah(c),!g&&f&&(g=f.Ah(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.ng(d,e);!g&&f&&(g=f.ng(d,e))}return g};h.oa.mA=function(a,c,d,e){var f=a.Pn;d||(d=h.oa.LA(a.ug?a.ho:a));return f?f.Qd(d,e,c):a.Qd(d,e,c)};
h.oa.MA=function(a,c){a=a.$i();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};h.VERSION="uncompiled";h.Yk=null;h.selected=null;h.Yi=[];h.Qi=null;h.Jm=null;h.Dp=null;h.OG=null;h.Ln=null;h.hI=function(a){h.g.Sm.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize");return new h.g.Vc(a.Pz,a.Oz)};h.UH=function(a){ja(a)};
h.Ml=function(a){for(;a.options.Lc;)a=a.options.Lc;var c=w(a),d=nc(a),e=c.parentNode;if(e){var f=e.offsetWidth;e=e.offsetHeight;d.width!=f&&(c.setAttribute("width",f+"px"),vc(a,f,null));d.height!=e&&(c.setAttribute("height",e+"px"),vc(a,null,e));a.resize()}};h.qr=function(a){var c=h.Yk;!c||h.g.un(a)||c.qa&&!c.isVisible()||h.Lb.u.qr(c,a)};h.Np=function(a){a.A.ug||(h.h.ra(!0),h.hc(),a.P?a.H(!1,!0):a.H(!0,!0),h.h.ra(!1))};
h.Ip=function(a){if(a.kj)a=null;else{var c=h.I.eg(a,!0);h.I.sA(c);var d=a.ab();c.setAttribute("x",a.K?-d.x:d.x);c.setAttribute("y",d.y);a={xml:c,source:a.A,sD:h.g.Ou(a)}}a&&(h.Qi=a.xml,h.Jm=a.source,h.Dp=a.sD)};h.Nn=function(){if(!h.Qi)return!1;var a=h.Jm;a.ug&&(a=a.ho);return h.Dp&&Na(a,h.Dp)?(h.h.ra(!0),a.Nn(h.Qi),h.h.ra(!1),!0):!1};h.duplicate=function(a){var c=h.Qi,d=h.Jm;h.Ip(a);a.A.Nn(h.Qi);h.Qi=c;h.Jm=d};h.LH=function(a){h.g.un(a)||a.preventDefault()};
h.hc=function(a){h.G.sb();h.Y.sb();h.B.Fq();var c=!!a;da(h.yh().jk,h.pc.Qc.$w).forEach(function(d){d.IG(c)})};h.yh=function(){return h.Yk};h.alert=function(a,c){alert(a);c&&c()};h.confirm=function(a,c){c(confirm(a))};h.prompt=function(a,c,d){d(prompt(a,c))};
h.GB=function(a){return function(){var c=a.type?'Block "'+a.type+'": ':"";if(a.output&&a.previousStatement)throw Error(c+"Must not have both an output and a previousStatement.");a.style&&a.style.He&&(this.He=a.style.He,a.style=null);if(a.style&&a.colour)throw Error(c+"Must not have both a colour and a style.");if(a.style){var d=a.style;try{this.di(d)}catch(t){console.warn(c+"Style does not exist: ",d)}}else if("colour"in a)if(void 0===a.colour)console.warn(c+"Undefined colour value.");else{d=a.colour;
try{this.Oe(d)}catch(t){console.warn(c+"Illegal colour value: ",d)}}for(d=0;void 0!==a["message"+d];){var e=a["args"+d]||[],f=a["lastDummyAlign"+d],g=c;var k=h.g.nD(a["message"+d]);for(var l=e.length,m=[],n=0,q=0;q<k.length;q++){var r=k[q];if("number"==typeof r){if(1>r||r>l)throw Error('Block "'+this.type+'": Message index %'+r+" out of range.");if(m[r])throw Error('Block "'+this.type+'": Message index %'+r+" duplicated.");m[r]=!0;n++}}if(n!=l)throw Error('Block "'+this.type+'": Message does not reference all '+
l+" arg(s).");l=[];for(m=0;m<k.length;m++){n=k[m];"number"==typeof n&&(n=e[n-1]);if("string"==typeof n&&(n=Mb(n),!n))continue;l.push(n)}(e=l.length)&&!Nb(l[e-1].type)&&(e={type:"input_dummy"},f&&(e.align=f),l.push(e));f=[];for(e=0;k=l[e];e++)if(Nb(k.type)){m=g;q={LEFT:h.bb.Id.Md,RIGHT:h.bb.Id.af,CENTRE:h.bb.Id.dm,CENTER:h.bb.Id.dm};n=null;switch(k.type){case "input_value":n=this.nh(h.Ja.te,k.name);break;case "input_statement":n=this.nh(h.Ja.Uc,k.name);break;case "input_dummy":n=Kb(this,k.name)}n?
(k.check&&n.rj(k.check),k.align&&(q=q[k.align.toUpperCase()],void 0===q?console.warn(m+"Illegal align value: ",k.align):Gb(n,q)),k=n):k=null;if(k){for(m=0;n=f[m];m++)N(k,n[0],n[1]);f.length=0}}else(m=Lb(this,k))&&f.push([m,k.name]);d++}void 0!==a.inputsInline&&this.Mg(a.inputsInline);void 0!==a.output&&this.Wn(!0,a.output);void 0!==a.previousStatement&&this.Yn(!0,a.previousStatement);void 0!==a.nextStatement&&this.Vn(!0,a.nextStatement);void 0!==a.tooltip&&(d=a.tooltip,d=h.g.Nc(d),this.Pg(d));void 0!==
a.enableContextMenu&&(d=a.enableContextMenu,this.contextMenu=!!d);void 0!==a.helpUrl&&(d=a.helpUrl,this.Ch=h.g.Nc(d));"string"==typeof a.extensions&&(console.warn(c+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+a.type+"' block."),a.extensions=[a.extensions]);void 0!==a.mutator&&h.xa.apply(a.mutator,this,!0);c=a.extensions;if(Array.isArray(c))for(d=0;d<c.length;++d)h.xa.apply(c[d],this,!1)}};
h.fH=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(h.$b[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),h.$b[e]={Wa:h.GB(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};h.DH=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};h.vH=function(a){return h.g.hb.qv(a)};
h.Tz=function(){h.cc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);h.cc("LOGIC_HUE",["Constants","Logic","HUE"],210);h.cc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);h.cc("LOOPS_HUE",["Constants","Loops","HUE"],120);h.cc("MATH_HUE",["Blocks","math","HUE"],void 0);h.cc("MATH_HUE",["Constants","Math","HUE"],230);h.cc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);h.cc("TEXTS_HUE",["Constants","Text","HUE"],160);h.cc("LISTS_HUE",["Blocks","lists","HUE"],void 0);h.cc("LISTS_HUE",["Constants","Lists","HUE"],
260);h.cc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);h.cc("COLOUR_HUE",["Constants","Colour","HUE"],20);h.cc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);h.cc("VARIABLES_HUE",["Constants","Variables","HUE"],330);h.cc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);h.cc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
h.cc=function(a,c,d){for(var e="Blockly",f=h,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};h.bI=function(a){h.Ln=a};h.op=h.S.bind;h.ks=h.S.vb;h.KG=h.S.La;h.ED=h.bb.Id.Md;h.DD=h.bb.Id.dm;h.rs=h.bb.Id.af;h.Ob=h.U.Ob;h.Dc=h.U.Dc;h.Pb=h.U.Pb;h.Tc=h.U.Tc;h.dE=h.Ja.me;h.pG=h.g.ka.Qb.$j;h.mG=h.g.ka.Qb.bm;h.nG=h.g.ka.Qb.Md;
h.oG=h.g.ka.Qb.af;var xc={am:"\u12a0\u121b\u122d\u129b",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",ca:"Catal\u00e0",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",
fi:"Suomi",fo:"F\u00f8royskt",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hr:"Hrvatski",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",kn:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",
nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438","sr-latn":"Srpski",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",
ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},yc="ace ar fa he mzn ps ur".split(" "),zc=window.BlocklyGamesLang,Ac=window.BlocklyGamesLanguages,Bc=/\.html$/.test(window.location.pathname);
function Cc(a){try{if(0!=a.lineno||0!=a.colno){var c=Date.now();if(!(Cc.Cv+1E4>c)){Cc.Cv=c;var d=new XMLHttpRequest,e="error="+encodeURIComponent(a.message+" "+a.filename+" "+a.lineno+":"+a.colno)+"&amp;url="+encodeURIComponent(window.location);d.open("POST","/errorReporter");d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.send(e);console.log("Error reported.")}}}catch(f){console.log(a.error)}}Cc.Cv=0;Bc||window.addEventListener("error",Cc);
function Dc(){return-1!=yc.indexOf(zc)}var U,Ec=Math,Fc=Ec.floor,Gc=Number,Hc,Ic=window.location.search.match(RegExp("[?&]level=([^&]+)"));Hc=Ic?decodeURIComponent(Ic[1].replace(/\+/g,"%20")):"NaN";var Jc=Fc.call(Ec,Gc(Hc));U=isNaN(Jc)?1:h.g.kc.ik(1,Jc,10);
function Kc(){document.title=document.getElementById("title").textContent;document.dir=Dc()?"rtl":"ltr";document.head.parentElement.setAttribute("lang",zc);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<Ac.length;d++){var e=Ac[d];c.push([xc[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==zc&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}for(d=
1;10>=d;d++)a=document.getElementById("level"+d),c=!!Lc(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(Mc,1)}function Lc(a){var c=Nc;try{var d=window.localStorage[c+a]}catch(e){}return d}function V(a){var c=Oc(a);return null===c?"[Unknown message: "+a+"]":c}
function Oc(a){return(a=document.getElementById(a))?(a=a.textContent,a=a.replace(/\\n/g,"\n")):null}function Pc(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",function(d){d.preventDefault();c(d)},!0)}
function Mc(){if(!Bc){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};h.la={};h.la.Jr=function(){h.Ba.u.register({yc:function(){return h.L.UNDO},tb:function(a){return 0<a.A.li.length?"enabled":"disabled"},$a:function(a){Pa(a.A,!1)},ed:h.Ba.vc.Fc,id:"undoWorkspace",weight:1})};h.la.Ir=function(){h.Ba.u.register({yc:function(){return h.L.REDO},tb:function(a){return 0<a.A.vl.length?"enabled":"disabled"},$a:function(a){Pa(a.A,!0)},ed:h.Ba.vc.Fc,id:"redoWorkspace",weight:2})};
h.la.tC=function(){h.Ba.u.register({yc:function(){return h.L.CLEAN_UP},tb:function(a){return a.A.ic()?1<a.A.fc(!1).length?"enabled":"disabled":"hidden"},$a:function(a){a=a.A;a.Oc(!1);h.h.ra(!0);for(var c=a.fc(!0),d=0,e=0,f;f=c[e];e++)if(f.ic()){var g=f.ab();f.moveBy(-g.x,d-g.y);dc(f);d=f.ab().y+v(f).height+a.kb.aa().Rj}h.h.ra(!1);a.Oc(!0)},ed:h.Ba.vc.Fc,id:"cleanWorkspace",weight:3})};h.la.Ew=function(a,c){for(var d=0,e=0;e<c.length;e++)for(var f=c[e];f;)setTimeout(f.ci.bind(f,a),d),f=u(f),d+=10};
h.la.uC=function(){h.Ba.u.register({yc:function(){return h.L.COLLAPSE_ALL},tb:function(a){if(a.A.options.collapse){a=a.A.fc(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(!d.isCollapsed())return"enabled";d=u(d)}return"disabled"}return"hidden"},$a:function(a){h.la.Ew(!0,a.A.fc(!0))},ed:h.Ba.vc.Fc,id:"collapseWorkspace",weight:4})};
h.la.FC=function(){h.Ba.u.register({yc:function(){return h.L.EXPAND_ALL},tb:function(a){if(a.A.options.collapse){a=a.A.fc(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(d.isCollapsed())return"enabled";d=u(d)}return"disabled"}return"hidden"},$a:function(a){h.la.Ew(!1,a.A.fc(!0))},ed:h.Ba.vc.Fc,id:"expandWorkspace",weight:5})};h.la.St=function(a,c){if(a.sg())Array.prototype.push.apply(c,p(a,!1));else{a=z(a,!1);for(var d=0;d<a.length;d++)h.la.St(a[d],c)}};
h.la.qq=function(a){var c=[];a=a.fc(!0);for(var d=0;d<a.length;d++)h.la.St(a[d],c);return c};h.la.Rm=function(a,c){h.h.ra(c);var d=a.shift();d&&(d.A?(d.H(!1,!0),setTimeout(h.la.Rm,10,a,c)):h.la.Rm(a,c));h.h.ra(!1)};
h.la.BC=function(){h.Ba.u.register({yc:function(a){if(a.A)return a=h.la.qq(a.A).length,1==a?h.L.DELETE_BLOCK:h.L.DELETE_X_BLOCKS.replace("%1",String(a))},tb:function(a){if(a.A)return 0<h.la.qq(a.A).length?"enabled":"disabled"},$a:function(a){if(a.A){gc(a.A);var c=h.la.qq(a.A),d=h.g.rf();2>c.length?h.la.Rm(c,d):h.confirm(h.L.DELETE_ALL_BLOCKS.replace("%1",c.length),function(e){e&&h.la.Rm(c,d)})}},ed:h.Ba.vc.Fc,id:"workspaceDelete",weight:6})};
h.la.JC=function(){h.la.Jr();h.la.Ir();h.la.tC();h.la.uC();h.la.FC();h.la.BC()};h.la.DC=function(){h.Ba.u.register({yc:function(){return h.L.DUPLICATE_BLOCK},tb:function(a){a=a.block;return!a.cd&&a.sg()&&a.ic()?(Oa(a.A)?Na(a.A,h.g.Ou(a)):1)?"enabled":"disabled":"hidden"},$a:function(a){a.block&&h.duplicate(a.block)},ed:h.Ba.vc.Kb,id:"blockDuplicate",weight:1})};
h.la.wC=function(){h.Ba.u.register({yc:function(a){return a.block.sd?h.L.REMOVE_COMMENT:h.L.ADD_COMMENT},tb:function(a){a=a.block;return h.g.userAgent.Ld||a.cd||!a.A.options.aA||a.isCollapsed()||!a.wd()?"hidden":"enabled"},$a:function(a){a=a.block;a.sd?a.sj(null):a.sj("")},ed:h.Ba.vc.Kb,id:"blockComment",weight:2})};
h.la.HC=function(){h.Ba.u.register({yc:function(a){return Va(a.block)?h.L.EXTERNAL_INPUTS:h.L.INLINE_INPUTS},tb:function(a){a=a.block;if(!a.cd&&a.ic()&&!a.isCollapsed())for(var c=1;c<a.R.length;c++)if(a.R[c-1].type!=h.Ja.Uc&&a.R[c].type!=h.Ja.Uc)return"enabled";return"hidden"},$a:function(a){a.block.Mg(!Va(a.block))},ed:h.Ba.vc.Kb,id:"blockInline",weight:3})};
h.la.vC=function(){h.Ba.u.register({yc:function(a){return a.block.isCollapsed()?h.L.EXPAND_BLOCK:h.L.COLLAPSE_BLOCK},tb:function(a){a=a.block;return!a.cd&&a.ic()&&a.A.options.collapse?"enabled":"hidden"},$a:function(a){a.block.ci(!a.block.isCollapsed())},ed:h.Ba.vc.Kb,id:"blockCollapseExpand",weight:4})};
h.la.CC=function(){h.Ba.u.register({yc:function(a){return a.block.isEnabled()?h.L.DISABLE_BLOCK:h.L.ENABLE_BLOCK},tb:function(a){a=a.block;return!a.cd&&a.A.options.disable&&a.wd()?Jb(a)?"disabled":"enabled":"hidden"},$a:function(a){a=a.block;var c=h.h.Mb();c||h.h.ra(!0);a.Df(!a.isEnabled());c||h.h.ra(!1)},ed:h.Ba.vc.Kb,id:"blockDisable",weight:5})};
h.la.Hr=function(){h.Ba.u.register({yc:function(a){var c=a.block;a=p(c,!1).length;(c=u(c))&&(a-=p(c,!1).length);return 1==a?h.L.DELETE_BLOCK:h.L.DELETE_X_BLOCKS.replace("%1",String(a))},tb:function(a){return!a.block.cd&&a.block.sg()?"enabled":"hidden"},$a:function(a){h.h.ra(!0);a.block&&h.Np(a.block);h.h.ra(!1)},ed:h.Ba.vc.Kb,id:"blockDelete",weight:6})};
h.la.GC=function(){h.Ba.u.register({yc:function(){return h.L.HELP},tb:function(a){a=a.block;return("function"==typeof a.Ch?a.Ch():a.Ch)?"enabled":"hidden"},$a:function(a){a.block.showHelp()},ed:h.Ba.vc.Kb,id:"blockHelp",weight:7})};h.la.sC=function(){h.la.DC();h.la.wC();h.la.HC();h.la.vC();h.la.CC();h.la.Hr();h.la.GC()};h.la.zC=function(){h.la.JC();h.la.sC()};h.la.zC();h.lb={};h.lb.names={Lx:"escape",ah:"delete",kx:"copy",px:"cut",My:"paste",lz:"undo",Yy:"redo"};h.lb.EC=function(){var a={name:h.lb.names.Lx,tb:function(c){return!c.options.readOnly},$a:function(){h.hc();return!0}};h.Lb.u.register(a);R(h.g.ea.Kx,a.name)};
h.lb.Hr=function(){var a={name:h.lb.names.ah,tb:function(c){return!c.options.readOnly&&h.selected&&h.selected.sg()},$a:function(c,d){d.preventDefault();if(h.oe.Hh())return!1;h.Np(h.selected);return!0}};h.Lb.u.register(a);R(h.g.ea.ah,a.name);R(h.g.ea.ax,a.name)};
h.lb.xC=function(){var a={name:h.lb.names.kx,tb:function(d){return!d.options.readOnly&&!h.oe.Hh()&&h.selected&&h.selected.sg()&&h.selected.ic()},$a:function(d,e){e.preventDefault();h.hc();h.Ip(h.selected);return!0}};h.Lb.u.register(a);var c=S(h.g.ea.so,[h.g.ea.$g]);R(c,a.name);c=S(h.g.ea.so,[h.g.ea.ri]);R(c,a.name);c=S(h.g.ea.so,[h.g.ea.Bi]);R(c,a.name)};
h.lb.yC=function(){var a={name:h.lb.names.px,tb:function(d){return!d.options.readOnly&&!h.oe.Hh()&&h.selected&&h.selected.sg()&&h.selected.ic()&&!h.selected.A.ug},$a:function(){h.Ip(h.selected);h.Np(h.selected);return!0}};h.Lb.u.register(a);var c=S(h.g.ea.ip,[h.g.ea.$g]);R(c,a.name);c=S(h.g.ea.ip,[h.g.ea.ri]);R(c,a.name);c=S(h.g.ea.ip,[h.g.ea.Bi]);R(c,a.name)};
h.lb.IC=function(){var a={name:h.lb.names.My,tb:function(d){return!d.options.readOnly&&!h.oe.Hh()},$a:function(){return h.Nn()}};h.Lb.u.register(a);var c=S(h.g.ea.gp,[h.g.ea.$g]);R(c,a.name);c=S(h.g.ea.gp,[h.g.ea.ri]);R(c,a.name);c=S(h.g.ea.gp,[h.g.ea.Bi]);R(c,a.name)};
h.lb.Jr=function(){var a={name:h.lb.names.lz,tb:function(d){return!d.options.readOnly&&!h.oe.Hh()},$a:function(d){h.hc();Pa(d,!1);return!0}};h.Lb.u.register(a);var c=S(h.g.ea.Li,[h.g.ea.$g]);R(c,a.name);c=S(h.g.ea.Li,[h.g.ea.ri]);R(c,a.name);c=S(h.g.ea.Li,[h.g.ea.Bi]);R(c,a.name)};
h.lb.Ir=function(){var a={name:h.lb.names.Yy,tb:function(d){return!h.oe.Hh()&&!d.options.readOnly},$a:function(d){h.hc();Pa(d,!0);return!0}};h.Lb.u.register(a);var c=S(h.g.ea.Li,[h.g.ea.um,h.g.ea.$g]);R(c,a.name);c=S(h.g.ea.Li,[h.g.ea.um,h.g.ea.ri]);R(c,a.name);c=S(h.g.ea.Li,[h.g.ea.um,h.g.ea.Bi]);R(c,a.name);c=S(h.g.ea.qz,[h.g.ea.$g]);R(c,a.name)};h.lb.AC=function(){h.lb.EC();h.lb.Hr();h.lb.xC();h.lb.yC();h.lb.IC();h.lb.Jr();h.lb.Ir()};h.lb.AC();h.g.s={};h.g.s.Da=function(a,c){return" "+a+","+c+" "};h.g.s.curve=function(a,c){return" "+a+c.join("")};h.g.s.moveTo=function(a,c){return" M "+a+","+c+" "};h.g.s.moveBy=function(a,c){return" m "+a+","+c+" "};h.g.s.lineTo=function(a,c){return" l "+a+","+c+" "};h.g.s.line=function(a){return" l"+a.join("")};h.g.s.V=function(a,c){return" "+a+" "+c+" "};h.g.s.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};h.i.Xe=function(){this.pe=0;this.$y=3;this.md=5;this.ft=8;this.uc=10;this.At=this.md;this.Zj=15;this.Ii=5;this.$o=8;this.Gy=15;this.Qo=4;this.Cy=12;this.Ex=16;this.Dx=this.Ks=this.Zj;this.je=8;this.fz=this.Vj=15;this.wt=0;this.yt=20;this.bx=4;this.iz=this.md;this.jz=this.uc;this.gx=this.md;this.ex=this.uc;this.Xl=!1;this.dz=15;this.ez=100;this.cz=15;this.Rj=24;this.Gx=14.5;this.Fx=this.Zj+11;this.Mx=2;this.Hx=this.Rj;this.vt=h.g.s.moveBy(0,0);this.py=12;this.qy=6;this.dh=11;this.Pf="normal";this.Of=
"sans-serif";this.zo=this.mm=-1;this.lm=4;this.Ns=16;this.Jj=5;this.Tx="#fff";this.Ao=!h.g.userAgent.Ld&&!h.g.userAgent.bh;this.Os=this.Ns;this.Vx=this.Ux=this.Ps=!1;this.Xx=this.Jj;this.Kj=12;this.Wx="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.ul=String(Math.random()).substring(2);this.an="";this.hq=null;this.Du="";this.Sp=null;this.zu="";this.tk=this.Kp=null;this.hm="#cc0a0a";this.qm="#4286f4";this.jm=100;this.Mt=5;this.im=10;this.mx=2;this.ox=4;this.Go="#000000";this.om=.2;this.ut={Py:1,Ci:2}};b=h.i.Xe.prototype;
b.Wa=function(){this.Ai=this.Vq();this.Ci=this.Wq();this.Gi=this.Yq();this.Uo=this.Xq();var a=this.je,c=h.g.s.arc("a","0 0,0",a,h.g.s.Da(-a,a)),d=h.g.s.arc("a","0 0,0",a,h.g.s.Da(a,a));this.pm={width:a,height:a,Cr:c,On:d};a=this.je;c=h.g.s.moveBy(0,a)+h.g.s.arc("a","0 0,1",a,h.g.s.Da(a,-a));d=h.g.s.arc("a","0 0,1",a,h.g.s.Da(a,a));var e=h.g.s.arc("a","0 0,1",a,h.g.s.Da(-a,-a)),f=h.g.s.arc("a","0 0,1",a,h.g.s.Da(-a,a));this.Wj={hs:c,pD:d,Kz:f,sp:e,PC:a}};
b.Al=function(a){this.dg=Object.create(null);var c=a.dg,d;for(d in c)this.dg[d]=Qc(c[d]);this.Of=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.Of;this.Pf=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.Pf;this.dh=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.dh;c=h.g.j.NB(this.dh+"pt",this.Pf,this.Of);this.mm=c.height;this.zo=c.Od;this.hm=D(a,"cursorColour")||this.hm;this.qm=D(a,"markerColour")||this.qm;this.Go=D(a,"insertionMarkerColour")||this.Go;
this.om=Number(D(a,"insertionMarkerOpacity"))||this.om;this.Xl=null!=a.bs?a.bs:this.Xl};function hc(a,c){var d="auto_"+c;a.dg[d]||(a.dg[d]=Qc({colourPrimary:c}));return{style:a.dg[d],name:d}}function cc(a,c){return a.dg[c||""]||(c&&0==c.indexOf("auto_")?hc(a,c.substring(5)).style:Qc({colourPrimary:"#000000"}))}
function Qc(a){var c={};a&&h.g.object.Bg(c,a);a=h.g.Mn(c.colourPrimary||"#000");c.ph=a.Nk;c.colourSecondary?a=h.g.Mn(c.colourSecondary).Nk:(a=c.ph,a=h.g.hb.pp("#fff",a,.6)||a);c.Km=a;c.colourTertiary?a=h.g.Mn(c.colourTertiary).Nk:(a=c.ph,a=h.g.hb.pp("#fff",a,.3)||a);c.Ri=a;c.He=c.hat||"";return c}b.H=function(){this.hq&&h.g.j.removeNode(this.hq);this.Sp&&h.g.j.removeNode(this.Sp);this.Kp&&h.g.j.removeNode(this.Kp);this.tk=null};
b.Vq=function(){var a=this.py,c=this.qy,d=h.g.s.line([h.g.s.Da(c,a/4),h.g.s.Da(2*-c,a/2),h.g.s.Da(c,a/4)]);return{height:a,width:c,path:d}};b.Yq=function(){var a=this.dz,c=this.ez,d=h.g.s.curve("c",[h.g.s.Da(30,-a),h.g.s.Da(70,-a),h.g.s.Da(c,0)]);return{height:a,width:c,path:d}};
b.Xq=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,m=h.g.s.Da(c,g*l);return h.g.s.curve("c",[h.g.s.Da(0,g*(l+2.5)),h.g.s.Da(-c,k*(l+.5)),h.g.s.Da(-c,g*l)])+h.g.s.curve("s",[h.g.s.Da(c,2.5*k),m])}var c=this.$o,d=this.Zj,e=a(!0),f=a(!1);return{type:this.ut.Py,width:c,height:d,Bd:f,ml:e}};b.Wq=function(){function a(k){return h.g.s.line([h.g.s.Da(k*e,d),h.g.s.Da(3*k,0),h.g.s.Da(k*e,-d)])}var c=this.Gy,d=this.Qo,e=(c-3)/2,f=a(1),g=a(-1);return{type:this.ut.Ci,width:c,height:d,Hg:f,dw:g}};
function ab(a,c){switch(c.type){case h.U.Ob:case h.U.Dc:return a.Uo;case h.U.Tc:case h.U.Pb:return a.Ci;default:throw Error("Unknown connection type");}}
b.ib=function(a,c,d){d=this.nq(d);c="blockly-renderer-style-"+c;this.tk=document.getElementById(c);var e=d.join("\n");this.tk?this.tk.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.tk=d);a=h.g.j.M(h.g.F.Js,{},a);c=h.g.j.M(h.g.F.Qs,{id:"blocklyEmbossFilter"+this.ul},a);h.g.j.M(h.g.F.Qx,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=h.g.j.M(h.g.F.Sx,{"in":"blur",surfaceScale:1,
specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);h.g.j.M(h.g.F.Rx,{x:-5E3,y:-1E4,z:2E4},d);h.g.j.M(h.g.F.xo,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);h.g.j.M(h.g.F.xo,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.an=c.id;this.hq=c;c=h.g.j.M(h.g.F.ot,{id:"blocklyDisabledPattern"+this.ul,patternUnits:"userSpaceOnUse",width:10,height:10},a);h.g.j.M(h.g.F.Tb,{width:10,height:10,fill:"#aaa"},c);h.g.j.M(h.g.F.Ze,
{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},c);this.Du=c.id;this.Sp=c;h.i.Cc&&(a=h.g.j.M(h.g.F.Qs,{id:"blocklyDebugFilter"+this.ul,height:"160%",width:"180%",y:"-30%",x:"-40%"},a),c=h.g.j.M(h.g.F.Nx,{result:"outBlur"},a),h.g.j.M(h.g.F.Px,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c),h.g.j.M(h.g.F.Ox,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},a),h.g.j.M(h.g.F.xo,{"in":"outColor",in2:"outBlur",operator:"in",result:"outGlow"},a),this.zu=a.id,this.Kp=a)};
b.nq=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.Pf+" "+this.dh+"pt "+this.Of+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.Tx+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Of+";","font-weight: "+this.Pf+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.om+
";","stroke: none;","}"]};h.i.m={NONE:0,rc:1,Ss:2,Vs:4,Zo:8,ws:16,Ys:32,Ms:64,ld:128,Ws:256,xt:512,jx:1024,To:2048,Po:4096,Iy:8192,vo:16384,Ko:32768,Jo:65536,Xo:131072,Wo:262144,bt:524288,Yo:1048576,cp:2097152,oo:4194304,Xs:8388608};h.i.m.eF=h.i.m.Ko|h.i.m.Jo;h.i.m.YF=h.i.m.Xo|h.i.m.Wo;h.i.m.jr=16777216;h.i.m.getType=function(a){Object.prototype.hasOwnProperty.call(h.i.m,a)||(h.i.m[a]=h.i.m.jr,h.i.m.jr<<=1);return h.i.m[a]};h.i.m.Ke=function(a){return a.type&h.i.m.rc};h.i.m.Mh=function(a){return a.type&h.i.m.Ss};
h.i.m.ij=function(a){return a.type&h.i.m.Vs};h.i.m.dd=function(a){return a.type&h.i.m.Zo};h.i.m.CH=function(a){return a.type&h.i.m.Ys};h.i.m.wf=function(a){return a.type&h.i.m.ld};h.i.m.Tk=function(a){return a.type&h.i.m.Ms};h.i.m.vg=function(a){return a.type&h.i.m.Ws};h.i.m.Nh=function(a){return a.type&h.i.m.xt};h.i.m.mj=function(a){return a.type&h.i.m.To};h.i.m.xg=function(a){return a.type&h.i.m.Po};h.i.m.EB=function(a){return a.type&(h.i.m.To|h.i.m.Po)};h.i.m.wg=function(a){return a.type&h.i.m.Jo};
h.i.m.xv=function(a){return a.type&h.i.m.Wo};h.i.m.Uk=function(a){return a.type&h.i.m.Ko};h.i.m.FH=function(a){return a.type&h.i.m.Xo};h.i.m.AH=function(a){return a.type&h.i.m.vo};h.i.m.vv=function(a){return a.type&h.i.m.bt};h.i.m.HH=function(a){return a.type&h.i.m.Yo};h.i.m.zB=function(a){return a.type&h.i.m.ws};h.i.m.vn=function(a){return a.type&h.i.m.cp};h.i.m.pn=function(a){return a.type&h.i.m.oo};h.i.m.zv=function(a){return a.type&(h.i.m.cp|h.i.m.oo)};h.i.m.AB=function(a){return a.type&h.i.m.Xs};h.i.Tf=function(a){this.height=this.width=0;this.type=h.i.m.NONE;this.gg=this.na=0;this.o=a;this.zd=this.o.Vj};h.i.ta=function(a,c){h.i.ta.v.constructor.call(this,a);this.dc=c;this.shape=ab(this.o,c);this.Lh=!!this.shape.isDynamic;this.type|=h.i.m.jx};h.g.object.T(h.i.ta,h.i.Tf);h.i.So=function(a,c){h.i.So.v.constructor.call(this,a,c);this.type|=h.i.m.Iy;this.height=this.Lh?0:this.shape.height;this.Ed=this.width=this.Lh?0:this.shape.width;this.Yc=this.o.Ii;this.mk=0};h.g.object.T(h.i.So,h.i.ta);
h.i.Vo=function(a,c){h.i.Vo.v.constructor.call(this,a,c);this.type|=h.i.m.To;this.height=this.shape.height;this.width=this.shape.width};h.g.object.T(h.i.Vo,h.i.ta);h.i.Ro=function(a,c){h.i.Ro.v.constructor.call(this,a,c);this.type|=h.i.m.Po;this.height=this.shape.height;this.width=this.shape.width};h.g.object.T(h.i.Ro,h.i.ta);h.i.Pj=function(a,c){h.i.Pj.v.constructor.call(this,a,c.connection);this.type|=h.i.m.ld;this.input=c;this.align=c.align;(this.hg=c.connection&&c.connection.ua()?c.connection.ua():null)?(a=v(this.hg),this.lk=a.width,this.Nm=a.height):this.Nm=this.lk=0;this.Yc=this.mk=0};h.g.object.T(h.i.Pj,h.i.ta);
h.i.Qf=function(a,c){h.i.Qf.v.constructor.call(this,a,c);this.type|=h.i.m.Ws;this.hg?(this.width=this.lk,this.height=this.Nm):(this.height=this.o.Fx,this.width=this.o.Gx);this.Si=this.Lh?this.shape.height(this.height):this.shape.height;this.ze=this.Lh?this.shape.width(this.height):this.shape.width;this.hg||(this.width+=this.ze*(this.Lh?2:1));this.Yc=this.Lh?this.shape.Yc(this.Si):this.o.Ii;this.mk=this.Lh?this.shape.mk(this.ze):0};h.g.object.T(h.i.Qf,h.i.Pj);
h.i.Zf=function(a,c){h.i.Zf.v.constructor.call(this,a,c);this.type|=h.i.m.xt;this.height=this.hg?this.Nm+this.o.wt:this.o.Hx;this.width=this.o.fz+this.shape.width};h.g.object.T(h.i.Zf,h.i.Pj);h.i.km=function(a,c){h.i.km.v.constructor.call(this,a,c);this.type|=h.i.m.Ms;this.height=this.hg?this.Nm-this.o.Ii-this.o.md:this.shape.height;this.width=this.shape.width+this.o.Mx;this.Yc=this.o.Ii;this.Si=this.shape.height;this.ze=this.shape.width};h.g.object.T(h.i.km,h.i.Pj);h.i.Ho=function(a,c){h.i.Ho.v.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=h.i.m.Vs;a=c.mH();this.height=a.height;this.width=a.width};h.g.object.T(h.i.Ho,h.i.Tf);h.i.Io=function(a){h.i.Io.v.constructor.call(this,a);this.type|=h.i.m.bt;this.height=this.o.Ai.height;this.width=this.o.Ai.width};h.g.object.T(h.i.Io,h.i.Tf);
h.i.kd=function(a,c){h.i.kd.v.constructor.call(this,a);this.Zi=c;this.wd=c.Ij;this.JA=c.Su();this.type|=h.i.m.rc;a=this.Zi.sf();this.height=a.height;this.width=a.width};h.g.object.T(h.i.kd,h.i.Tf);h.i.Do=function(a){h.i.Do.v.constructor.call(this,a);this.type|=h.i.m.Ss;this.height=this.o.Gi.height;this.width=this.o.Gi.width;this.Ni=this.height};h.g.object.T(h.i.Do,h.i.Tf);
h.i.Hi=function(a,c){h.i.Hi.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.m.Xo:h.i.m.Ko)|h.i.m.vo;this.width=this.height=this.o.pe};h.g.object.T(h.i.Hi,h.i.Tf);h.i.tm=function(a,c){h.i.tm.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.m.Wo:h.i.m.Jo)|h.i.m.vo;this.width=this.o.je;this.height=this.o.je/2};h.g.object.T(h.i.tm,h.i.Tf);h.i.Ye=function(a,c){h.i.Ye.v.constructor.call(this,a);this.type=this.type|h.i.m.Zo|h.i.m.Ys;this.width=c;this.height=this.o.cz};h.g.object.T(h.i.Ye,h.i.Tf);h.i.ih=function(a){this.type=h.i.m.Yo;this.elements=[];this.na=this.Ab=this.jd=this.minWidth=this.minHeight=this.width=this.height=0;this.fv=this.fj=this.Dq=this.Gb=this.pg=!1;this.o=a;this.zd=this.o.Vj;this.align=null};h.i.ih.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function W(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.i.m.wf(d))return d;return null}h.i.ih.prototype.co=function(){return!0};h.i.ih.prototype.Ak=function(){return!0};
h.i.lh=function(a){h.i.lh.v.constructor.call(this,a);this.type|=h.i.m.cp;this.Ni=this.hf=0;this.pB=!1;this.connection=null};h.g.object.T(h.i.lh,h.i.ih);h.i.lh.prototype.Eq=function(a){var c=(a.He?"cap"===a.He:this.o.Xl)&&!a.P&&!a.X,d=a.X&&a.X.ua();return!!a.P||c||(d?u(d)==a:!1)};
h.i.lh.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.m.dd(f)||(h.i.m.Mh(f)?d=Math.max(d,f.Ni):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.hf=this.Ni=d;this.jd=this.width};h.i.lh.prototype.co=function(){return!1};h.i.lh.prototype.Ak=function(){return!1};h.i.Zg=function(a){h.i.Zg.v.constructor.call(this,a);this.type|=h.i.m.oo;this.gv=!1;this.connection=null;this.Od=this.wk=0};
h.g.object.T(h.i.Zg,h.i.ih);h.i.Zg.prototype.Eq=function(a){return!!a.P||!!u(a)};h.i.Zg.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.m.dd(f)||(h.i.m.xg(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.wk=d;this.jd=this.width};h.i.Zg.prototype.co=function(){return!1};h.i.Zg.prototype.Ak=function(){return!1};
h.i.wm=function(a,c,d){h.i.wm.v.constructor.call(this,a);this.type=this.type|h.i.m.Zo|h.i.m.ws;this.width=d;this.height=c;this.Mu=!1;this.jd=0;this.elements=[new h.i.Ye(this.o,d)]};h.g.object.T(h.i.wm,h.i.ih);h.i.wm.prototype.measure=function(){};h.i.zi=function(a){h.i.zi.v.constructor.call(this,a);this.type|=h.i.m.Xs;this.ou=0};h.g.object.T(h.i.zi,h.i.ih);
h.i.zi.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,h.i.m.wf(d)&&(h.i.m.Nh(d)?a+=d.lk:h.i.m.Tk(d)&&0!=d.lk&&(a+=d.lk-d.ze)),h.i.m.dd(d)||(this.height=Math.max(this.height,d.height));this.ou=a;this.jd=this.width+a};h.i.zi.prototype.Ak=function(){return!this.pg&&!this.Gb};h.i.Nd=function(a,c){this.Ca=c;this.kb=a;this.o=this.kb.aa();this.P=c.P?new h.i.So(this.o,c.P):null;this.jj=Va(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.xd=c.xd();this.K=c.K;this.Qg=this.width=this.Ug=this.height=0;this.rows=[];this.tv=[];this.mv=[];this.Ib=new h.i.lh(this.o);this.gb=new h.i.Zg(this.o);this.bo=this.Ed=0};b=h.i.Nd.prototype;
b.measure=function(){var a=!!this.Ca.X,c=(this.Ca.He?"cap"===this.Ca.He:this.o.Xl)&&!this.P&&!a,d=this.Ib.Eq(this.Ca)?h.i.Hi:h.i.tm;this.Ib.elements.push(new d(this.o));c?(a=new h.i.Do(this.o),this.Ib.elements.push(a),this.Ib.hf=a.Ni):a&&(this.Ib.pB=!0,this.Ib.connection=new h.i.Vo(this.o,this.Ca.X),this.Ib.elements.push(this.Ib.connection));this.Ca.R.length&&this.Ca.R[0].type==h.Ja.Uc&&!this.Ca.isCollapsed()?this.Ib.minHeight=this.o.jz:this.Ib.minHeight=this.o.iz;d=h.i.Hi;this.Ib.elements.push(new d(this.o,
"right"));this.rows.push(this.Ib);a=new h.i.zi(this.o);this.tv.push(a);d=L(this.Ca);c=0;for(var e;e=d[c];c++){var f=new h.i.Ho(this.o,e);this.isCollapsed&&e.VG?this.mv.push(f):a.elements.push(f)}e=null;for(c=0;d=this.Ca.R[c];c++)if(d.isVisible()){!e||d.type!=h.Ja.Uc&&e.type!=h.Ja.Uc&&(d.type!=h.Ja.te&&d.type!=h.Ja.me||this.jj)||(this.rows.push(a),a=new h.i.zi(this.o),this.tv.push(a));for(e=0;f=d.Va[e];e++)a.elements.push(new h.i.kd(this.o,f,d));this.Ut(d,a);e=d}this.isCollapsed&&(a.fv=!0,a.elements.push(new h.i.Io(this.o)));
(a.elements.length||a.fj)&&this.rows.push(a);this.Dr();this.rows.push(this.gb);this.Tt();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)if(this.rows.push(a[c]),c!=a.length-1){d=this.rows;e=d.push;f=a[c];var g=a[c+1],k=new h.i.wm(this.o,this.$u(f,g),this.width-this.Ed);f.Gb&&(k.Mu=!0);g.Gb&&(k.MH=!0);e.call(d,k)}for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Gb&&(a=Math.max(a,f.width-W(f).width)),d=Math.max(d,f.jd);this.Qg=a;this.width=c;for(e=0;f=this.rows[e];e++)f.Gb&&(f.Qg=
this.Qg);this.Ug=Math.max(c,d);this.P&&(this.Ed=this.P.width,this.width+=this.P.width,this.Ug+=this.P.width);this.jp();this.Ju()};
b.Dr=function(){this.gb.gv=!!this.Ca.ba;this.gb.minHeight=this.Ca.R.length&&this.Ca.R[this.Ca.R.length-1].type==h.Ja.Uc?this.o.ex:this.o.gx;this.gb.Eq(this.Ca)?this.gb.elements.push(new h.i.Hi(this.o)):this.gb.elements.push(new h.i.tm(this.o));this.gb.gv&&(this.gb.connection=new h.i.Ro(this.o,this.Ca.ba),this.gb.elements.push(this.gb.connection));this.gb.elements.push(new h.i.Hi(this.o,"right"))};
b.Ut=function(a,c){this.jj&&a.type==h.Ja.te?(c.elements.push(new h.i.Qf(this.o,a)),c.Dq=!0):a.type==h.Ja.Uc?(c.elements.push(new h.i.Zf(this.o,a)),c.Gb=!0):a.type==h.Ja.te?(c.elements.push(new h.i.km(this.o,a)),c.pg=!0):a.type==h.Ja.me&&(c.minHeight=Math.max(c.minHeight,a.W()&&a.W().Fa?this.o.Dx:this.o.Ks),c.fj=!0);null==c.align&&(c.align=a.align)};
b.Tt=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.co()&&c.elements.push(new h.i.Ye(this.o,this.xh(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new h.i.Ye(this.o,this.xh(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.Ak()&&c.elements.push(new h.i.Ye(this.o,this.xh(d[d.length-1],null)))}}};
b.xh=function(a,c){if(!a&&c&&h.i.m.Nh(c))return this.o.yt;if(a&&h.i.m.wf(a)&&!c){if(h.i.m.Tk(a))return this.o.pe;if(h.i.m.vg(a))return this.o.uc;if(h.i.m.Nh(a))return this.o.pe}return a&&h.i.m.Uk(a)&&c&&(h.i.m.mj(c)||h.i.m.xg(c))?c.zd:a&&h.i.m.wg(a)&&c&&(h.i.m.mj(c)||h.i.m.xg(c))?c.zd-this.o.je:this.o.md};b.jp=function(){for(var a=0,c;c=this.rows[a];a++)if(c.Gb)Rc(this,c);else{var d=this.Ik(c)-c.width;0<d&&Sc(c,d);h.i.m.zv(c)&&(c.jd=c.width)}};b.Ik=function(){return this.width-this.Ed};
function Sc(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(h.i.m.dd(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(h.i.m.dd(f)){e=f;break a}e=null}if(a.pg||a.Gb)a.jd+=c;a.align==h.bb.Id.Md?e.width+=c:a.align==h.bb.Id.dm?(d.width+=c/2,e.width+=c/2):a.align==h.bb.Id.af?d.width+=c:e.width+=c;a.width+=c}
function Rc(a,c){var d=W(c),e=c.width-d.width,f=a.Qg;e=f-e;0<e&&Sc(c,e);e=c.width;f=a.Ik(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.jd=Math.max(c.width,a.Qg+c.ou)}b.$u=function(){return this.o.md};b.Ru=function(a,c){return h.i.m.dd(c)?a.Ab+c.height/2:h.i.m.pn(a)?(a=a.Ab+a.height-a.wk,h.i.m.xg(c)?a+c.height/2:a-c.height/2):h.i.m.vn(a)?h.i.m.Mh(c)?a.hf-c.height/2:a.hf+c.height/2:a.Ab+a.height/2};
function Tc(a,c){for(var d=c.na,e=0,f;f=c.elements[e];e++)h.i.m.dd(f)&&(f.height=c.height),f.na=d,f.gg=a.Ru(c,f),d+=f.width}b.Ju=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.Ab=c,e.na=this.Ed,c+=e.height,a=Math.max(a,e.jd),Tc(this,e);this.P&&this.Ca.ba&&this.Ca.ba.isConnected()&&(a=Math.max(a,v(this.Ca.ba.ua()).width));this.Ug=a+this.Ed;this.height=c;this.bo=this.Ib.hf;this.gb.Od=c-this.gb.wk};h.i.Cc=function(a){this.Sd=[];this.Re=null;this.o=a};h.i.Cc.ye={RC:!0,BA:!0,rows:!0,CA:!0,su:!0,Jz:!0,nu:!0,Ea:!0};
function Uc(a,c,d){if(h.i.Cc.ye.CA){var e=c.na;d&&(e=-(e+c.width));d=c.gg-c.height/2;a.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"rowRenderingRect blockRenderDebug",x:e,y:d,width:c.width,height:c.height,stroke:"black",fill:"none","stroke-width":"1px"},a.Re));h.i.m.Ke(c)&&c.Zi instanceof h.Rc&&a.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"rowRenderingRect blockRenderDebug",x:e,y:d+a.o.zo,width:c.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},a.Re))}h.i.m.wf(c)&&h.i.Cc.ye.su&&Vc(a,c.dc)}
function Vc(a,c){if(h.i.Cc.ye.su){if(c.type==h.U.Ob){var d=4;var e="magenta";var f="none"}else c.type==h.U.Dc?(d=2,f=e="magenta"):c.type==h.U.Pb?(d=4,e="goldenrod",f="none"):c.type==h.U.Tc&&(d=2,f=e="goldenrod");a.Sd.push(h.g.j.M(h.g.F.Cs,{"class":"blockRenderDebug",cx:c.Af.x,cy:c.Af.y,r:d,fill:f,stroke:e},a.Re))}}
function Wc(a,c,d){for(var e=0,f;f=a.Sd[e];e++)h.g.j.removeNode(f);a.Sd=[];a.Re=c.za();a.rC="#"+Math.floor(16777215*Math.random()).toString(16);f=e=0;for(var g;g=d.rows[f];f++){if(h.i.m.zB(g)){var k=e;if(h.i.Cc.ye.RC){var l=Math.abs(g.height),m=0>g.height;m&&(k-=l);a.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"rowSpacerRect blockRenderDebug",x:d.K?-(g.na+g.width):g.na,y:k,width:g.width,height:l,stroke:m?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},a.Re))}}else{m=a;l=g;k=d.K;for(var n=
0,q=l.elements.length;n<q;n++){var r=l.elements[n];if(r)if(h.i.m.dd(r)){if(h.i.Cc.ye.BA){var t=Math.abs(r.width),G=0>r.width,M=G?r.na-t:r.na;k&&(M=-(M+t));m.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"elemSpacerRect blockRenderDebug",x:M,y:r.gg-r.height/2,width:t,height:r.height,stroke:"pink",fill:G?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},m.Re))}}else Uc(m,r,k);else console.warn("A row has an undefined or null element.",l,r)}h.i.Cc.ye.rows&&(m.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"elemRenderingRect blockRenderDebug",
x:k?-(l.na+l.width):l.na,y:l.Ab,width:l.width,height:l.height,stroke:"red",fill:"none","stroke-width":"1px"},m.Re)),h.i.m.zv(l)||h.i.Cc.ye.nu&&m.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"connectedBlockWidth blockRenderDebug",x:k?-(l.na+l.jd):l.na,y:l.Ab,width:l.jd,height:l.height,stroke:m.rC,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},m.Re)))}e+=g.height}c.X&&Vc(a,c.X);c.ba&&Vc(a,c.ba);c.P&&Vc(a,c.P);d.QC&&Uc(a,d.QC,d.K);h.i.Cc.ye.Jz&&(e=d.K?-d.width:0,a.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"blockBoundingBox blockRenderDebug",
x:e,y:0,width:d.width,height:d.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},a.Re)),h.i.Cc.ye.nu&&(e=d.K?-d.Ug:0,a.Sd.push(h.g.j.M(h.g.F.Tb,{"class":"blockRenderDebug",x:e,y:0,width:d.Ug,height:d.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},a.Re))));Xc(a,c.cb.ub)}function Xc(a,c){h.i.Cc.ye.Ea&&(c.setAttribute("filter","url(#"+a.o.zu+")"),setTimeout(function(){c.setAttribute("filter","")},100))};h.i.qc=function(a,c){this.Ca=a;this.ma=c;a.ab();this.on=this.Ga="";this.o=c.kb.aa()};b=h.i.qc.prototype;b.draw=function(){Yc(this);Zc(this);$c(this);this.Ca.cb.Ur(this.Ga+"\n"+this.on);this.ma.K&&this.Ca.cb.kq();h.i.Tl&&Wc(this.Ca.Nr,this.Ca,this.ma);ad(this)};function ad(a){a.Ca.height=a.ma.height;a.Ca.width=a.ma.Ug}function Yc(a){for(var c=0,d;d=a.ma.mv[c];c++)d.icon.tB.setAttribute("display","none")}
function Zc(a){a.fq();for(var c=1;c<a.ma.rows.length-1;c++){var d=a.ma.rows[c];d.fv?a.yk(d):d.Gb?a.eq(d):d.pg?a.gq(d):a.Hu(d)}a.aq();a.cq()}
b.fq=function(){var a=this.ma.Ib,c=a.elements,d=this.ma.Ib;if(d.connection){var e=d.na+d.zd;P(d.connection.dc,this.ma.K?-e:e,0)}this.Ga+=h.g.s.moveBy(a.na,this.ma.bo);for(d=0;e=c[d];d++)h.i.m.wg(e)?this.Ga+=this.o.Wj.hs:h.i.m.xv(e)?this.Ga+=this.o.Wj.pD:h.i.m.mj(e)?this.Ga+=e.shape.Hg:h.i.m.Mh(e)?this.Ga+=this.o.Gi.path:h.i.m.dd(e)&&(this.Ga+=h.g.s.V("h",e.width));this.Ga+=h.g.s.V("v",a.height)};b.yk=function(a){this.Ga+=this.o.Ai.path+h.g.s.V("v",a.height-this.o.Ai.height)};
b.gq=function(a){var c=W(a);this.iw(a);var d="function"==typeof c.shape.Bd?c.shape.Bd(c.height):c.shape.Bd;this.Ga+=h.g.s.V("H",c.na+c.width)+d+h.g.s.V("v",a.height-c.Si)};b.eq=function(a){var c=W(a);this.Ga+=h.g.s.V("H",c.na+c.zd+c.shape.width)+(c.shape.dw+h.g.s.V("h",-(c.zd-this.o.pm.width))+this.o.pm.Cr)+h.g.s.V("v",a.height-2*this.o.pm.height)+this.o.pm.On+h.g.s.V("H",a.na+a.width);this.lw(a)};b.Hu=function(a){this.Ga+=h.g.s.V("V",a.Ab+a.height)};
b.aq=function(){var a=this.ma.gb,c=a.elements;this.kw();for(var d=0,e="",f=c.length-1,g;g=c[f];f--)h.i.m.xg(g)?e+=g.shape.dw:h.i.m.Uk(g)?e+=h.g.s.V("H",a.na):h.i.m.wg(g)?e+=this.o.Wj.sp:h.i.m.xv(g)?(e+=this.o.Wj.Kz,d=this.o.Wj.PC):h.i.m.dd(g)&&(e+=h.g.s.V("h",-1*g.width));this.Ga+=h.g.s.V("V",a.Od-d);this.Ga+=e};
b.cq=function(){var a=this.ma.P;if(this.ma.P){var c=this.ma.Ed+this.ma.P.mk;P(this.Ca.P,this.ma.K?-c:c,this.ma.P.Yc)}a&&(c=a.Yc+a.height,a="function"==typeof a.shape.ml?a.shape.ml(a.height):a.shape.ml,this.Ga+=h.g.s.V("V",c)+a);this.Ga+="z"};
function $c(a){for(var c=0,d;d=a.ma.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(h.i.m.vg(f))a.bq(f);else if(h.i.m.ij(f)||h.i.m.Ke(f)){var g=a;if(h.i.m.Ke(f))var k=f.Zi.za();else h.i.m.ij(f)&&(k=f.icon.tB);var l=f.gg-f.height/2,m=f.na,n="";g.ma.K&&(m=-(m+f.width),f.JA&&(m+=f.width,n="scale(-1 1)"));h.i.m.ij(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),f.icon.eA()):k.setAttribute("transform","translate("+m+","+l+")"+n);g.ma.xd&&k.setAttribute("display",
"none")}}b.bq=function(a){var c=a.width,d=a.height,e=a.Yc,f=a.Si+e;this.on+=h.g.s.moveTo(a.na+a.ze,a.gg-d/2)+h.g.s.V("v",e)+a.shape.Bd+h.g.s.V("v",d-f)+h.g.s.V("h",c-a.ze)+h.g.s.V("v",-d)+"z";this.jw(a)};b.jw=function(a){var c=a.gg-a.height/2;if(a.dc){var d=a.na+a.ze+a.mk;this.ma.K&&(d*=-1);P(a.dc,d,c+a.Yc)}};b.lw=function(a){var c=W(a);if(c.dc){var d=a.na+a.Qg+c.zd;this.ma.K&&(d*=-1);P(c.dc,d,a.Ab)}};b.iw=function(a){var c=W(a);if(c.dc){var d=a.na+a.width;this.ma.K&&(d*=-1);P(c.dc,d,a.Ab)}};
b.kw=function(){var a=this.ma.gb;if(a.connection){var c=a.connection,d=c.na;P(c.dc,this.ma.K?-d:d,a.Od)}};h.h.Rf=function(a,c,d,e){var f=a?a.A.id:void 0;e&&e.getType()==h.D.types.Fc&&(f=e.Aa.id);h.h.Rf.v.constructor.call(this,f);this.Za=a?a.id:null;this.Vv=d;this.Rv=e;this.Je=c};h.g.object.T(h.h.Rf,h.h.se);h.h.Rf.prototype.type=h.h.Mo;h.h.Rf.prototype.pa=function(){var a=h.h.Rf.v.pa.call(this);a.isCursor=this.Je;a.blockId=this.Za;a.oldNode=this.Vv;a.newNode=this.Rv;return a};h.h.Rf.prototype.$=function(a){h.h.Rf.v.$.call(this,a);this.Je=a.isCursor;this.Za=a.blockId;this.Vv=a.oldNode;this.Rv=a.newNode};
h.u.register(h.u.N.Bb,h.h.Mo,h.h.Rf);h.i.Sf=function(a,c,d){this.C=a;this.$q=d;this.ll=null;this.o=c;this.Ui=null;a=this.Je()?this.o.hm:this.o.qm;this.rd=d.hb||a};h.i.Sf.nx="blocklyCursor";h.i.Sf.yy="blocklyMarker";h.i.Sf.by=.75;b=h.i.Sf.prototype;b.za=function(){return this.sa};b.Jk=function(){return this.$q};b.Je=function(){return"cursor"==this.$q.type};
b.ib=function(){var a=this.Je()?h.i.Sf.nx:h.i.Sf.yy;this.sa=h.g.j.M(h.g.F.Sc,{"class":a},null);this.zf=h.g.j.M(h.g.F.Sc,{width:this.o.jm,height:this.o.Mt},this.sa);this.Ag=h.g.j.M(h.g.F.Tb,{width:this.o.jm,height:this.o.Mt,style:"display: none"},this.zf);this.Sh=h.g.j.M(h.g.F.Tb,{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.zf);this.Rh=h.g.j.M(h.g.F.Ze,{transform:"",style:"display: none"},this.zf);this.yf=h.g.j.M(h.g.F.Ze,{transform:"",style:"display: none",fill:"none",
"stroke-width":this.o.ox},this.zf);this.Je()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.rd+";transparent;transparent;",repeatCount:"indefinite"},h.g.j.M(h.g.F.mo,a,this.Ag),h.g.j.M(h.g.F.mo,a,this.Rh),a.attributeName="stroke",h.g.j.M(h.g.F.mo,a,this.yf));return this.sa};function bd(a,c){a.Je()?(a.ll&&a.ll.Cf(null),c.Cf(a.za())):(a.ll&&a.ll.Ng(null),c.Ng(a.za()));a.ll=c}
b.draw=function(a,c){if(c){this.o=this.C.kb.aa();var d=this.Je()?this.o.hm:this.o.qm;this.rd=this.$q.hb||d;this.Ag.setAttribute("fill",this.rd);this.Sh.setAttribute("stroke",this.rd);this.Rh.setAttribute("fill",this.rd);this.yf.setAttribute("stroke",this.rd);this.Je()&&(d=this.rd+";transparent;transparent;",this.Ag.firstChild.setAttribute("values",d),this.Rh.firstChild.setAttribute("values",d),this.yf.firstChild.setAttribute("values",d));d=c.Aa.type;if(c.getType()==h.D.types.Kb)cd(this,c);else if(c.getType()==
h.D.types.hh)cd(this,c);else if(d==h.U.Ob){var e=c.Aa;d=e.W();var f=e.Af.x,g=e.Af.y;e=h.g.s.moveTo(0,0)+ab(this.o,e).Bd;this.Rh.setAttribute("d",e);this.Rh.setAttribute("transform","translate("+f+","+g+")"+(this.C.K?" scale(-1 1)":""));this.Ui=this.Rh;bd(this,d);dd(this)}else if(d==h.U.Pb)g=c.Aa,d=g.W(),f=0,g=g.Af.y,e=v(d).width,this.C.K&&(f=-e),ed(this,f,g,e),bd(this,d),dd(this);else if(c.getType()==h.D.types.Xf)cd(this,c);else if(c.getType()==h.D.types.rc)d=c.Aa,f=d.sf().width,g=d.sf().height,fd(this,
0,0,f,g),bd(this,d),dd(this);else if(c.getType()==h.D.types.Fc)f=c.Tw,d=f.x,f=f.y,this.C.K&&(d-=this.o.jm),ed(this,d,f,this.o.jm),bd(this,this.C),dd(this);else if(c.getType()==h.D.types.jh){d=c.Aa;g=v(d);f=g.width+this.o.im;g=g.height+this.o.im;var k=e=-this.o.im/2,l=-this.o.im/2;this.C.K&&(k=-(f+e));fd(this,k,l,f,g);bd(this,d);dd(this)}d=c.W();a=new (h.h.get(h.h.Mo))(d,this.Je(),a,c);h.h.Ia(a);a=this.Ui.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.sb()};
function cd(a,c){c=c.W();var d=c.width,e=c.height,f=e*h.i.Sf.by,g=a.o.mx;if(c.X){var k=ab(a.o,c.X);e=k;d=h.g.s.moveBy(-g,f)+h.g.s.V("V",-g)+h.g.s.V("H",a.o.Vj)+e.Hg+h.g.s.V("H",d+2*g)+h.g.s.V("V",f);a.yf.setAttribute("d",d)}else c.P?(f=k=ab(a.o,c.P),d=h.g.s.moveBy(d,0)+h.g.s.V("h",-(d-f.width))+h.g.s.V("v",a.o.Ii)+f.Bd+h.g.s.V("V",e)+h.g.s.V("H",d),a.yf.setAttribute("d",d)):(d=h.g.s.moveBy(-g,f)+h.g.s.V("V",-g)+h.g.s.V("H",d+2*g)+h.g.s.V("V",f),a.yf.setAttribute("d",d));a.C.K&&a.Ek(a.yf);a.Ui=a.yf;
bd(a,c);dd(a)}function dd(a){a.sb();a.Ui.style.display=""}function ed(a,c,d,e){a.Ag.setAttribute("x",c);a.Ag.setAttribute("y",d);a.Ag.setAttribute("width",e);a.Ui=a.Ag}function fd(a,c,d,e,f){a.Sh.setAttribute("x",c);a.Sh.setAttribute("y",d);a.Sh.setAttribute("width",e);a.Sh.setAttribute("height",f);a.Ui=a.Sh}b.Ek=function(a){a.setAttribute("transform","scale(-1 1)")};b.sb=function(){this.Ag.style.display="none";this.Sh.style.display="none";this.Rh.style.display="none";this.yf.style.display="none"};
b.H=function(){this.sa&&h.g.j.removeNode(this.sa)};h.i.$e=function(a,c,d){this.bb=d;this.Qe=a;this.ub=h.g.j.M(h.g.F.Ze,{"class":"blocklyPath"},this.Qe);this.style=c;this.Zq=this.vk=null};b=h.i.$e.prototype;b.Ur=function(a){this.ub.setAttribute("d",a)};b.kq=function(){this.ub.setAttribute("transform","scale(-1 1)")};b.Cf=function(a){a?(this.Qe.appendChild(a),this.vk=a):this.vk=null};b.Ng=function(a){a?(this.vk?this.Qe.insertBefore(a,this.vk):this.Qe.appendChild(a),this.Zq=a):this.Zq=null};
b.Vb=function(a){this.ub.setAttribute("stroke",this.style.Ri);this.ub.setAttribute("fill",this.style.ph);this.Lw(a.Fa);this.ls(!a.isEnabled()||Jb(a))};b.di=function(a){this.style=a};function K(a,c,d){d?h.g.j.Cb(a.Qe,c):h.g.j.Mc(a.Qe,c)}b.Jw=function(a){a?this.ub.setAttribute("filter","url(#"+this.bb.an+")"):this.ub.setAttribute("filter","none")};b.Lw=function(a){a&&(this.ub.setAttribute("stroke","none"),this.ub.setAttribute("fill",this.style.Km))};
b.ls=function(a){K(this,"blocklyDisabled",a);a&&this.ub.setAttribute("fill","url(#"+this.bb.Du+")")};function Ub(a,c){K(a,"blocklySelected",c)};h.i.bf=function(a){this.name=a;this.zr=this.o=null};b=h.i.bf.prototype;b.Td=function(){return this.name+"-renderer"};b.Wa=function(a,c){this.o=this.Uq();c&&(this.zr=c,h.g.object.Bg(this.o,c));this.o.Al(a);this.o.Wa()};b.ib=function(a,c){this.o.ib(a,this.name+"-"+c.name,"."+this.Td()+"."+c.Td())};b.Gr=function(a,c){var d=this.aa();d.H();this.o=this.Uq();this.zr&&h.g.object.Bg(this.o,this.zr);this.o.ul=d.ul;this.o.Al(c);this.o.Wa();this.ib(a,c)};b.H=function(){this.o&&this.o.H()};b.Uq=function(){return new h.i.Xe};
b.Iv=function(a){return new h.i.Nd(this,a)};b.Gv=function(a,c){return new h.i.qc(a,c)};b.Hv=function(a,c){return new h.i.$e(a,c,this.o)};b.aa=function(){return this.o};b.Ea=function(a){if(h.i.Tl&&!a.Nr){if(!h.i.Cc)throw Error("Missing require for Blockly.blockRendering.Debug");var c=new h.i.Cc(this.aa());a.Nr=c}c=this.Iv(a);c.measure();this.Gv(a,c).draw()};h.Z={};h.Z.Xe=function(){h.Z.Xe.v.constructor.call(this);this.Ao=!1;this.Sb=1;this.zy=30;this.wt=-this.Qo/2};h.g.object.T(h.Z.Xe,h.i.Xe);h.Z.Xe.prototype.nq=function(a){return h.Z.Xe.v.nq.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.om+";","stroke: none;","}"])};h.Z.Us=function(a){this.ma=a;this.Pk=this.ga="";this.Ub=this.ma.K;a=a.kb;this.o=a.aa();this.$c=a.$c;this.Kc=this.$c.OFFSET;this.yr=this.$c.Jy;this.hj=this.$c.oy;this.tl=this.$c.Uo;this.YB=this.$c.Ci;this.fD=this.$c.Gi;this.Bv=this.$c.Ai};h.Z.Us.prototype.yk=function(a){this.ma.K&&(this.ga+=this.Bv.Hg+h.g.s.V("v",a.height-this.Bv.height-this.Kc))};
function gd(a,c){var d=c.na+c.width-a.Kc;c.Mu&&(a.ga+=h.g.s.V("H",d));a.Ub&&(a.ga+=h.g.s.V("H",d),c.height>a.Kc&&(a.ga+=h.g.s.V("V",c.Ab+c.height-a.Kc)))};h.Z.Qf=function(a,c){h.Z.Qf.v.constructor.call(this,a,c);this.hg&&(this.width+=this.o.Sb,this.height+=this.o.Sb)};h.g.object.T(h.Z.Qf,h.i.Qf);h.Z.Zf=function(a,c){h.Z.Zf.v.constructor.call(this,a,c);this.hg&&(this.height+=this.o.Sb)};h.g.object.T(h.Z.Zf,h.i.Zf);h.Z.Nd=function(a,c){h.Z.Nd.v.constructor.call(this,a,c)};h.g.object.T(h.Z.Nd,h.i.Nd);b=h.Z.Nd.prototype;b.Dr=function(){h.Z.Nd.v.Dr.call(this);this.Ca.R.length&&this.Ca.R[this.Ca.R.length-1].type==h.Ja.Uc||(this.gb.minHeight=this.o.md-this.o.Sb)};
b.Ut=function(a,c){this.jj&&a.type==h.Ja.te?(c.elements.push(new h.Z.Qf(this.o,a)),c.Dq=!0):a.type==h.Ja.Uc?(c.elements.push(new h.Z.Zf(this.o,a)),c.Gb=!0):a.type==h.Ja.te?(c.elements.push(new h.i.km(this.o,a)),c.pg=!0):a.type==h.Ja.me&&(c.minHeight=Math.max(c.minHeight,this.o.Ks),c.fj=!0);this.jj||null!=c.align||(c.align=a.align)};
b.Tt=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.pg&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.co()&&d.elements.push(new h.i.Ye(this.o,this.xh(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var g=this.xh(e[f],e[f+1]);d.elements.push(new h.i.Ye(this.o,g))}d.elements.push(e[e.length-1]);d.Ak()&&(g=this.xh(e[e.length-1],null),a&&d.fj&&(g+=this.o.$o),d.elements.push(new h.i.Ye(this.o,g)))}}};
b.xh=function(a,c){if(!a)return c&&h.i.m.Ke(c)&&c.wd?this.o.md:c&&h.i.m.vg(c)?this.o.ft:c&&h.i.m.Nh(c)?this.o.yt:this.o.uc;if(!h.i.m.wf(a)&&(!c||h.i.m.Nh(c)))return h.i.m.Ke(a)&&a.wd?this.o.md:h.i.m.ij(a)?2*this.o.uc+1:h.i.m.Mh(a)?this.o.pe:h.i.m.EB(a)?this.o.uc:h.i.m.wg(a)?this.o.Cy:h.i.m.vv(a)?this.o.pe:this.o.uc;if(h.i.m.wf(a)&&!c){if(h.i.m.Tk(a))return this.o.pe;if(h.i.m.vg(a))return this.o.uc;if(h.i.m.Nh(a))return this.o.pe}if(!h.i.m.wf(a)&&c&&h.i.m.wf(c)){if(h.i.m.Ke(a)&&a.wd){if(h.i.m.vg(c)||
h.i.m.Tk(c))return this.o.$y}else{if(h.i.m.vg(c)||h.i.m.Tk(c))return this.o.ft;if(h.i.m.Nh(c))return this.o.uc}return this.o.uc-1}if(h.i.m.ij(a)&&c&&!h.i.m.wf(c))return this.o.uc;if(h.i.m.vg(a)&&c&&h.i.m.Ke(c))return c.wd?this.o.md:this.o.uc;if(h.i.m.Uk(a)&&c){if(h.i.m.Mh(c))return this.o.pe;if(h.i.m.mj(c))return c.zd;if(h.i.m.xg(c))return a=(this.K?1:-1)*this.o.Sb/2,c.zd+a}if(h.i.m.wg(a)&&c){if(h.i.m.mj(c))return c.zd-this.o.je;if(h.i.m.xg(c))return a=(this.K?1:-1)*this.o.Sb/2,c.zd-this.o.je+a}return h.i.m.Ke(a)&&
c&&h.i.m.Ke(c)&&a.wd==c.wd||c&&h.i.m.vv(c)?this.o.uc:this.o.md};b.$u=function(a,c){return h.i.m.vn(a)&&h.i.m.pn(c)?this.o.Ex:h.i.m.vn(a)||h.i.m.pn(c)?this.o.pe:a.pg&&c.pg?this.o.uc:!a.Gb&&c.Gb?this.o.bx:a.Gb&&c.Gb||!a.Gb&&c.fj||a.fj?this.o.uc:this.o.md};
b.Ru=function(a,c){if(h.i.m.dd(c))return a.Ab+c.height/2;if(h.i.m.pn(a))return a=a.Ab+a.height-a.wk,h.i.m.xg(c)?a+c.height/2:a-c.height/2;if(h.i.m.vn(a))return h.i.m.Mh(c)?a.hf-c.height/2:a.hf+c.height/2;var d=a.Ab;h.i.m.Ke(c)||h.i.m.ij(c)?(d+=c.height/2,(a.Dq||a.Gb)&&c.height+this.o.At<=a.height&&(d+=this.o.At)):d=h.i.m.vg(c)?d+c.height/2:d+a.height/2;return d};
b.jp=function(){if(this.jj){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.ir=a,h.i.m.AB(e)&&(e.Gb&&Rc(this,e),c&&c.Gb&&e.width<c.width?e.ir=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.Gb?a=this.Ik(e):h.i.m.dd(e)?e.width=Math.max(a,e.ir):(a=Math.max(a,e.ir)-e.width,0<a&&Sc(e,a),a=e.width)}else h.Z.Nd.v.jp.call(this)};b.Ik=function(a){return this.jj&&a.Gb?this.Qg+this.o.zy+this.Ed:h.Z.Nd.v.Ik.call(this,a)};
b.Ju=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.Ab=c;e.na=this.Ed;c+=e.height;a=Math.max(a,e.jd);var f=c-this.Ib.Ni;e==this.gb&&f<this.o.Rj&&(f=this.o.Rj-f,this.gb.height+=f,c+=f);Tc(this,e)}this.P&&this.Ca.ba&&this.Ca.ba.isConnected()&&(a=Math.max(a,v(this.Ca.ba.ua()).width-this.o.Sb));this.gb.Od=c-this.gb.wk;this.Ug=a+this.Ed+this.o.Sb;this.width+=this.o.Sb;this.height=c+this.o.Sb;this.bo=this.Ib.hf};h.Z.qc=function(a,c){h.Z.qc.v.constructor.call(this,a,c);this.Ie=new h.Z.Us(c)};h.g.object.T(h.Z.qc,h.i.qc);b=h.Z.qc.prototype;b.draw=function(){Yc(this);Zc(this);$c(this);var a=this.Ca.cb;a.Ur(this.Ga+"\n"+this.on);var c=this.Ie;a.ei.setAttribute("d",c.ga+"\n"+c.Pk);this.ma.K&&a.kq();h.i.Tl&&Wc(this.Ca.Nr,this.Ca,this.ma);ad(this)};
b.fq=function(){var a=this.Ie,c=this.ma.Ib;a.ga+=h.g.s.moveBy(c.na,a.ma.bo);for(var d=0,e;e=c.elements[d];d++)h.i.m.Uk(e)?a.ga+=a.$c.vt:h.i.m.wg(e)?a.ga+=a.yr.hs(a.Ub):h.i.m.mj(e)?a.ga+=a.YB.Hg:h.i.m.Mh(e)?a.ga+=a.fD.path(a.Ub):h.i.m.dd(e)&&0!=e.width&&(a.ga+=h.g.s.V("H",e.na+e.width-a.Kc));a.ga+=h.g.s.V("H",c.na+c.width-a.Kc);gd(this.Ie,this.ma.Ib);h.Z.qc.v.fq.call(this)};b.yk=function(a){this.Ie.yk(a);h.Z.qc.v.yk.call(this,a)};
b.gq=function(a){var c=this.Ie,d=W(a);if(c.Ub){var e=a.height-d.Si;c.ga+=h.g.s.moveTo(d.na+d.width-c.Kc,a.Ab)+c.tl.Bd(c.Ub)+h.g.s.V("v",e)}else c.ga+=h.g.s.moveTo(d.na+d.width,a.Ab)+c.tl.Bd(c.Ub);h.Z.qc.v.gq.call(this,a)};
b.eq=function(a){var c=this.Ie,d=W(a);if(c.Ub){var e=a.height-2*c.hj.height;c.ga+=h.g.s.moveTo(d.na,a.Ab)+c.hj.Cr(c.Ub)+h.g.s.V("v",e)+c.hj.On(c.Ub)+h.g.s.lineTo(a.width-d.na-c.hj.width,0)}else c.ga+=h.g.s.moveTo(d.na,a.Ab+a.height)+c.hj.On(c.Ub)+h.g.s.lineTo(a.width-d.na-c.hj.width,0);h.Z.qc.v.eq.call(this,a)};b.Hu=function(a){gd(this.Ie,a);this.Ga+=h.g.s.V("H",a.na+a.width)+h.g.s.V("V",a.Ab+a.height)};
b.aq=function(){var a=this.Ie,c=this.ma.gb;if(a.Ub)a.ga+=h.g.s.V("V",c.Od-a.Kc);else{var d=a.ma.gb.elements[0];h.i.m.Uk(d)?a.ga+=h.g.s.moveTo(c.na+a.Kc,c.Od-a.Kc):h.i.m.wg(d)&&(a.ga+=h.g.s.moveTo(c.na,c.Od),a.ga+=a.yr.sp())}h.Z.qc.v.aq.call(this)};
b.cq=function(){var a=this.Ie,c=a.ma.P;c&&(c=c.Yc+c.height,a.Ub?a.ga+=h.g.s.moveTo(a.ma.Ed,c):(a.ga+=h.g.s.moveTo(a.ma.Ed+a.Kc,a.ma.gb.Od-a.Kc),a.ga+=h.g.s.V("V",c)),a.ga+=a.tl.ml(a.Ub));a.Ub||(c=a.ma.Ib,a.ga=h.i.m.wg(c.elements[0])?a.ga+h.g.s.V("V",a.yr.height):a.ga+h.g.s.V("V",c.hf+a.Kc));h.Z.qc.v.cq.call(this)};
b.bq=function(a){var c=this.Ie,d=c.Kc,e=a.na+a.ze,f=a.gg-a.height/2,g=a.width-a.ze,k=f+d;if(c.Ub){f=a.Yc-d;var l=a.height-(a.Yc+a.Si)+d;c.Pk+=h.g.s.moveTo(e-d,k)+h.g.s.V("v",f)+c.tl.Bd(c.Ub)+h.g.s.V("v",l)+h.g.s.V("h",g)}else c.Pk+=h.g.s.moveTo(a.na+a.width+d,k)+h.g.s.V("v",a.height)+h.g.s.V("h",-g)+h.g.s.moveTo(e,f+a.Yc)+c.tl.Bd(c.Ub);h.Z.qc.v.bq.call(this,a)};b.jw=function(a){var c=a.gg-a.height/2;if(a.dc){var d=a.na+a.ze+this.o.Sb;this.ma.K&&(d*=-1);P(a.dc,d,c+a.Yc+this.o.Sb)}};
b.lw=function(a){var c=W(a);if(c.dc){var d=a.na+a.Qg+c.zd;d=this.ma.K?-1*d:d+this.o.Sb;P(c.dc,d,a.Ab+this.o.Sb)}};b.iw=function(a){var c=W(a);if(c.dc){var d=a.na+a.width+this.o.Sb;this.ma.K&&(d*=-1);P(c.dc,d,a.Ab)}};b.kw=function(){var a=this.ma.gb;if(a.connection){var c=a.connection,d=c.na;P(c.dc,(this.ma.K?-d:d)+this.o.Sb/2,a.Od+this.o.Sb)}};h.Z.Ts=function(a){this.Ti=a;this.OFFSET=.5;this.vt=h.g.s.moveBy(this.OFFSET,this.OFFSET)};b=h.Z.Ts.prototype;b.Wa=function(){this.oy=hd(this);this.Jy=id(this);this.Uo=this.Xq();this.Ci=this.Wq();this.Ai=this.Vq();this.Gi=this.Yq()};
function hd(a){var c=a.Ti.je;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c+a)-a,e=h.g.s.moveBy(d,d)+h.g.s.arc("a","0 0,0",c,h.g.s.Da(-d-a,c-d)),f=h.g.s.arc("a","0 0,0",c+a,h.g.s.Da(c+a,c+a)),g=h.g.s.moveBy(d,-d)+h.g.s.arc("a","0 0,0",c+a,h.g.s.Da(c-d,d+a));return{width:c+a,height:c,Cr:function(k){return k?e:""},On:function(k){return k?f:g}}}
function id(a){var c=a.Ti.je;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c-a)+a,e=h.g.s.moveBy(d,d)+h.g.s.arc("a","0 0,1",c-a,h.g.s.Da(c-d,-d+a)),f=h.g.s.moveBy(a,c)+h.g.s.arc("a","0 0,1",c-a,h.g.s.Da(c,-c+a)),g=-d,k=h.g.s.moveBy(d,g)+h.g.s.arc("a","0 0,1",c-a,h.g.s.Da(-d+a,-g-c));return{height:c,hs:function(l){return l?e:f},sp:function(){return k}}}
b.Xq=function(){var a=this.Ti.$o,c=this.Ti.Zj,d=h.g.s.moveBy(-2,-c+3.4)+h.g.s.lineTo(-.45*a,-2.1),e=h.g.s.V("v",2.5)+h.g.s.moveBy(.97*-a,2.5)+h.g.s.curve("q",[h.g.s.Da(.05*-a,10),h.g.s.Da(.3*a,9.5)])+h.g.s.moveBy(.67*a,-1.9)+h.g.s.V("v",2.5),f=h.g.s.V("v",-1.5)+h.g.s.moveBy(-.92*a,-.5)+h.g.s.curve("q",[h.g.s.Da(-.19*a,-5.5),h.g.s.Da(0,-11)])+h.g.s.moveBy(.92*a,1),g=h.g.s.moveBy(-5,c-.7)+h.g.s.lineTo(.46*a,-2.1);return{width:a,height:c,ml:function(k){return k?d:f},Bd:function(k){return k?e:g}}};
b.Wq=function(){return{Hg:h.g.s.V("h",this.OFFSET)+this.Ti.Ci.Hg}};b.Vq=function(){return{Hg:h.g.s.lineTo(5.1,2.6)+h.g.s.moveBy(-10.2,6.8)+h.g.s.lineTo(5.1,2.6),height:12,width:10.2}};b.Yq=function(){var a=this.Ti.Gi.height,c=h.g.s.moveBy(25,-8.7)+h.g.s.curve("c",[h.g.s.Da(29.7,-6.2),h.g.s.Da(57.2,-.5),h.g.s.Da(75,8.7)]),d=h.g.s.curve("c",[h.g.s.Da(17.8,-9.2),h.g.s.Da(45.3,-14.9),h.g.s.Da(75,-8.7)])+h.g.s.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};h.Z.$e=function(a,c,d){this.bb=d;this.Qe=a;this.Ll=h.g.j.M(h.g.F.Ze,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.Qe);this.ub=h.g.j.M(h.g.F.Ze,{"class":"blocklyPath"},this.Qe);this.ei=h.g.j.M(h.g.F.Ze,{"class":"blocklyPathLight"},this.Qe);this.Ep="#000000";this.style=c};h.g.object.T(h.Z.$e,h.i.$e);b=h.Z.$e.prototype;b.Ur=function(a){this.ub.setAttribute("d",a);this.Ll.setAttribute("d",a)};
b.kq=function(){this.ub.setAttribute("transform","scale(-1 1)");this.ei.setAttribute("transform","scale(-1 1)");this.Ll.setAttribute("transform","translate(1,1) scale(-1 1)")};b.Vb=function(a){this.ei.style.display="";this.Ll.style.display="";this.ei.setAttribute("stroke",this.style.Ri);this.Ll.setAttribute("fill",this.Ep);h.Z.$e.v.Vb.call(this,a);this.ub.setAttribute("stroke","none")};b.di=function(a){this.style=a;this.Ep=h.g.hb.pp("#000",this.style.ph,.2)||this.Ep};
b.Jw=function(a){a?(this.ub.setAttribute("filter","url(#"+this.bb.an+")"),this.ei.style.display="none"):(this.ub.setAttribute("filter","none"),this.ei.style.display="inline")};b.Lw=function(a){a&&(this.ei.style.display="none",this.Ll.setAttribute("fill",this.style.Km),this.ub.setAttribute("stroke","none"),this.ub.setAttribute("fill",this.style.Km))};b.ls=function(a){h.Z.$e.v.ls.call(this,a);a&&this.ub.setAttribute("stroke","none")};h.Z.bf=function(a){h.Z.bf.v.constructor.call(this,a);this.$c=null};h.g.object.T(h.Z.bf,h.i.bf);b=h.Z.bf.prototype;b.Wa=function(a,c){h.Z.bf.v.Wa.call(this,a,c);this.$c=new h.Z.Ts(this.aa());this.$c.Wa()};b.Gr=function(a,c){h.Z.bf.v.Gr.call(this,a,c);this.$c.Wa()};b.Uq=function(){return new h.Z.Xe};b.Iv=function(a){return new h.Z.Nd(this,a)};b.Gv=function(a,c){return new h.Z.qc(a,c)};b.Hv=function(a,c){return new h.Z.$e(a,c,this.aa())};h.i.register("geras",h.Z.bf);h.L.ADD_COMMENT="Add Comment";h.L.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";h.L.CLEAN_UP="Clean up Blocks";h.L.COLLAPSE_ALL="Collapse Blocks";h.L.COLLAPSE_BLOCK="Collapse Block";h.L.DELETE_ALL_BLOCKS="Delete all %1 blocks?";h.L.DELETE_BLOCK="Delete Block";h.L.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";h.L.DELETE_X_BLOCKS="Delete %1 Blocks";h.L.DIALOG_CANCEL="Cancel";h.L.DIALOG_OK="OK";
h.L.DISABLE_BLOCK="Disable Block";h.L.DUPLICATE_BLOCK="Duplicate";h.L.DUPLICATE_COMMENT="Duplicate Comment";h.L.ENABLE_BLOCK="Enable Block";h.L.EXPAND_ALL="Expand Blocks";h.L.EXPAND_BLOCK="Expand Block";h.L.EXTERNAL_INPUTS="External Inputs";h.L.HELP="Help";h.L.INLINE_INPUTS="Inline Inputs";h.L.NEW_VARIABLE="Create variable...";h.L.NEW_VARIABLE_TITLE="New variable name:";h.L.PROCEDURES_DEFNORETURN_PROCEDURE="do something";h.L.REDO="Redo";h.L.REMOVE_COMMENT="Remove Comment";h.L.RENAME_VARIABLE="Rename variable...";
h.L.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";h.L.UNDO="Undo";h.L.UNNAMED_KEY="unnamed";h.L.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";h.L.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";h.L.WORKSPACE_ARIA_LABEL="Blockly Workspace";h.L.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";h.L.PROCEDURES_DEFRETURN_PROCEDURE=h.L.PROCEDURES_DEFNORETURN_PROCEDURE;var BlocklyStorage={},jd=null,kd=null;function ld(){var a=jd();nd("xml="+encodeURIComponent(a))}var X={};function nd(a){var c=od;X["/storage"]&&X["/storage"].abort();X["/storage"]=new XMLHttpRequest;X["/storage"].onload=function(){200===this.status?c&&c.call(this):pd(V("Games_httpRequestError")+"\nXHR status: "+this.status);X["/storage"]=null};X["/storage"].open("POST","/storage");X["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");X["/storage"].send(a)}
function od(){window.location.hash=this.responseText.trim();pd(V("Games_linkAlert").replace("%1",window.location.href));kd=jd()}function pd(a){if("object"===typeof Y){var c=document.getElementById("linkButton");Y.iD(c,a)}else alert(a)};var y=null,qd="";function rd(){Kc();var a=document.getElementById("linkButton");a&&(Bc?a.style.display="none":(jd=sd,Pc(a,ld)));(a=document.getElementById("languageMenu"))&&a.addEventListener("change",td,!0)}function sd(){var a=h.I.xD();if(1==y.fc(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return h.I.Be(a)}function ud(){"object"==typeof BlocklyStorage&&null!==kd&&kd!=sd()&&(window.location.hash="",kd=null)}
function vd(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;y=h.rg("blockly",a);y.xf.push(ud)}function wd(){window.location=(Bc?"index.html":"./")+"?lang="+zc}
function td(){window.sessionStorage&&(window.sessionStorage.Fv=sd());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function xd(){10>U?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+zc+"&level="+(U+1):wd()}function yd(){var a="".replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")};var Y={vf:!1,Au:null,Tm:null,Cl:function(a,c,d,e,f,g){function k(){if(Y.vf){l.style.visibility="visible";l.style.zIndex=10;m.style.visibility="hidden";var q=a.getElementsByClassName("primary");q.length||(q=a.getElementsByClassName("secondary"),q.length||(q=a.getElementsByTagName("button")));q.length&&q[0].focus()}}if(!a)throw TypeError("Content not found: "+a);Y.vf&&Y.Dh(!1);h.yh()&&h.hc(!0);Y.vf=!0;Y.Au=c;Y.Tm=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=
document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),e.id="dialogHeader",l.appendChild(e),Y.Op=h.op(e,"mousedown",null,Y.tA));f=a.getElementsByClassName("dialogOk");for(e=0;e<f.length;e++)f[e].textContent=h.L.DIALOG_OK;f=a.getElementsByClassName("dialogCancel");for(e=0;e<f.length;e++)f[e].textContent=h.L.DIALOG_CANCEL;l.appendChild(a);a.className=a.className.replace("dialogHiddenContent",
"");try{c.blur()}catch(q){}d&&c?(Y.An(c,!1,.2),Y.An(l,!0,.8),setTimeout(k,175)):k()},Bu:0,Cu:0,tA:function(a){Y.Rp();if(!h.g.Vk(a)){var c=document.getElementById("dialog");Y.Bu=c.offsetLeft-a.clientX;Y.Cu=c.offsetTop-a.clientY;Y.Qp=h.op(document,"mouseup",null,Y.Rp);Y.Pp=h.op(document,"mousemove",null,Y.uA);a.stopPropagation()}},uA:function(a){var c=document.getElementById("dialog"),d=Y.Bu+a.clientX;a=Y.Cu+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=
Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Rp:function(){Y.Qp&&(h.ks(Y.Qp),Y.Qp=null);Y.Pp&&(h.ks(Y.Pp),Y.Pp=null)},Dh:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(Y.vf){Y.Rp();Y.Op&&(h.ks(Y.Op),Y.Op=null);Y.vf=!1;Y.Tm&&Y.Tm();Y.Tm=null;var d=!1===a?null:Y.Au;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?
(Y.An(a,!1,.8),Y.An(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},An:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=g.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),g=Y.NA(a);c?(f.className="dialogAnimate",
setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},NA:function(a){var c=h.g.style.zh(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},iD:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");
Y.Cl(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},Y.ds);Y.$r()},wz:function(){if(!Lc(U))if(Y.vf||y.bd())setTimeout(Y.wz,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",Y.Dh,!0);c.addEventListener("touchend",Y.Dh,!0);c=document.getElementById("abortOk");c.addEventListener("click",wd,!0);c.addEventListener("touchend",wd,!0);Y.Cl(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",
Y.Qt,!0)});document.body.addEventListener("keydown",Y.Qt,!0)}},YG:function(){var a=document.getElementById("dialogDone");if(y){var c=document.getElementById("dialogLinesText");c.textContent="";var d=yd();var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=
d);d=1==e?V("Games_linesOfCode1"):V("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d=10>U?V("Games_nextLevel").replace("%1",String(U+1)):V("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",Y.Dh,!0);c.addEventListener("touchend",Y.Dh,!0);c=document.getElementById("doneOk");c.addEventListener("click",xd,!0);c.addEventListener("touchend",xd,!0);Y.Cl(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",
Y.mu,!0)});document.body.addEventListener("keydown",Y.mu,!0);document.getElementById("dialogDoneText").textContent=d},Um:function(a){!Y.vf||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(Y.Dh(!0),a.stopPropagation(),a.preventDefault())},$r:function(){document.body.addEventListener("keydown",Y.Um,!0)},ds:function(){document.body.removeEventListener("keydown",Y.Um,!0)},mu:function(a){Y.Um(a);13!=a.keyCode&&32!=a.keyCode||xd()},Qt:function(a){Y.Um(a);13!=a.keyCode&&32!=a.keyCode||wd()}};
window.BlocklyDialogs=Y;Y.hideDialog=Y.Dh;var zd=zd||{};function Ad(a,c){function d(){}d.prototype=c.prototype;a.v=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.JG=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}}if(!Bd){var Bd,Cd="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(Cd=navigator.userAgent);var Dd=0==Cd.indexOf("Opera");Bd={JH:{GE:"ScriptEngine"in window},LF:Dd,Ld:!Dd&&-1!=Cd.indexOf("MSIE"),Kt:!Dd&&-1!=Cd.indexOf("WebKit")}}if(!Ed)var Ed={};
if(!Fd)var Fd={};if(!Gd)var Gd={};if(!Hd)var Hd={};if(!Id)var Id={};if(!Jd)var Jd={};var Kd=zd.sx?{VH:!0}:{},Ld=zd.sx?{WH:!0}:{};function Md(){throw Error("Do not instantiate directly");}Md.prototype.tu=null;Md.prototype.toString=function(){return this.content};function Nd(a){if(null!=a)switch(a.tu){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Od(){Md.call(this)}Ad(Od,Md);Od.prototype.uu=Kd;
function Z(a){return null!=a&&a.uu===Kd?a:Pd(String(String(a)).replace(Qd,Rd),Nd(a))}var Pd=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.tu=e);return f}}(Od),Sd={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};
function Rd(a){return Sd[a]}var Qd=/[\x00\x22\x26\x27\x3c\x3e]/g;function Td(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary dialogOk" onclick="BlocklyDialogs.hideDialog(true)"></button></div>'};function Ud(){var a={lang:zc,rB:Bc},c='<table width="100%"><tr><td><h1><span id="title">'+((a.rB?'<a href="index.html?lang='+Z(a.lang)+'">':'<a href="./?lang='+Z(a.lang)+'">')+"Blockly Games</a> : "+Z("Puzzle")+"</span>");if(a.level){for(var d=" &nbsp; ",e=a.MB+1,f=1;f<e;f++){var g="?lang="+Z(a.lang)+"&level="+Z(f);d+=" "+(f==a.level?'<span class="level_number level_done" id="level'+Z(f)+'">'+Z(f)+"</span>":f==a.MB?'<a class="level_number" id="level'+Z(f)+'" href="'+Z(g)+'">'+Z(f)+"</a>":'<a class="level_dot" id="level'+
Z(f)+'" href="'+Z(g)+'"></a>')}a=d}else a="";return'<div style="display: none"><span id="Puzzle_animal1">Duck</span><span id="Puzzle_animal1Pic">duck.jpg</span><span id="Puzzle_animal1PicHeight">70</span><span id="Puzzle_animal1PicWidth">100</span><span id="Puzzle_animal1Legs">&nbsp;&nbsp;2&nbsp;&nbsp;</span><span id="Puzzle_animal1Trait1">Feathers</span><span id="Puzzle_animal1Trait2">Beak</span><span id="Puzzle_animal1HelpUrl">https://en.wikipedia.org/wiki/Duck</span><span id="Puzzle_animal2">Cat</span><span id="Puzzle_animal2Pic">cat.jpg</span><span id="Puzzle_animal2PicHeight">70</span><span id="Puzzle_animal2PicWidth">100</span><span id="Puzzle_animal2Legs">&nbsp;&nbsp;4&nbsp;&nbsp;</span><span id="Puzzle_animal2Trait1">Whiskers</span><span id="Puzzle_animal2Trait2">Fur</span><span id="Puzzle_animal2HelpUrl">https://en.wikipedia.org/wiki/Cat</span><span id="Puzzle_animal3">Bee</span><span id="Puzzle_animal3Pic">bee.jpg</span><span id="Puzzle_animal3PicHeight">70</span><span id="Puzzle_animal3PicWidth">100</span><span id="Puzzle_animal3Legs">&nbsp;&nbsp;6&nbsp;&nbsp;</span><span id="Puzzle_animal3Trait1">Honey</span><span id="Puzzle_animal3Trait2">Stinger</span><span id="Puzzle_animal3HelpUrl">https://en.wikipedia.org/wiki/Bee</span><span id="Puzzle_animal4">Snail</span><span id="Puzzle_animal4Pic">snail.jpg</span><span id="Puzzle_animal4PicHeight">70</span><span id="Puzzle_animal4PicWidth">100</span><span id="Puzzle_animal4Legs">&nbsp;&nbsp;0&nbsp;&nbsp;</span><span id="Puzzle_animal4Trait1">Shell</span><span id="Puzzle_animal4Trait2">Slime</span><span id="Puzzle_animal4HelpUrl">https://en.wikipedia.org/wiki/Snail</span><span id="Puzzle_picture">picture:</span><span id="Puzzle_legs">legs:</span><span id="Puzzle_legsChoose">choose...</span><span id="Puzzle_traits">traits:</span><span id="Puzzle_error0">Perfect!\\nAll %1 blocks are correct.</span><span id="Puzzle_error1">Almost! One block is incorrect.</span><span id="Puzzle_error2">%1 blocks are incorrect.</span><span id="Puzzle_tryAgain">The highlighted block is not correct.\\nKeep trying.</span></div>'+
(c+a+'</h1></td><td id="header_cta" class="farSide"><select id="languageMenu"></select>&nbsp;<button id="helpButton">Help</button>&nbsp;'+('<button id="checkButton" class="primary">Check Answers</button>'.uu===Ld?"zSoyz":'<button id="checkButton" class="primary">Check Answers</button>')+'</td></tr></table><div id="blockly"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">For each animal (green), attach its picture, choose its number of legs, and make a stack of its traits.</div><div id="sample" class="readonly"></div>')+
Td()+'</div><div id="answers" class="dialogHiddenContent"><div id="answerMessage"></div><div id="graph"><div id="graphValue"></div></div>'+Td()+"</div>"};h.eb=function(a,c,d){"function"!=typeof a&&h.eb.Nw(a);this.dl=a;this.fs=this.Er=this.dn=null;a=this.dl;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=h.g.Nc(g):(null!=g.alt&&(a[f][0].alt=h.g.Nc(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=h.g.Qa.Wr(e);g=h.g.Qa.bA(e,f);var k=h.g.Qa.cA(e,f);!g&&!k||f<=g+k||(g&&(this.Er=e[0].substring(0,g-1)),k&&(this.fs=e[0].substr(1-k)),this.dl=h.eb.Gz(a,g,k))}}this.qj=this.getOptions(!1)[0];
h.eb.v.constructor.call(this,this.qj[1],c,d);this.vj=this.pd=this.Ac=this.Bc=this.xl=null};h.g.object.T(h.eb,h.kd);h.eb.$=function(a){return new h.eb(a.options,void 0,a)};h.eb.prototype.Fk=function(a){Ta(this)&&this.getOptions(!1);this.setValue(a.textContent)};h.eb.prototype.tt=!0;h.eb.OD=25;h.eb.mF=.45;h.eb.ky=5;h.eb.ly=2*h.eb.ky;h.eb.us=h.g.userAgent.Yl?"\u25bc":"\u25be";b=h.eb.prototype;b.Gj="default";
b.nn=function(){!this.aa().Ps||this.aa().Ps&&!this.J.Fa?xb(this):this.gu=this.J.za();yb(this);this.Ac=h.g.j.M(h.g.F.Eo,{},this.Ic);this.aa().Vx?(this.vj=h.g.j.M(h.g.F.Eo,{height:this.aa().Kj+"px",width:this.aa().Kj+"px"},this.Ic),this.vj.setAttributeNS(h.g.j.mh,"xlink:href",this.aa().Wx)):(this.pd=h.g.j.M(h.g.F.Dt,{},this.nc),this.pd.appendChild(document.createTextNode(this.J.K?h.eb.us+" ":" "+h.eb.us)),this.J.K?this.nc.insertBefore(this.pd,this.gi):this.nc.appendChild(this.pd));this.Eb&&h.g.j.Cb(this.Eb,
"blocklyDropdownRect")};
b.ao=function(a){var c=new h.No;c.Og(h.g.pb.sm.vy);this.Bc=c;var d=this.getOptions(!1);this.xl=null;for(var e=0;e<d.length;e++){var f=d[e][0],g=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new h.Oo(f,g);f.Og(h.g.pb.sm.Hy);f.Qr=this.J.K;f.Bp=!0;c.Zd.push(f);f.Cp=g==this.Te;g==this.Te&&(this.xl=f);Qb(f,this.jB,this)}this.Bc.xr=a&&"number"===typeof a.clientX?new h.g.O(a.clientX,a.clientY):null;this.Bc.Ea(h.B.VA());h.g.j.Cb(this.Bc.Ua,"blocklyDropdownMenu");
this.aa().Ux&&(a=this.J.Fa?this.J.getParent().pq():this.J.pq(),c=this.J.Fa?this.J.getParent().style.Ri:this.J.style.Ri,h.B.Oe(a,c));h.B.aD(this,this.AA.bind(this));this.Bc.focus();this.xl&&this.Bc.Ef(this.xl);this.Vb()};b.AA=function(){this.Bc&&this.Bc.H();this.xl=this.Bc=null;this.Vb()};b.jB=function(a){h.B.Ok(this,!0);this.setValue(a.getValue())};h.eb.Gz=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};
function Ta(a){return"function"==typeof a.dl}b=h.eb.prototype;b.getOptions=function(a){return Ta(this)?(this.dn&&a||(this.dn=this.dl.call(this),h.eb.Nw(this.dn)),this.dn):this.dl};b.Ym=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.J&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.J.type+", Field name: "+this.name+", Value: "+a),null)};
b.xk=function(a){h.eb.v.xk.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.Te&&(this.qj=d)};b.Vb=function(){this.Eb&&(this.Eb.setAttribute("stroke",this.J.style.Ri),this.Bc?this.Eb.setAttribute("fill",this.J.style.Ri):this.Eb.setAttribute("fill","transparent"));this.J&&this.pd&&(this.pd.style.fill=this.J.Fa?this.J.style.Km:this.J.style.ph)};
b.Mr=function(){this.gi.nodeValue="";this.Ac.style.display="none";var a=this.qj&&this.qj[0];if(a&&"object"==typeof a){this.Ac.style.display="";this.Ac.setAttributeNS(h.g.j.mh,"xlink:href",a.src);this.Ac.setAttribute("height",a.height);this.Ac.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.Eb,e=Math.max(d?this.aa().Os:0,c+h.eb.ly);d=d?this.aa().Jj:0;var f=this.vj?Vd(this,a+d,e/2-this.aa().Kj/2):h.g.j.rq(this.pd,this.aa().dh,this.aa().Pf,this.aa().Of);this.mc.width=
a+f+2*d;this.mc.height=e;var g=0;this.J.K?this.Ac.setAttribute("x",d+f):(g=a+f,this.nc.setAttribute("text-anchor","end"),this.Ac.setAttribute("x",d));this.Ac.setAttribute("y",e/2-c/2);Ab(this,g+d,a+f)}else this.gi.nodeValue=zb(this),h.g.j.Cb(this.nc,"blocklyDropdownText"),this.nc.setAttribute("text-anchor","start"),e=!!this.Eb,c=Math.max(e?this.aa().Os:0,this.aa().mm),a=h.g.j.rq(this.nc,this.aa().dh,this.aa().Pf,this.aa().Of),e=e?this.aa().Jj:0,d=0,this.vj&&(d=Vd(this,a+e,c/2-this.aa().Kj/2)),this.mc.width=
a+d+2*e,this.mc.height=c,Ab(this,e,a);Bb(this)};function Vd(a,c,d){if(!a.vj)return 0;var e=a.Eb?a.aa().Jj:0,f=a.aa().Xx,g=a.aa().Kj;a.vj.setAttribute("transform","translate("+(a.J.K?e:c+f)+","+d+")");return g+f}b.zq=function(){if(!this.qj)return null;var a=this.qj[0];return"object"==typeof a?a.alt:a};
h.eb.Nw=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};h.mg.register("field_dropdown",h.eb);h.Kd=function(a,c,d,e,f,g,k){if(!a)throw Error("Src value of an image field is required");a=h.g.Nc(a);d=Number(h.g.Nc(d));c=Number(h.g.Nc(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.Ek=!1;this.Bm="";h.Kd.v.constructor.call(this,a,null,k);k||(this.Ek=!!g,this.Bm=h.g.Nc(e)||"");this.mc=new h.g.Vc(c,d+h.Kd.rz);this.vB=d;this.kf=null;"function"==
typeof f&&(this.kf=f);this.Ac=null};h.g.object.T(h.Kd,h.kd);h.Kd.prototype.wo="";h.Kd.$=function(a){return new h.Kd(a.src,a.width,a.height,void 0,void 0,void 0,a)};h.Kd.rz=1;b=h.Kd.prototype;b.Ij=!1;b.tg=!1;b.kk=function(a){h.Kd.v.kk.call(this,a);this.Ek=!!a.flipRtl;this.Bm=h.g.Nc(a.alt)||""};b.nn=function(){this.Ac=h.g.j.M(h.g.F.Eo,{height:this.vB+"px",width:this.mc.width+"px",alt:this.Bm},this.Ic);this.Ac.setAttributeNS(h.g.j.mh,"xlink:href",this.Te);this.kf&&(this.Ac.style.cursor="pointer")};
b.Mw=function(){};b.Ym=function(a){return"string"!=typeof a?null:a};b.xk=function(a){this.Te=a;this.Ac&&this.Ac.setAttributeNS(h.g.j.mh,"xlink:href",String(this.Te))};b.Su=function(){return this.Ek};b.ao=function(){this.kf&&this.kf(this)};b.zq=function(){return this.Bm};h.mg.register("field_image",h.Kd);h.$b.animal={Wa:function(){this.Oe(120);N(Kb(this),"","NAME");N(Gb(this.nh(h.Ja.te,"PIC"),h.rs),V("Puzzle_picture"));N(N(Gb(Kb(this),h.rs),V("Puzzle_legs")),new h.eb(Wd),"LEGS");N(this.nh(h.Ja.Uc,"TRAITS"),V("Puzzle_traits"));this.Mg(!1)},lc:function(){var a=document.createElement("mutation");a.setAttribute("animal",this.od);return a},Zc:function(a){this.Zh(parseInt(a.getAttribute("animal"),10))},od:0,Zh:function(a){this.od=a;Ib(this,V("Puzzle_animal"+a));this.Ch=V("Puzzle_animal"+a+"HelpUrl")},Oq:function(){return Ka(this,
"LEGS")==this.od}};h.$b.picture={Wa:function(){this.Oe(30);Kb(this,"PIC");this.Wn(!0);this.Pg("")},lc:h.$b.animal.lc,Zc:h.$b.animal.Zc,od:0,Zh:function(a){this.od=a;var c="puzzle/"+V("Puzzle_animal"+a+"Pic"),d=V("Puzzle_animal"+a+"PicHeight");a=V("Puzzle_animal"+a+"PicWidth");N(ka(this,"PIC"),new h.Kd(c,a,d))},Oq:function(){var a=this.getParent();return a&&a.od==this.od}};
h.$b.trait={Wa:function(){this.Oe(290);N(Kb(this),"","NAME");this.Yn(!0);this.Vn(!0)},lc:function(){var a=document.createElement("mutation");a.setAttribute("animal",this.od);a.setAttribute("trait",this.Hw);return a},Zc:function(a){this.Zh(parseInt(a.getAttribute("animal"),10),parseInt(a.getAttribute("trait"),10))},od:0,Hw:0,Zh:function(a,c){this.od=a;this.Hw=c;Ib(this,V("Puzzle_animal"+a+"Trait"+c))},Oq:function(){var a=Hb(this);return a&&a.od==this.od}};var Nc="puzzle";function Xd(a){for(var c=a.length-1;0<c;c--){var d=Math.floor(Math.random()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}}function Wd(){for(var a=[[V("Puzzle_legsChoose"),"0"]],c=1,d;d=Oc("Puzzle_animal"+c+"Legs");)a[c]=[d,String(c)],c++;a.sort(function(e,f){return e[0]-f[0]});return a}
function Yd(){for(var a=I(y),c=0,d=[],e=0,f;f=a[e];e++)f.Oq()||(c++,f.select(),d.push(f));var g=document.getElementById("graphValue");setTimeout(function(){g.style.width=100*(a.length-c)/a.length+"px"},500);1==c?e=[V("Puzzle_error1"),V("Puzzle_tryAgain")]:c?e=[V("Puzzle_error2").replace("%1",c),V("Puzzle_tryAgain")]:(e=[V("Puzzle_error0").replace("%1",a.length)],qd=sd(),window.localStorage&&(window.localStorage[Nc+U]=qd));f=document.getElementById("answerMessage");f.textContent="";for(var k=0;k<e.length;k++){var l=
document.createElement("div");l.appendChild(document.createTextNode(e[k]));f.appendChild(l)}e=document.getElementById("answers");f=document.getElementById("checkButton");Y.Cl(e,f,!0,!0,{width:"25%",left:Dc()?"5%":"70%",top:"5em"},c?Y.ds:wd);Y.$r();if(d.length){Xd(d);var m=d[0],n=function(){m.select();Y.vf&&(setTimeout(function(){pb(m)},150),setTimeout(n,300))};n()}else setTimeout(Zd,2E3),h.selected&&pb(h.selected)}
function Zd(){y.ue.play("win",.5);y.options.Wb.Ce=!0;for(var a=y.fc(!1),c=0,d;d=a[c];c++)$d(d,c/a.length*360)}
function $d(a,c){if(Y.vf){var d=y.Fe(),e=d.oc/2,f=d.Zb/2,g=v(a);d=a.ab();Dc()&&(d.x-=g.width);var k=Math.max(175,Math.min(e,f)-Math.max(g.height,g.width)/2),l=Date.now(),m=c+l/50%360;k*=Math.sin(l%5E3/5E3*2*Math.PI)/8+.875;f=k*Math.cos(h.g.kc.ii(m))+f-g.width/2;g=k*Math.sin(h.g.kc.ii(m))+e-g.height/2;5>Math.sqrt(Math.pow(f-d.x,2)+Math.pow(g-d.y,2))?(e=f-d.x,d=g-d.y):(d=h.g.kc.mD(Math.atan2(g-d.y,f-d.x)),d%=360,0>d&&(d+=360),e=Math.round(5*Math.cos(h.g.kc.ii(d))),d=Math.round(5*Math.sin(h.g.kc.ii(d))));
a.moveBy(e,d);setTimeout($d.bind(null,a,c),50)}}
function ae(a){var c='<xml>;<block type="animal" x="5" y="5">;<mutation animal="1"></mutation>;<title name="LEGS">1</title>;<value name="PIC">;<block type="picture">;<mutation animal="1"></mutation>;</block>;</value>;<statement name="TRAITS">;<block type="trait">;<mutation animal="1" trait="2"></mutation>;<next>;<block type="trait">;<mutation animal="1" trait="1"></mutation>;</block>;</next>;</block>;</statement>;</block>;</xml>'.split(";"),d=document.getElementById("sample");d.firstChild||(d=h.rg(d,
{rtl:Dc(),readOnly:!0}),"string"!=typeof c&&(c=c.join("")),h.I.lg(h.I.Se(c),d));c=document.getElementById("help");d=document.getElementById("helpButton");Y.Cl(c,d,a,!0,{width:"50%",left:"25%",top:"5em"},Y.ds);Y.$r()}
window.addEventListener("load",function(){function a(){d.style.width=window.innerWidth-20+"px";d.style.height=window.innerHeight-d.offsetTop-15+"px"}document.body.innerHTML=Ud();rd();var c=Dc(),d=document.getElementById("blockly");a(null);window.addEventListener("resize",a);vd({rtl:c,scrollbars:!1,trashcan:!1});var e=Lc(U);try{var f=window.sessionStorage.Fv}catch(t){f=null}if(f)delete window.sessionStorage.Fv,c=h.I.Se(f),h.I.lg(c,y);else if(e)c=h.I.Se(e),h.I.lg(c,y);else{var g=[],k=[],l=[];f=1;for(var m;Oc("Puzzle_animal"+
f);){m=y.oj("animal");m.Zh(f);g.push(m);m=y.oj("picture");m.Zh(f);k.push(m);for(var n=1;Oc("Puzzle_animal"+f+"Trait"+n);)m=y.oj("trait"),m.Zh(f,n),l.push(m),n++;f++}Xd(g);Xd(k);Xd(l);g=[].concat(g,k,l);c&&g.reverse();for(f=0;m=g[f];f++)m.Mp=!1,m.Ih(),m.Ea();for(f=k=0;m=g[f];f++)l=m.za().getBBox(),m.QG=l.width,m.PG=l.height,m.$t=l.width*l.height,k+=m.$t;h.Ml(y);n=nc(y);n.width-=50;n.height-=50;var q=0;for(f=0;m=g[f];f++){l=m.za().getBBox();var r=c?l.width+q/k*n.width:q/k*(n.width-l.width);r=Math.round(r+
50*Math.random());m.moveBy(r,Math.round(Math.random()*(n.height-l.height)));q+=m.$t}}Qa();Pc("checkButton",Yd);Pc("helpButton",function(){ae(!0)});e||ae(!1);h.ac*=2;h.Fs=h.ac;y.ue.load(["puzzle/win.mp3","puzzle/win.ogg"],"win")});

